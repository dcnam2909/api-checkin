{"version":3,"sources":["api/callApi.js","api/userApi.js","config/UserContext.jsx","components/Dashboard/LeftList.jsx","components/Dashboard/NavLeft.jsx","pages/Dashboard.jsx","components/Footer.jsx","router/PrivateRoute.jsx","router/PublicRoute.jsx","api/eventApi.js","components/Dashboard/MainContent/EventManager/ModalEditEvent.jsx","components/Dashboard/MainContent/EventManager/ModalAddVisiter.jsx","components/Dashboard/MainContent/EventManager/RowEvent.jsx","components/Dashboard/MainContent/EventManager/ModalAddEvent.jsx","components/Dashboard/MainContent/EventManager/EventManager.jsx","components/Dashboard/MainContent/Account.jsx","assets/images/logoSmall.png","api/authApi.js","pages/Auth/SignIn.jsx","pages/Auth/SignUp.jsx","components/Dashboard/MainContent/Admin.jsx","components/Dashboard/MainContent/EventList.jsx","components/Dashboard/MainContent/Agent/ModalQRCode.jsx","components/Dashboard/MainContent/Agent/ModalSetAgent.jsx","components/Dashboard/MainContent/Agent/RowAgent.jsx","components/Dashboard/MainContent/Agent/Agent.jsx","components/Dashboard/MainContent/Report/ModalReport.jsx","components/Dashboard/MainContent/Report/RowReport.jsx","components/Dashboard/MainContent/Report/Report.jsx","router/AppRoute.jsx","App.js","index.js"],"names":["callApi","axios","create","baseURL","headers","paramsSerializer","params","queryString","stringify","interceptors","response","use","data","error","Promise","reject","token","localStorage","getItem","UserContext","createContext","UserContextProvider","children","useState","user","setUser","useEffect","get","Authorization","then","res","Provider","value","LeftList","useContext","location","useLocation","checkRoles","role","includes","to","style","textDecoration","color","ListItem","button","selected","pathname","ListItemIcon","ListItemText","primary","AppBar","styled","MuiAppBar","shouldForwardProp","prop","theme","open","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","marginLeft","width","enteringScreen","Drawer","MuiDrawer","position","whiteSpace","boxSizing","overflowX","spacing","breakpoints","up","NavLeft","setOpen","toggleDrawer","Toolbar","sx","pr","minHeight","IconButton","edge","onClick","marginRight","display","Typography","component","variant","noWrap","flexGrow","fullName","alignItems","justifyContent","px","List","backgroundColor","ListItemButton","fontWeight","removeItem","window","Divider","Dashboard","Box","Footer","align","my","Date","getFullYear","PrivateRoute","auth","Component","rest","props","PublicRoute","pathRedirect","getOwnerEvent","ModalEditEvent","event","isOpenEdit","handleCloseEdit","handleUpdateEvent","useForm","register","handleSubmit","setValue","errors","formState","dateEvent","dateModal","setDateModal","typeEvent","setTypeEvent","openReg","dateOpenRegModal","setDateOpenRegModal","endReg","dateEndRegModal","setDateEndRegModal","Modal","top","left","transform","height","bgcolor","boxShadow","p","id","onSubmit","Grid","container","item","xs","md","sm","lg","TextField","fullWidth","name","helperText","type","label","defaultValue","required","LocalizationProvider","dateAdapter","AdapterDateFns","locale","enLocale","DatePicker","mask","onChange","newDate","renderInput","select","target","MenuItem","Button","ml","ModalAddVisiter","users","isOpenAddVisiter","handleCloseAddVisiter","handleAddVisiter","listVisitersCheckin","reduce","prevUser","curUser","push","visiter","checked","setChecked","searchFillter","setSearchFillter","handleFillterDebounce","debounce","e","Paper","InputBase","flex","placeholder","inputProps","overflow","marginTop","filter","username","match","map","labelId","_id","disablePadding","undefined","currentIndex","indexOf","newChecked","splice","dense","Checkbox","tabIndex","disableRipple","email","RowEvent","handleDeleteEvent","modalEditEvent","setModalEditEvent","modalAddVisiter","setModalAddVisiter","TableRow","hover","TableCell","format","el","isCheckin","length","size","ModalAddEvent","isOpen","handleClose","addNewEventState","now","post","addNewEvent","Swal","fire","icon","title","showConfirmButton","timer","catch","err","defaultCalendarMonth","EventManagerComponent","page","setPage","rowsPerPage","setRowsPerPage","date","setDate","events","setEvents","eventsFilter","setEventsFilter","modalAddEvent","setModalAddEvent","listUsers","setListUsers","document","toDateString","eventUpdate","dataUpdate","patch","eventsCopy","index","findIndex","Object","assign","eventDelete","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","listVisiter","Card","minWidth","mr","CardContent","fontSize","gutterBottom","Container","maxWidth","mb","pt","pb","flexDirection","TableContainer","maxHeight","Table","stickyHeader","TableHead","colSpan","newValue","TableBody","sort","eventA","eventB","slice","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","AccountComponent","setError","mt","currentPassword","newPassword","updateInfo","phone","address","workUnit","addressUnit","idCB","idSV","disabled","updatePassword","setTimeout","status","signIn","signUp","SignIn","setErr","signInSubmit","a","password","trim","setItem","src","Logo","alt","borderRadius","marginBottom","noValidate","margin","Link","href","SignUp","submitSignUp","confirmPassword","signUpData","message","startsWith","errStr","split","replace","minLength","maxLength","textAlign","AdminComponent","EventListComponent","ModalQRCode","modalQRCode","handleCloseModalQRCode","qrCode","qrCodeExpire","getQRCodeFN","timeLeft","setTimeLeft","countDown","setInterval","clearInterval","timeOut","elevation","Math","floor","toFixed","ModalSetAgent","isOpenSetAgent","handleCloseSetAgent","handleSetAgent","handleRemoveAgent","secondaryAction","owner","RowAgent","isAgent","setModalQRCode","modalSetAgent","setModalSetAgent","setQrCode","setQrCodeExpire","expire","setExpire","getQRCode","qrcode","expireIn","setHours","AgentComponent","listAgents","setListAgents","idEvent","idAgent","put","setAgent","removeAgent","ModalReport","modalReport","handleCloseModalReport","RowReport","setModalReport","report","setReport","ReportComponent","AppRoute","roles","exact","path","render","App","CssBaseline","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3a190a24.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport queryString from 'query-string';\r\n// const BASE_URL_LOCAL = 'http://localhost:8000/api';\r\nconst PRODUCT_URL = 'https://api-mcs-manager.herokuapp.com/api';\r\nconst callApi = axios.create({\r\n\tbaseURL: PRODUCT_URL,\r\n\theaders: {\r\n\t\t'Content-type': 'application/json',\r\n\t},\r\n\tparamsSerializer: (params) => queryString.stringify(params),\r\n});\r\n\r\ncallApi.interceptors.response.use(\r\n\tfunction (response) {\r\n\t\tif (response && response.data) {\r\n\t\t\treturn response.data;\r\n\t\t}\r\n\t\treturn response;\r\n\t},\r\n\tfunction (error) {\r\n\t\treturn Promise.reject(error.response);\r\n\t},\r\n);\r\n\r\nexport default callApi;\r\n","import callApi from './callApi';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nexport const getInfo = () =>\r\n\tcallApi.get('/user/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updateInfo = (data) =>\r\n\tcallApi.patch('/user/update', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updatePassword = (data) =>\r\n\tcallApi.patch('/user/changePassword', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n//This route for admin and manager\r\nexport const getAllVisisters = () =>\r\n\tcallApi.get('/admin/users/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllAgents = () =>\r\n\tcallApi.get('/admin/agents/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n","import { createContext, useEffect, useState } from 'react';\r\nimport { getInfo } from '../api/userApi';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = ({ children }) => {\r\n\tconst [user, setUser] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tgetInfo().then((res) => {\r\n\t\t\tsetUser(res.user);\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn <UserContext.Provider value={[user, setUser]}>{children}</UserContext.Provider>;\r\n};\r\n\r\nexport default UserContextProvider;\r\n","import ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport QrCodeIcon from '@mui/icons-material/QrCode';\r\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../../config/UserContext';\r\n\r\nfunction LeftList() {\r\n\tconst [user] = useContext(UserContext);\r\n\tconst location = useLocation();\r\n\tconst checkRoles = (...role) => {\r\n\t\treturn role.includes(user.role) ? true : false;\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/event\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Quản lý sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Manager', 'Agent') && (\r\n\t\t\t\t<NavLink to=\"/agent\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/agent'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<QrCodeIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"MCS Agent\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/report\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/report'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AnalyticsIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Báo cáo sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Visiter') && (\r\n\t\t\t\t<NavLink to=\"/list-event\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/list-event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<EventIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Danh sách sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Admin') && (\r\n\t\t\t\t<NavLink to=\"/admin\">\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/admin'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AdminPanelSettingsIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Admin\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default LeftList;\r\n","import { styled } from '@mui/material/styles';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport LeftList from './LeftList';\r\nimport { Divider, List, ListItemButton, ListItemIcon, ListItemText } from '@mui/material';\r\nimport MuiDrawer from '@mui/material/Drawer';\r\nimport MuiAppBar from '@mui/material/AppBar';\r\nimport { useContext, useState } from 'react';\r\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { UserContext } from '../../config/UserContext';\r\nconst drawerWidth = 240;\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n\tshouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n\tzIndex: theme.zIndex.drawer + 1,\r\n\ttransition: theme.transitions.create(['width', 'margin'], {\r\n\t\teasing: theme.transitions.easing.sharp,\r\n\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t}),\r\n\t...(open && {\r\n\t\tmarginLeft: drawerWidth,\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\r\n\t\ttransition: theme.transitions.create(['width', 'margin'], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t}),\r\n}));\r\n\r\nconst Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(\r\n\t({ theme, open }) => ({\r\n\t\t'& .MuiDrawer-paper': {\r\n\t\t\tposition: 'relative',\r\n\t\t\twhiteSpace: 'nowrap',\r\n\t\t\twidth: drawerWidth,\r\n\t\t\ttransition: theme.transitions.create('width', {\r\n\t\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t\t}),\r\n\t\t\tboxSizing: 'border-box',\r\n\t\t\t...(!open && {\r\n\t\t\t\toverflowX: 'hidden',\r\n\t\t\t\ttransition: theme.transitions.create('width', {\r\n\t\t\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\t\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t\t\t\t}),\r\n\t\t\t\twidth: theme.spacing(7),\r\n\t\t\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\t\t\twidth: theme.spacing(9),\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t},\r\n\t}),\r\n);\r\n\r\nfunction NavLeft() {\r\n\tconst [open, setOpen] = useState(true);\r\n\tconst toggleDrawer = () => {\r\n\t\tsetOpen(!open);\r\n\t};\r\n\r\n\tconst [user] = useContext(UserContext);\r\n\tconst logoutHandle = () => {\r\n\t\tlocalStorage.removeItem('token');\r\n\t\twindow.location = '/';\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppBar position=\"absolute\" open={open}>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tpr: '24px',\r\n\t\t\t\t\t\tminHeight: '64px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\t\t\tonClick={toggleDrawer}\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tmarginRight: '36px',\r\n\t\t\t\t\t\t\t...(open && { display: 'none' }),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\tsx={{ flexGrow: 1 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tXin chào, {user.fullName}!\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Drawer variant=\"permanent\" open={open}>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\tpx: [1],\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton onClick={toggleDrawer}>\r\n\t\t\t\t\t\t<ChevronLeftIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t\t<List sx={{ backgroundColor: 'rgb(25 118 210)' }}>\r\n\t\t\t\t\t<NavLink to=\"/account\" style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon sx={{ color: 'white' }} />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={'Thông tin ' + user.role}\r\n\t\t\t\t\t\t\t\tsx={{ fontWeight: 'bolder', color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<ListItemButton onClick={logoutHandle}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<LogoutIcon sx={{ color: 'white' }} />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary=\"Đăng xuất\"\r\n\t\t\t\t\t\t\tsx={{ fontWeight: 'bolder', color: 'white' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t</List>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<LeftList />\r\n\t\t\t\t</List>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default NavLeft;\r\n","import Box from '@mui/material/Box';\r\nimport NavLeft from '../components/Dashboard/NavLeft';\r\n\r\nexport default function Dashboard({ children }) {\r\n\treturn (\r\n\t\t<Box sx={{ display: 'flex' }}>\r\n\t\t\t<NavLeft />\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Typography } from '@mui/material';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" my={5}>\r\n\t\t\t{'Copyright © '}\r\n\t\t\t{'Dinh Chung Nam '}\r\n\t\t\t{new Date().getFullYear()}\r\n\t\t\t{'.'}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nimport DashBoard from '../pages/Dashboard';\r\nimport Footer from '../components/Footer';\r\n\r\nfunction PrivateRoute({ auth, component: Component, ...rest }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => {\r\n\t\t\t\treturn auth !== null ? (\r\n\t\t\t\t\t<DashBoard>\r\n\t\t\t\t\t\t<Component {...props}>\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</Component>\r\n\t\t\t\t\t</DashBoard>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import Footer from '../components/Footer';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction PublicRoute({ auth, component: Component, ...rest }) {\r\n\tconst pathRedirect = (role) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Manager':\r\n\t\t\t\treturn '/event';\r\n\t\t\tcase 'Agent':\r\n\t\t\t\treturn '/agent';\r\n\t\t\tcase 'Visiter':\r\n\t\t\t\treturn '/list-event';\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn '/admin';\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => {\r\n\t\t\t\treturn auth !== null ? (\r\n\t\t\t\t\t<Redirect to={pathRedirect(auth.role)} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PublicRoute;\r\n","import callApi from './callApi';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nexport const getOwnerEvent = () =>\r\n\tcallApi.get('/manager/event', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const addNewEvent = (data) =>\r\n\tcallApi.post('/manager/event', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updateEvent = (id, data) =>\r\n\tcallApi.patch(`/manager/event/${id}`, data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const deleteEvent = (id) =>\r\n\tcallApi.delete(`/manager/event/${id}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getQRCode = (id, expire) =>\r\n\tcallApi.get(`/event/${id}/qrcode`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t\tparams: { expire },\r\n\t});\r\n\r\nexport const addVisiters = (id, data) =>\r\n\tcallApi.patch(\r\n\t\t`/manager/event/${id}/addVisiters`,\r\n\t\t{ listVisiter: data },\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const setAgent = (idEvent, idAgent) =>\r\n\tcallApi.put(\r\n\t\t`/manager/event/${idEvent}/setAgent/${idAgent}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const removeAgent = (idEvent, idAgent) =>\r\n\tcallApi.put(\r\n\t\t`/manager/event/${idEvent}/removeAgent/${idAgent}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const getReport = (id) =>\r\n\tcallApi.get(`/event/${id}/report`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n","import { Button, Grid, MenuItem, Modal, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useForm } from 'react-hook-form';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { useState } from 'react';\r\n\r\nexport default function ModalEditEvent({ event, isOpenEdit, handleCloseEdit, handleUpdateEvent }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [dateModal, setDateModal] = useState(event.dateEvent);\r\n\tconst [typeEvent, setTypeEvent] = useState(event.typeEvent);\r\n\tconst [dateOpenRegModal, setDateOpenRegModal] = useState(event.openReg);\r\n\tconst [dateEndRegModal, setDateEndRegModal] = useState(event.endReg);\r\n\tconst update = (data) => {\r\n\t\thandleCloseEdit();\r\n\t\thandleUpdateEvent(event, data);\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenEdit}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title-edit\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThay đổi sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(update)}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.name ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.name && 'Vui lòng nhập tên sự kiện'}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tên sự kiện*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\tdefaultValue={event.name}\r\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.location ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.location && 'Vui lòng nhập địa điểm tổ chức sự kiện'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa điểm tổ chức*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\tdefaultValue={event.location}\r\n\t\t\t\t\t\t\t\t{...register('location', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={enLocale}>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày*\"\r\n\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateModal}\r\n\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\tsetDateModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\tsetValue('dateEvent', newDate);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.typeEvent ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.typeEvent && 'Vui lòng chọn loại sự kiện'}\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel=\"Loại sự kiện*\"\r\n\t\t\t\t\t\t\t\tvalue={typeEvent}\r\n\t\t\t\t\t\t\t\t{...register('typeEvent', { required: true })}\r\n\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\tsetTypeEvent(event.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'public'}>Sự Kiện Công Khai</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'private'}>Sự Kiện Riêng</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'restricted'}>Sự Kiện Hạn Chế</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{typeEvent === 'restricted' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày mở đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateOpenRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateOpenRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('openReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày kết thúc đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateEndRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateEndRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('endReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"success\" type=\"submit\">\r\n\t\t\t\t\t\t\tThay đổi\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseEdit}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCheckbox,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tListItem,\r\n\tListItemButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { debounce } from 'throttle-debounce';\r\nexport default function ModalAddVisiter({\r\n\tevent,\r\n\tusers,\r\n\tisOpenAddVisiter,\r\n\thandleCloseAddVisiter,\r\n\thandleAddVisiter,\r\n}) {\r\n\tconst [checked, setChecked] = useState(\r\n\t\tevent.listVisitersCheckin.reduce((prevUser, curUser) => {\r\n\t\t\tprevUser.push(curUser.visiter);\r\n\t\t\treturn prevUser;\r\n\t\t}, []),\r\n\t);\r\n\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tconst handleToggle = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [...checked];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tnewChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\r\n\t\tsetChecked(newChecked);\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenAddVisiter}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Người Tham Dự\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper\r\n\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\tsx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: '100%' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\tconst labelId = `checkbox-list-label-${user._id}`;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={user._id} disablePadding>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\t\t\t\t\trole={undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleToggle(user._id)}\r\n\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={checked.indexOf(user._id) !== -1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={labelId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{user.username}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#0000FF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#2e7d32' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleCloseAddVisiter();\r\n\t\t\t\t\t\t\t\thandleAddVisiter(event, checked);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseAddVisiter}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport { format } from 'date-fns';\r\nimport ModalEditEvent from './ModalEditEvent';\r\nimport { useState } from 'react';\r\nimport ModalAddVisiter from './ModalAddVisiter';\r\nexport default function RowEvent({\r\n\tevent,\r\n\tusers,\r\n\thandleDeleteEvent,\r\n\thandleUpdateEvent,\r\n\thandleAddVisiter,\r\n}) {\r\n\tconst [modalEditEvent, setModalEditEvent] = useState(false);\r\n\tconst [modalAddVisiter, setModalAddVisiter] = useState(false);\r\n\tconst handleOpenModalEditEvent = () => setModalEditEvent(true);\r\n\tconst handleCloseModalEditEvent = () => {\r\n\t\tsetModalEditEvent(false);\r\n\t};\r\n\tconst handleOpenModalAddVisiter = () => setModalAddVisiter(true);\r\n\tconst handleCloseModalAddVisiter = () => {\r\n\t\tsetModalAddVisiter(false);\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{format(new Date(event.dateEvent), 'dd/MM/yyyy')}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'private' && 'Sự kiện riêng'}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.openReg ? format(new Date(event.openReg), 'dd/MM/yyyy') : ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.endReg ? format(new Date(event.endReg), 'dd/MM/yyyy') : ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false)\r\n\t\t\t\t\t\t\t.length\r\n\t\t\t\t\t: 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t{event.typeEvent !== 'public' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tonClick={handleOpenModalAddVisiter}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{modalAddVisiter && (\r\n\t\t\t\t\t\t\t<ModalAddVisiter\r\n\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\tisOpenAddVisiter={modalAddVisiter}\r\n\t\t\t\t\t\t\t\thandleCloseAddVisiter={handleCloseModalAddVisiter}\r\n\t\t\t\t\t\t\t\thandleAddVisiter={handleAddVisiter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={handleOpenModalEditEvent}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalEditEvent && (\r\n\t\t\t\t\t<ModalEditEvent\r\n\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\tisOpenEdit={modalEditEvent}\r\n\t\t\t\t\t\thandleCloseEdit={handleCloseModalEditEvent}\r\n\t\t\t\t\t\thandleUpdateEvent={handleUpdateEvent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleDeleteEvent(event);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteForeverIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import { Button, Grid, MenuItem, Modal, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Swal from 'sweetalert2';\r\nimport { useForm } from 'react-hook-form';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { useState } from 'react';\r\nimport { addNewEvent } from '../../../../api/eventApi';\r\n\r\nexport default function ModalAddEvent({ isOpen, handleClose, addNewEventState }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [dateModal, setDateModal] = useState(Date.now());\r\n\tconst [dateOpenRegModal, setDateOpenRegModal] = useState(Date.now());\r\n\tconst [dateEndRegModal, setDateEndRegModal] = useState(Date.now());\r\n\tconst [typeEvent, setTypeEvent] = useState('');\r\n\tconst handleAddNewEvent = (data) => {\r\n\t\taddNewEvent(data)\r\n\t\t\t.then((res) => {\r\n\t\t\t\taddNewEventState(res.event);\r\n\t\t\t\thandleClose();\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: 'Thêm sự kiện mới thành công',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\thandleClose();\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: 'Có lỗi xảy ra vui lòng thử lại',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpen}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Sự Kiện Mới\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(handleAddNewEvent)}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.name ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.name && 'Vui lòng nhập tên sự kiện'}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tên sự kiện*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.location ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.location && 'Vui lòng nhập địa điểm tổ chức sự kiện'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa điểm tổ chức*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t{...register('location', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={enLocale}>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày tổ chức sự kiện*\"\r\n\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateModal}\r\n\t\t\t\t\t\t\t\t\tdefaultCalendarMonth\r\n\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\tsetDateModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\tsetValue('dateEvent', newDate);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.typeEvent ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.typeEvent && 'Vui lòng chọn loại sự kiện'}\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel=\"Loại sự kiện*\"\r\n\t\t\t\t\t\t\t\tvalue={typeEvent}\r\n\t\t\t\t\t\t\t\t{...register('typeEvent', { required: true })}\r\n\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\tsetTypeEvent(event.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'public'}>Sự Kiện Công Khai</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'private'}>Sự Kiện Riêng</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'restricted'}>Sự Kiện Hạn Chế</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t{typeEvent === 'restricted' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày mở đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateOpenRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateOpenRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('openReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày kết thúc đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateEndRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateEndRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('endReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"success\" type=\"submit\">\r\n\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { addVisiters, getOwnerEvent } from '../../../../api/eventApi';\r\nimport { deleteEvent, updateEvent } from '../../../../api/eventApi';\r\nimport { getAllVisisters } from '../../../../api/userApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport RowEvent from './RowEvent';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport ModalAddEvent from './ModalAddEvent';\r\nimport Swal from 'sweetalert2';\r\nfunction EventManagerComponent({ children }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tconst [modalAddEvent, setModalAddEvent] = useState(false);\r\n\tconst [listUsers, setListUsers] = useState([]);\r\n\tconst handleOpenModalAddEvent = () => setModalAddEvent(true);\r\n\tconst handleCloseModalAddEvent = () => setModalAddEvent(false);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý sự kiện';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\tgetAllVisisters().then((res) => setListUsers(res.users));\r\n\t\treturn () => {\r\n\t\t\tsetListUsers([]);\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst addNewEventState = (event) => {\r\n\t\tsetEvents([...events, event]);\r\n\t};\r\n\tconst handleUpdateEvent = (eventUpdate, dataUpdate) => {\r\n\t\tupdateEvent(eventUpdate._id, dataUpdate)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((event) => event._id === eventUpdate._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thay đổi thành công sự kiện ${eventUpdate.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thay đổi sự kiện ${eventUpdate.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleDeleteEvent = (eventDelete) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Bạn có chắc muốn xóa sự kiện này ?',\r\n\t\t\ttext: 'Hành động này không thể quay lại, bạn có chắc không?',\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#1976d2',\r\n\t\t\tcancelButtonColor: '#d32f2f',\r\n\t\t\tconfirmButtonText: 'Đồng ý',\r\n\t\t\tcancelButtonText: 'Hủy',\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tdeleteEvent(eventDelete._id)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetEvents(events.filter((event) => event._id !== eventDelete._id));\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: `Đã xóa sự kiện ${eventDelete.name}`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi xóa sự kiện ${eventDelete.name}! Vui lòng thử lại`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleAddVisiter = (eventUpdate, listVisiter) => {\r\n\t\taddVisiters(eventUpdate._id, listVisiter)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((event) => event._id === eventUpdate._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thêm thành công ${listVisiter.length} người vào sự kiện ${eventUpdate.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thêm người tham dự sự kiện ${eventUpdate.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, thay đổi, thêm mới, xóa sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={1} align=\"left\" sx={{ p: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleOpenModalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tThêm sự kiện mới\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{modalAddEvent && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ModalAddEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpen={modalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose={handleCloseModalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddNewEventState={addNewEventState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mở đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kết thúc đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '260px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers={listUsers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteEvent={handleDeleteEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleUpdateEvent={handleUpdateEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddVisiter={handleAddVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default EventManagerComponent;\r\n","import { Box } from '@mui/system';\r\nimport { Button, Container, Grid, Paper, Toolbar } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useContext, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport { updateInfo, updatePassword } from '../../../api/userApi';\r\nimport { UserContext } from '../../../config/UserContext';\r\nimport Swal from 'sweetalert2';\r\nfunction AccountComponent({ children }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetError,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [user, setUser] = useContext(UserContext);\r\n\tconst submitForm = (data) => {\r\n\t\tconst { currentPassword, newPassword, ...newInfo } = data;\r\n\t\tupdateInfo(newInfo).then((res) => {\r\n\t\t\tsetUser(res.user);\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'middle',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: 'Thay đổi thông tin thành công',\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst changePassword = (data) => {\r\n\t\tconst { currentPassword, newPassword } = data;\r\n\t\tupdatePassword({ currentPassword, newPassword })\r\n\t\t\t.then(() => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'middle',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: 'Thay đổi mật khẩu thành công. Vui lòng đăng nhập lại.',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location = '/';\r\n\t\t\t\t}, 2000);\r\n\t\t\t})\r\n\t\t\t.catch((err) => err.status === 401 && setError('currentPassword'));\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Thông tin tài khoản';\r\n\t}, []);\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\t\tml: 2,\r\n\t\t\t\t\t\tmr: 2,\r\n\t\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\t\tThông tin người dùng\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\t\tHoàn thiện hoặc thay đổi thông tin\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\tsx={{ mr: 10, ml: 10, mt: 2 }}\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(submitForm)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Họ và tên\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('fullName')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.fullName}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('phone')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.phone}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('address')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.address}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Đơn vị công tác\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('workUnit')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.workUnit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={8} md={8} lg={8}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ đơn vị công tác\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('addressUnit')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.addressUnit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={6} md={12} sm={12} lg={6}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mã số cán bộ\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('idCB')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.idCB}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={6} md={12} sm={12} lg={6}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mã số sinh viên\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('idSV')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.idSV}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.username}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tsx={{ mt: 6, mb: 2 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLưu thông tin\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\tsx={{ mr: 10, ml: 10, mt: 5 }}\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(changePassword)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={3} display=\"flex\" height=\"150px\">\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password hiện tại\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('currentPassword')}\r\n\t\t\t\t\t\t\t\t\t\t\terror={errors.currentPassword ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrors.currentPassword &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Password hiện tại không chính xác'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password mới\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('newPassword')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\">\r\n\t\t\t\t\t\t\t\t\t\t\tThay đổi password\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default AccountComponent;\r\n","export default __webpack_public_path__ + \"static/media/logoSmall.a4327cd4.png\";","import callApi from './callApi';\r\n\r\nexport const signIn = (data) => callApi.post('/auth/signin', data);\r\nexport const signUp = (data) => callApi.post('/auth/signup', data);\r\n","import { Button, Container, Grid, Link, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Logo from '../../assets/images/logoSmall.png';\r\nimport { useForm } from 'react-hook-form';\r\nimport { signIn } from '../../api/authApi';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction SignIn() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [err, setErr] = useState('');\r\n\r\n\tuseEffect(() => (document.title = 'Đăng nhập'), []);\r\n\tconst signInSubmit = async (data) => {\r\n\t\ttry {\r\n\t\t\tconst { username, password } = data;\r\n\t\t\tsetErr('');\r\n\t\t\tconst token = await signIn({username: username.trim(), password});\r\n\t\t\tif (token) {\r\n\t\t\t\tlocalStorage.setItem('token', token.token);\r\n\t\t\t\twindow.location = '/event';\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error) setErr('Tài khoản hoặc mật khẩu không đúng!');\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmarginTop: 8,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt={'Logo'}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: '100px',\r\n\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tmarginBottom: '30px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tĐăng nhập\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h6\" color=\"red\" my={2}>\r\n\t\t\t\t\t{err ? err : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(signInSubmit)}\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t{...register('username', { required: true })}\r\n\t\t\t\t\t\terror={errors.username ? true : false}\r\n\t\t\t\t\t\thelperText={errors.username && 'Username không được để trống'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t{...register('password', { required: true })}\r\n\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\thelperText={errors.password && 'Password không được để trống'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\r\n\t\t\t\t\t\tĐăng nhập\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Link href=\"/signup\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\t{'Bạn chưa có tài khoản? Đăng ký tại đây'}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default SignIn;\r\n","import { Button, Container, Grid, Link, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Logo from '../../assets/images/logoSmall.png';\r\nimport { useForm } from 'react-hook-form';\r\nimport { signUp } from '../../api/authApi';\r\nimport { useState, useEffect } from 'react';\r\nfunction SignUp() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetError,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [err, setErr] = useState('');\r\n\tuseEffect(() => (document.title = 'Đăng ký'), []);\r\n\r\n\tconst submitSignUp = async (data) => {\r\n\t\ttry {\r\n\t\t\tconst { confirmPassword, ...signUpData } = data;\r\n\t\t\tif (confirmPassword !== signUpData.password) setError('confirmPassword');\r\n\t\t\telse {\r\n\t\t\t\tconst token = await signUp(signUpData);\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\tlocalStorage.setItem('token', token.token);\r\n\t\t\t\t\twindow.location = '/event';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error.status === 400 && error.data.message.startsWith('Duplicate fields')) {\r\n\t\t\t\tlet errStr = error.data.message\r\n\t\t\t\t\t.split(',')[0]\r\n\t\t\t\t\t.replace('Duplicate fields: ', 'Đã có người sử dụng ');\r\n\t\t\t\terrStr += ' này!';\r\n\t\t\t\tsetErr(errStr);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmarginTop: 8,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt={'Logo'}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: '100px',\r\n\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tmarginBottom: '30px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tĐăng ký\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h6\" color=\"red\" my={2}>\r\n\t\t\t\t\t{err ? err : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tonSubmit={handleSubmit(submitSignUp)}\r\n\t\t\t\t\tsx={{ mt: 3 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t{...register('username', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 4,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 20,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.username ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.username &&\r\n\t\t\t\t\t\t\t\t\t'Username không được để trống và có ít nhất 4 ký tự'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t{...register('password', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 8,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 32,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.password &&\r\n\t\t\t\t\t\t\t\t\t'Password không được để trống và có ít nhất 8 ký tự'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\tlabel=\"Nhập lại password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t{...register('confirmPassword', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 8,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 32,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.confirmPassword ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.confirmPassword &&\r\n\t\t\t\t\t\t\t\t\t'Password không chính xác vui lòng nhập lại'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa chỉ email\"\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t{...register('email', { required: true })}\r\n\t\t\t\t\t\t\t\terror={errors.email ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.email && 'Email không được để trống'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"fullName\"\r\n\t\t\t\t\t\t\t\tlabel=\"Họ và tên\"\r\n\t\t\t\t\t\t\t\tname=\"fullName\"\r\n\t\t\t\t\t\t\t\t{...register('fullName', { required: true })}\r\n\t\t\t\t\t\t\t\terror={errors.fullName ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.fullName && 'Họ và tên không được để trống'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"phone\"\r\n\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\r\n\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t{...register('phone')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"address\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa Chỉ\"\r\n\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t{...register('address')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"workUnit\"\r\n\t\t\t\t\t\t\t\tlabel=\"Đơn vị công tác\"\r\n\t\t\t\t\t\t\t\tname=\"workUnit\"\r\n\t\t\t\t\t\t\t\t{...register('workUnit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"addressUnit\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa chỉ đơn vị công tác\"\r\n\t\t\t\t\t\t\t\tname=\"addressUnit\"\r\n\t\t\t\t\t\t\t\t{...register('addressUnit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"idCB\"\r\n\t\t\t\t\t\t\t\tname=\"idCB\"\r\n\t\t\t\t\t\t\t\tlabel=\"Mã số cán bộ\"\r\n\t\t\t\t\t\t\t\t{...register('idCB')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\txs={2}\r\n\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant=\"body2\">Hoặc</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"idSV\"\r\n\t\t\t\t\t\t\t\tname=\"idSV\"\r\n\t\t\t\t\t\t\t\tlabel=\"Mã số sinh viên\"\r\n\t\t\t\t\t\t\t\t{...register('idSV')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\r\n\t\t\t\t\t\tĐăng ký\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Link href=\"/\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\tBạn đã có tài khoản? Đăng nhập tại đây.\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Container>\r\n\t);\r\n}\r\nexport default SignUp;\r\n","import { Box } from \"@mui/system\";\r\n\r\nexport default function AdminComponent() {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h1>Admin</h1>;\r\n\t\t</Box>\r\n\t);\r\n}\r\n","export default function EventListComponent() {\r\n\treturn <h1>Event List</h1>;\r\n}\r\n","import { Button, Modal, Paper, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { format } from 'date-fns';\r\n\r\nexport default function ModalQRCode({\r\n\tmodalQRCode,\r\n\thandleCloseModalQRCode,\r\n\tqrCode,\r\n\tqrCodeExpire,\r\n\tevent,\r\n\tgetQRCodeFN,\r\n}) {\r\n\tconst [timeLeft, setTimeLeft] = useState(qrCodeExpire - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst countDown = setInterval(() => {\r\n\t\t\tsetTimeLeft(timeLeft - 1000);\r\n\t\t}, 1000);\r\n\t\treturn () => clearInterval(countDown);\r\n\t}, [timeLeft]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst timeOut = setInterval(() => {\r\n\t\t\tgetQRCodeFN();\r\n\t\t\thandleCloseModalQRCode();\r\n\t\t}, qrCodeExpire - Date.now());\r\n\t\treturn () => clearInterval(timeOut);\r\n\t}, [handleCloseModalQRCode, qrCodeExpire, getQRCodeFN]);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalQRCode}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t\tp: 2,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\theight=\"82%\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box component=\"img\" src={qrCode} alt=\"QR Code\" height=\"100%\" />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\televation={4}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\tp: 2,\r\n\t\t\t\t\t\tmt: 1,\r\n\t\t\t\t\t\tml: 10,\r\n\t\t\t\t\t\tmr: 10,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Tên sự kiện: </b>\r\n\t\t\t\t\t\t\t{event.name}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Địa điểm: </b>\r\n\t\t\t\t\t\t\t{event.location}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Thời gian: </b>\r\n\t\t\t\t\t\t\t{format(new Date(event.dateEvent), 'dd/MM/yyyy')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'black' }}>Hết hạn trong:</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h4\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t{Math.floor(timeLeft / 60000)}:\r\n\t\t\t\t\t\t\t\t{(((timeLeft % 60000) / 1000).toFixed(0) < 10 ? '0' : '') +\r\n\t\t\t\t\t\t\t\t\t((timeLeft % 60000) / 1000).toFixed(0)}\r\n\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t\t\t\tonClick={handleCloseModalQRCode}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tKẾT THÚC CHECK-IN\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { debounce } from 'throttle-debounce';\r\nexport default function ModalSetAgent({\r\n\tevent,\r\n\tusers,\r\n\tisOpenSetAgent,\r\n\thandleCloseSetAgent,\r\n\thandleSetAgent,\r\n\thandleRemoveAgent,\r\n}) {\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenSetAgent}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Agent cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper\r\n\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\tsx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: '100%' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\t\t\t\tsecondaryAction={\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!event.owner.includes(user._id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent(event._id, user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.owner.includes(user._id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAgent(event._id, user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{user.username}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#0000FF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#2e7d32' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseSetAgent}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow, TextField } from '@mui/material';\r\nimport { format } from 'date-fns';\r\nimport { useState } from 'react';\r\nimport { getQRCode } from '../../../../api/eventApi';\r\nimport ModalQRCode from './ModalQRCode';\r\nimport Swal from 'sweetalert2';\r\nimport ModalSetAgent from './ModalSetAgent';\r\nexport default function RowAgent({ event, users, handleSetAgent, handleRemoveAgent, isAgent }) {\r\n\tconst [modalQRCode, setModalQRCode] = useState(false);\r\n\tconst [modalSetAgent, setModalSetAgent] = useState(false);\r\n\tconst [qrCode, setQrCode] = useState('');\r\n\tconst [qrCodeExpire, setQrCodeExpire] = useState(0);\r\n\tconst [expire, setExpire] = useState(10);\r\n\tconst handleOpenModalQRCode = () => {\r\n\t\tgetQRCodeFN();\r\n\t};\r\n\tconst handleCloseModalQRCode = () => {\r\n\t\tsetModalQRCode(false);\r\n\t};\r\n\tconst getQRCodeFN = () => {\r\n\t\tgetQRCode(event._id, expire)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetQrCode(res.message.qrcode);\r\n\t\t\t\tsetQrCodeExpire(res.message.expireIn * 1);\r\n\t\t\t\tsetModalQRCode(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetModalQRCode(false);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Sự kiện ${event.name} chưa bắt đầu!`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleOpenModalSetAgent = () => {\r\n\t\tsetModalSetAgent(true);\r\n\t};\r\n\tconst handleCloseModalSetAgent = () => {\r\n\t\tsetModalSetAgent(false);\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{format(new Date(event.dateEvent), 'dd/MM/yyyy')}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tsx={{ width: '100px' }}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tvalue={expire}\r\n\t\t\t\t\tonChange={(e) => setExpire(e.target.value * 1)}\r\n\t\t\t\t/>\r\n\t\t\t\t<i>Minute(s)</i>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{!isAgent && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tonClick={handleOpenModalSetAgent}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSET AGENT\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{modalSetAgent && (\r\n\t\t\t\t\t\t\t<ModalSetAgent\r\n\t\t\t\t\t\t\t\tisOpenSetAgent={modalSetAgent}\r\n\t\t\t\t\t\t\t\thandleCloseSetAgent={handleCloseModalSetAgent}\r\n\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\thandleRemoveAgent={handleRemoveAgent}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalQRCode}\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\tnew Date(event.dateEvent).setHours(0, 0, 0, 0) >\r\n\t\t\t\t\t\tnew Date().setHours(0, 0, 0, 0)\r\n\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\tBẮT ĐẦU CHECK-IN\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalQRCode && (\r\n\t\t\t\t\t<ModalQRCode\r\n\t\t\t\t\t\tmodalQRCode={modalQRCode}\r\n\t\t\t\t\t\thandleCloseModalQRCode={handleCloseModalQRCode}\r\n\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\tqrCode={qrCode}\r\n\t\t\t\t\t\tqrCodeExpire={qrCodeExpire}\r\n\t\t\t\t\t\tgetQRCodeFN={getQRCodeFN}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n\tTableContainer,\r\n\tTable,\r\n\tTableHead,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTablePagination,\r\n\tTableBody,\r\n\tTextField,\r\n} from '@mui/material';\r\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOwnerEvent } from '../../../../api/eventApi';\r\nimport RowAgent from './RowAgent';\r\nimport { getAllAgents } from '../../../../api/userApi';\r\nimport { setAgent, removeAgent } from '../../../../api/eventApi';\r\nexport default function AgentComponent({ isAgent }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [listAgents, setListAgents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Agent';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\tif (!isAgent) {\r\n\t\t\tgetAllAgents().then((res) => setListAgents(res.users));\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetListAgents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, [isAgent]);\t\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleSetAgent = (idEvent, idAgent) => {\r\n\t\tsetAgent(idEvent, idAgent).then((res) => {\r\n\t\t\tlet eventsCopy = [...events];\r\n\t\t\tconst index = events.findIndex((event) => event._id === idEvent);\r\n\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\tsetEvents(eventsCopy);\r\n\t\t});\r\n\t};\r\n\tconst handleRemoveAgent = (idEvent, idAgent) => {\r\n\t\tremoveAgent(idEvent, idAgent).then((res) => {\r\n\t\t\tlet eventsCopy = [...events];\r\n\t\t\tconst index = events.findIndex((event) => event._id === idEvent);\r\n\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\tsetEvents(eventsCopy);\r\n\t\t});\r\n\t};\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tAgent\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tPhát QR Code cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh', marginTop: 5 }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đặt thời gian hết hạn</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '420px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowAgent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers={listAgents}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAgent={handleRemoveAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisAgent={isAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, Modal, Paper, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nexport default function ModalReport({ modalReport, handleCloseModalReport }) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalReport}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t\tp: 2,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\televation={4}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\tp: 2,\r\n\t\t\t\t\t\tmt: 1,\r\n\t\t\t\t\t\tml: 10,\r\n\t\t\t\t\t\tmr: 10,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'black' }}>Hết hạn trong:</b>\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t\t\t\tonClick={handleCloseModalReport}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tKẾT THÚC CHECK-IN\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport { format } from 'date-fns';\r\nimport { useEffect, useState } from 'react';\r\nimport { getReport } from '../../../../api/eventApi';\r\nimport ModalReport from './ModalReport';\r\nexport default function RowReport({ event, user }) {\r\n\tconst [modalReport, setModalReport] = useState(false);\r\n\tconst [report, setReport] = useState(null);\r\n\tconst handleOpenModalReport = () => {\r\n\t\tsetModalReport(true);\r\n\t};\r\n\tconst handleCloseModalReport = () => {\r\n\t\tsetModalReport(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetReport(event._id).then((res) => setReport(res.result));\r\n\t}, [event._id]);\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{format(new Date(event.dateEvent), 'dd/MM/yyyy')}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false).length\r\n\t\t\t\t\t: 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.listVisitersCheckin.filter((el) => el.isCheckin === true).length}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalReport}\r\n\t\t\t\t>\r\n\t\t\t\t\tGET REPORT\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalReport && (\r\n\t\t\t\t\t<ModalReport\r\n\t\t\t\t\t\treport={report}\r\n\t\t\t\t\t\tmodalReport={modalReport}\r\n\t\t\t\t\t\thandleCloseModalReport={handleCloseModalReport}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n\tTableContainer,\r\n\tTable,\r\n\tTableHead,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTablePagination,\r\n\tTableBody,\r\n\tTextField,\r\n} from '@mui/material';\r\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOwnerEvent } from '../../../../api/eventApi';\r\nimport RowReport from './RowReport';\r\nexport default function ReportComponent() {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Report';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tAgent\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tPhát QR Code cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh', marginTop: 5 }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng đăng ký tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng đã check-in</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <RowReport event={event} key={event._id} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Route, Switch } from 'react-router';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicRoute from './PublicRoute';\r\nimport EventManagerComponent from '../components/Dashboard/MainContent/EventManager/EventManager';\r\nimport AccountComponent from '../components/Dashboard/MainContent/Account';\r\nimport SignIn from '../pages/Auth/SignIn';\r\nimport SignUp from '../pages/Auth/SignUp';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../config/UserContext';\r\nimport AdminComponent from '../components/Dashboard/MainContent/Admin';\r\nimport EventListComponent from '../components/Dashboard/MainContent/EventList';\r\nimport AgentComponent from '../components/Dashboard/MainContent/Agent/Agent';\r\nimport ReportComponent from '../components/Dashboard/MainContent/Report/Report';\r\nfunction AppRoute() {\r\n\tconst [user] = useContext(UserContext);\r\n\tconst checkRoles = (user, ...roles) => {\r\n\t\tif (!user) return null;\r\n\t\treturn roles.includes(user.role) ? user : null;\r\n\t};\r\n\r\n\tconst isAgent = () => {\r\n\t\treturn user.role === 'Agent';\r\n\t};\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PublicRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter', 'Admin')}\r\n\t\t\t\tcomponent={SignIn}\r\n\t\t\t/>\r\n\t\t\t<PublicRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/signup\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter', 'Admin')}\r\n\t\t\t\tcomponent={SignUp}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/account\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter')}\r\n\t\t\t\tcomponent={AccountComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/event\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={EventManagerComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/agent\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent')}\r\n\t\t\t\tcomponent={() => <AgentComponent isAgent={isAgent()} />}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/report\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={ReportComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/list-event\"\r\n\t\t\t\tauth={checkRoles(user, 'Visiter')}\r\n\t\t\t\tcomponent={EventListComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/admin\"\r\n\t\t\t\tauth={checkRoles(user, 'Admin')}\r\n\t\t\t\tcomponent={AdminComponent}\r\n\t\t\t/>\r\n\t\t\t<Route path=\"*\" render={() => <h1>ERROR 404!</h1>} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nexport default AppRoute;\r\n","import { CssBaseline } from '@mui/material';\r\nimport UserContextProvider from './config/UserContext';\r\nimport AppRoute from './router/AppRoute';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<UserContextProvider>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<AppRoute />\r\n\t\t</UserContextProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport { BrowserRouter as Router } from 'react-router-dom';\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}