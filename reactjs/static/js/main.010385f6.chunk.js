(this.webpackJsonpmcsweb=this.webpackJsonpmcsweb||[]).push([[0],{296:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(83),r=n.n(a),o=n(376),s=n(5),l=n(192),d=n.n(l),j=n(193),h=n.n(j),b=d.a.create({baseURL:"http://localhost:8000/api",headers:{"Content-type":"application/json"},paramsSerializer:function(e){return h.a.stringify(e)}});b.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){return Promise.reject(e.response)}));var u=b,x=localStorage.getItem("token"),O=function(){return u.get("/admin/visiters/",{headers:{Authorization:"Bearer "+x}})},g=function(){return u.get("/admin/users/",{headers:{Authorization:"Bearer "+x}})},m=function(){return u.get("/user/group",{headers:{Authorization:"Bearer "+x}})},p=n(0),f=Object(i.createContext)(),v=function(e){var t=e.children,n=Object(i.useState)(null),c=Object(s.a)(n,2),a=c[0],r=c[1];return Object(i.useEffect)((function(){u.get("/user/",{headers:{Authorization:"Bearer "+x}}).then((function(e){r(e.user)}))}),[]),Object(p.jsx)(f.Provider,{value:[a,r],children:t})},w=n(28),y=n(14),k=n(79),C=n(368),S=n(4),D=n(6),_=n(395),T=n(152),E=n(396),A=n(204),B=n.n(A),W=n(205),V=n.n(W),P=n(385),N=n(360),R=n(361),z=n(197),I=n.n(z),L=n(134),H=n.n(L),F=n(201),M=n.n(F),G=n(202),q=n.n(G),U=n(200),Q=n.n(U),K=n(198),X=n.n(K),J=n(199),Y=n.n(J),Z=n(203),$=n.n(Z),ee=n(46);var te=function(){var e=Object(i.useContext)(f),t=Object(s.a)(e,1)[0],n=Object(w.g)(),c=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return!!n.includes(t.role)};return Object(p.jsxs)(p.Fragment,{children:[c("Manager")&&Object(p.jsx)(ee.b,{to:"/event",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/event"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(I.a,{})}),Object(p.jsx)(R.a,{primary:"Qu\u1ea3n l\xfd s\u1ef1 ki\u1ec7n"})]})}),c("Manager","Agent")&&Object(p.jsx)(ee.b,{to:"/agent",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/agent"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(X.a,{})}),Object(p.jsx)(R.a,{primary:"MCS Agent"})]})}),c("Manager")&&Object(p.jsx)(ee.b,{to:"/report",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/report"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(Y.a,{})}),Object(p.jsx)(R.a,{primary:"B\xe1o c\xe1o s\u1ef1 ki\u1ec7n"})]})}),c("Visiter")&&Object(p.jsx)(ee.b,{to:"/list-event",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/list-event"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(Q.a,{})}),Object(p.jsx)(R.a,{primary:"Danh s\xe1ch s\u1ef1 ki\u1ec7n"})]})}),c("Visiter")&&Object(p.jsx)(ee.b,{to:"/list-reg-event",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/list-reg-event"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(H.a,{})}),Object(p.jsx)(R.a,{primary:"S\u1ef1 ki\u1ec7n \u0111\xe3 \u0111\u0103ng k\xfd"})]})}),c("Admin","Manager")&&Object(p.jsx)(ee.b,{to:"/visiter-manager",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/visiter-manager"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(M.a,{})}),Object(p.jsx)(R.a,{primary:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"})]})}),c("Admin")&&Object(p.jsx)(ee.b,{to:"/event-admin",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/event-admin"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(q.a,{})}),Object(p.jsx)(R.a,{primary:"T\u1ea5t c\u1ea3 s\u1ef1 ki\u1ec7n"})]})}),c("Manager")&&Object(p.jsx)(ee.b,{to:"/group-visiter",style:{textDecoration:"none",color:"#000000DE"},children:Object(p.jsxs)(P.a,{button:!0,selected:"/group-visiter"===n.pathname,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)($.a,{})}),Object(p.jsx)(R.a,{primary:"Qu\u1ea3n l\xfd nh\xf3m"})]})})]})},ne=n(397),ie=n(366),ce=n(367),ae=n(387),re=n(393),oe=n(206),se=n.n(oe),le=n(207),de=n.n(le),je=Object(D.a)(re.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(y.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),he=Object(D.a)(ae.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(y.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(S.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}}));var be=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],a=function(){c(!n)},r=Object(i.useContext)(f),o=Object(s.a)(r,1)[0];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(je,{position:"absolute",open:n,children:Object(p.jsxs)(_.a,{sx:{pr:"24px",minHeight:"64px"},children:[Object(p.jsx)(E.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,sx:Object(y.a)({marginRight:"36px"},n&&{display:"none"}),children:Object(p.jsx)(B.a,{})}),Object(p.jsxs)(T.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:["Xin ch\xe0o, ",o.fullName,"!"]})]})}),Object(p.jsxs)(he,{variant:"permanent",open:n,children:[Object(p.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(p.jsx)(E.a,{onClick:a,children:Object(p.jsx)(V.a,{})})}),Object(p.jsxs)(ne.a,{sx:{backgroundColor:"rgb(25 118 210)"},children:[Object(p.jsx)(ee.b,{to:"/account",style:{textDecoration:"none"},children:Object(p.jsxs)(ie.a,{children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(se.a,{sx:{color:"white"}})}),Object(p.jsx)(R.a,{primary:"Th\xf4ng tin "+o.role,sx:{fontWeight:"bolder",color:"white"}})]})}),Object(p.jsxs)(ie.a,{onClick:function(){localStorage.removeItem("token"),window.location="/"},children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(de.a,{sx:{color:"white"}})}),Object(p.jsx)(R.a,{primary:"\u0110\u0103ng xu\u1ea5t",sx:{fontWeight:"bolder",color:"white"}})]})]}),Object(p.jsx)(ce.a,{}),Object(p.jsx)(ne.a,{children:Object(p.jsx)(te,{})})]})]})};function ue(e){var t=e.children;return Object(p.jsxs)(C.a,{sx:{display:"flex"},children:[Object(p.jsx)(be,{}),t]})}var xe=function(){return Object(p.jsxs)(T.a,{variant:"body2",color:"text.secondary",align:"center",my:5,children:["Copyright \xa9 ","Dinh Chung Nam ",(new Date).getFullYear(),"."]})},Oe=["auth","component"];var ge=function(e){var t=e.auth,n=e.component,i=Object(k.a)(e,Oe);return Object(p.jsx)(w.b,Object(y.a)(Object(y.a)({},i),{},{component:function(e){return null!==t?Object(p.jsx)(ue,{children:Object(p.jsx)(n,Object(y.a)(Object(y.a)({},e),{},{children:Object(p.jsx)(xe,{})}))}):Object(p.jsx)(w.a,{to:"/"})}}))},me=["auth","component"];var pe=function(e){var t=e.auth,n=e.component,i=Object(k.a)(e,me),c=function(e){switch(e){case"Manager":return"/event";case"Agent":return"/agent";case"Visiter":return"/list-event";case"Admin":return"/visiter-manager"}};return Object(p.jsx)(w.b,Object(y.a)(Object(y.a)({},i),{},{component:function(e){return null!==t?Object(p.jsx)(w.a,{to:c(t.role)}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(n,Object(y.a)({},e)),Object(p.jsx)(xe,{})]})}}))},fe=n(18),ve=n(408),we=n(409),ye=n(410),ke=n(389),Ce=n(394),Se=n(401),De=n(380),_e=n(369),Te=localStorage.getItem("token"),Ee=function(){return u.get("/manager/event",{headers:{Authorization:"Bearer "+Te}})},Ae=function(e,t){return u.patch("/manager/event/".concat(e,"/addVisiters"),{listVisiter:t},{headers:{Authorization:"Bearer "+Te}})},Be=function(){return u.get("/admin/events",{headers:{Authorization:"Bearer "+Te}})},We=n(412),Ve=n(414),Pe=n(406),Ne=n(411),Re=n(413),ze=n(383),Ie=n(405),Le=n(377),He=n(305),Fe=n(384),Me=n(210),Ge=n.n(Me),qe=n(142),Ue=n.n(qe),Qe=n(100),Ke=n.n(Qe),Xe=n(386),Je=n(403),Ye=n(67),Ze=n(379),$e=n(27);function et(e){var t=e.event,n=e.isOpenEdit,c=e.handleCloseEdit,a=e.handleUpdateEvent,r=Object(Ye.a)(),o=r.register,l=r.handleSubmit,d=r.setValue,j=r.formState.errors,h=Object(i.useState)(t.dateEvent),b=Object(s.a)(h,2),u=b[0],x=b[1],O=Object(i.useState)(t.typeEvent),g=Object(s.a)(O,2),m=g[0],f=g[1],v=Object(i.useState)(t.openReg),w=Object(s.a)(v,2),k=w[0],C=w[1],S=Object(i.useState)(t.endReg),D=Object(s.a)(S,2),_=D[0],E=D[1];return Object(p.jsx)(Xe.a,{open:n,"aria-labelledby":"modal-modal-title-edit","aria-describedby":"modal-modal-description-edit",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,height:"calc(100vh - 300px)",bgcolor:"white",boxShadow:24},children:[Object(p.jsx)(_e.a,{sx:{bgcolor:"blue",color:"white",p:3},children:Object(p.jsx)(T.a,{id:"modal-modal-title-edit",variant:"h5",component:"h2",align:"center",sx:{fontWeight:"bolder"},children:"Thay \u0111\u1ed5i s\u1ef1 ki\u1ec7n"})}),Object(p.jsxs)(_e.a,{component:"form",onSubmit:l((function(e){c(),a(t,e)})),sx:{p:3},children:[Object(p.jsxs)(ke.a,{container:!0,spacing:3,children:[Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,error:!!j.name,helperText:j.name&&"Vui l\xf2ng nh\u1eadp t\xean s\u1ef1 ki\u1ec7n",type:"text",label:"T\xean s\u1ef1 ki\u1ec7n*",variant:"standard",defaultValue:t.name},o("name",{required:!0})))}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,error:!!j.location,helperText:j.location&&"Vui l\xf2ng nh\u1eadp \u0111\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c s\u1ef1 ki\u1ec7n",type:"text",label:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c*",variant:"standard",defaultValue:t.location},o("location",{required:!0})))}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Ze.a,{label:"Ch\u1ecdn ng\xe0y*",mask:"__/__/____",value:u,onChange:function(e){x(new Date(e.setSeconds(0))),d("dateEvent",new Date(e.setSeconds(0)))},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsxs)(De.a,Object(y.a)(Object(y.a)({fullWidth:!0,error:!!j.typeEvent,helperText:j.typeEvent&&"Vui l\xf2ng ch\u1ecdn lo\u1ea1i s\u1ef1 ki\u1ec7n",select:!0,label:"Lo\u1ea1i s\u1ef1 ki\u1ec7n*",value:m},o("typeEvent",{required:!0})),{},{onChange:function(e){f(e.target.value)},children:[Object(p.jsx)(Je.a,{value:"public",children:"S\u1ef1 Ki\u1ec7n C\xf4ng Khai"}),Object(p.jsx)(Je.a,{value:"private",children:"S\u1ef1 Ki\u1ec7n Ri\xeang"}),Object(p.jsx)(Je.a,{value:"restricted",children:"S\u1ef1 Ki\u1ec7n H\u1ea1n Ch\u1ebf"})]}))}),"restricted"===m&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Ze.a,{label:"Ch\u1ecdn ng\xe0y m\u1edf \u0111\u0103ng k\xfd*",mask:"__/__/____",value:k,onChange:function(e){C(new Date(e.setSeconds(0))),d("openReg",new Date(e.setSeconds(0)))},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Ze.a,{label:"Ch\u1ecdn ng\xe0y k\u1ebft th\xfac \u0111\u0103ng k\xfd*",mask:"__/__/____",value:_,onChange:function(e){E(new Date(e.setSeconds(0))),d("endReg",new Date(e.setSeconds(0)))},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})]})]}),Object(p.jsxs)(_e.a,{sx:{p:3,display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(Se.a,{variant:"contained",color:"success",type:"submit",children:"Thay \u0111\u1ed5i"}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",onClick:c,sx:{ml:3},children:"H\u1ee7y"})]})]})]})})}var tt=n(45),nt=n(382),it=n(404),ct=n(381),at=n(59),rt=n.n(at),ot=n(58),st=n(402),lt=n(170),dt=n(375),jt=n(416);function ht(e){var t=e.event,n=e.users,c=e.groupVisiter,a=e.isOpenAddVisiter,r=e.handleCloseAddVisiter,o=e.handleAddVisiter,l=e.handleAddByGroup,d=e.handleAddByFile,j=Object(i.useState)(t.listVisitersCheckin.reduce((function(e,t){return e.push(t.visiter._id),e}),[])),h=Object(s.a)(j,2),b=h[0],u=h[1],x=Object(i.useState)(),O=Object(s.a)(x,2),g=O[0],m=O[1],f=Object(i.useState)("1"),v=Object(s.a)(f,2),w=v[0],y=v[1],k=Object(i.useState)(""),C=Object(s.a)(k,2),S=C[0],D=C[1],_=Object(i.useState)(""),A=Object(s.a)(_,2),B=A[0],W=A[1],V=Object(i.useState)(),z=Object(s.a)(V,2),I=z[0],L=z[1],H=Object(ot.a)(500,(function(e){return D(e.target.value)})),F=Object(ot.a)(500,(function(e){return W(e.target.value)}));return Object(p.jsx)(Xe.a,{open:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,height:"calc(100vh - 250px)",bgcolor:"white",boxShadow:24},children:[Object(p.jsx)(_e.a,{sx:{bgcolor:"blue",color:"white",p:3},children:Object(p.jsx)(T.a,{id:"modal-modal-title",variant:"h5",component:"h2",align:"center",sx:{fontWeight:"bolder"},children:"Th\xeam Ng\u01b0\u1eddi Tham D\u1ef1"})}),Object(p.jsx)(_e.a,{sx:{width:"100%"},children:Object(p.jsxs)(lt.a,{value:w,sx:{width:"100%"},children:[Object(p.jsx)(_e.a,{children:Object(p.jsxs)(dt.a,{onChange:function(e,t){y(t)},centered:!0,children:[Object(p.jsx)(st.a,{label:"Th\xeam b\u1eb1ng username",value:"1",sx:{width:"50%"}}),Object(p.jsx)(st.a,{label:"Th\xeam b\u1eb1ng danh s\xe1ch",value:"2",sx:{width:"50%"}})]})}),Object(p.jsx)(jt.a,{value:"1",children:Object(p.jsxs)(_e.a,{children:[Object(p.jsxs)(Ce.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[Object(p.jsx)(tt.c,{sx:{ml:1,flex:1},placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng",inputProps:{"aria-label":"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng"},onChange:H}),Object(p.jsx)(E.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(p.jsx)(rt.a,{})})]}),Object(p.jsx)(ne.a,{sx:{width:"100%",height:"calc(100vh - 550px)",overflow:"scroll",marginTop:2},children:n.filter((function(e){return e.username.match(S)})).map((function(e){var t,n="checkbox-list-label-".concat(e._id);return Object(p.jsx)(P.a,{disablePadding:!0,children:Object(p.jsxs)(ie.a,{role:void 0,onClick:(t=e._id,function(){var e=b.indexOf(t),n=Object(fe.a)(b);-1===e?n.push(t):n.splice(e,1),u(n)}),dense:!0,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(nt.a,{edge:"start",checked:-1!==b.indexOf(e._id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),Object(p.jsx)(R.a,{id:n,primary:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{children:e.username}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#0000FF"},children:"H\u1ecd v\xe0 t\xean:\xa0"}),e.fullName]}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#2e7d32"},children:"\u0110\u1ecba ch\u1ec9 email:\xa0"}),e.email]})]})})]})},e._id)}))}),Object(p.jsxs)(_e.a,{sx:{p:3,display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(Se.a,{variant:"contained",color:"success",type:"button",onClick:function(e){r(),o(t,b)},children:"Th\xeam"}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",onClick:r,sx:{ml:3},children:"H\u1ee7y"})]})]})}),Object(p.jsxs)(jt.a,{value:"2",children:[Object(p.jsxs)(_e.a,{sx:{display:"flex",alignItems:"center"},children:[Object(p.jsxs)(Ce.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"50%",mb:1},children:[Object(p.jsx)(tt.c,{sx:{ml:1,flex:1},placeholder:"T\xecm ki\u1ebfm nh\xf3m ng\u01b0\u1eddi d\xf9ng",inputProps:{"aria-label":"T\xecm ki\u1ebfm nh\xf3m ng\u01b0\u1eddi d\xf9ng"},onChange:F}),Object(p.jsx)(E.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(p.jsx)(rt.a,{})})]}),Object(p.jsx)(_e.a,{sx:{boxShadow:2,mb:1,ml:2},children:Object(p.jsxs)("label",{htmlFor:"upload-photo",children:[Object(p.jsx)("input",{hidden:!0,id:"upload-photo",name:"upload-photo",type:"file",accept:".xlsx",onChange:function(e){var t=e.target.files[0];L(t)}}),Object(p.jsxs)(it.a,{color:"secondary",size:"small",component:"span","aria-label":"add",variant:"extended",children:[Object(p.jsx)(Ke.a,{})," Upload File"]}),Object(p.jsx)(T.a,{variant:"caption",sx:{ml:1},children:null===I||void 0===I?void 0:I.name})]})})]}),Object(p.jsx)(_e.a,{children:Object(p.jsxs)(_e.a,{children:[Object(p.jsx)(ne.a,{sx:{width:"100%",height:"calc(100vh - 600px)",overflow:"scroll"},children:c.filter((function(e){return e.groupName.trim().toLowerCase().match(B.trim().toLowerCase())})).map((function(e){var t,n="checkbox-list-label-".concat(e._id);return Object(p.jsx)(P.a,{disablePadding:!0,children:Object(p.jsxs)(ie.a,{role:void 0,onClick:(t=e._id,function(){m(t)}),dense:!0,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(ct.a,{edge:"start",checked:g===e._id,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),Object(p.jsx)(R.a,{id:n,primary:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#0000FF"},children:"T\xean nh\xf3m:\xa0"}),e.groupName]}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#2e7d32"},children:"S\u1ed1 l\u01b0\u1ee3ng th\xe0nh vi\xean:\xa0"}),e.users.length]})]})})]})},e._id)}))}),Object(p.jsxs)(_e.a,{sx:{p:3,display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(Se.a,{variant:"contained",color:"success",type:"button",onClick:function(){r(),I?d(t,I):l(t,g)},children:"Th\xeam"}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",onClick:r,sx:{ml:3},children:"H\u1ee7y"})]})]})})]})]})})]})})}function bt(e){var t=e.event,n=e.users,c=e.groupVisiter,a=e.handleDeleteEvent,r=e.handleUpdateEvent,o=e.handleAddVisiter,l=e.handleAddByGroup,d=e.handleAddByFile,j=Object(i.useState)(!1),h=Object(s.a)(j,2),b=h[0],u=h[1],x=Object(i.useState)(!1),O=Object(s.a)(x,2),g=O[0],m=O[1];return Object(p.jsxs)(Ie.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.name}),Object(p.jsx)(Pe.a,{align:"left",children:t.location}),Object(p.jsx)(Pe.a,{align:"center",children:new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.dateEvent).toLocaleDateString("vi-VN")}),Object(p.jsxs)(Pe.a,{align:"center",children:["public"===t.typeEvent&&"S\u1ef1 ki\u1ec7n c\xf4ng khai","private"===t.typeEvent&&"S\u1ef1 ki\u1ec7n ri\xeang","restricted"===t.typeEvent&&"S\u1ef1 ki\u1ec7n h\u1ea1n ch\u1ebf"]}),Object(p.jsx)(Pe.a,{align:"center",children:t.openReg?new Date(t.openReg).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.openReg).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.openReg).toLocaleDateString("vi-VN"):""}),Object(p.jsx)(Pe.a,{align:"center",children:t.endReg?new Date(t.endReg).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.endReg).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.endReg).toLocaleDateString("vi-VN"):""}),Object(p.jsx)(Pe.a,{align:"center",children:"public"!==t.typeEvent?t.listVisitersCheckin.filter((function(e){return!1===e.isCheckin})).length:"N/A"}),Object(p.jsxs)(Pe.a,{align:"right",children:["public"!==t.typeEvent&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Se.a,{variant:"contained",size:"small",onClick:function(){return m(!0)},children:Object(p.jsx)(Ke.a,{})}),g&&Object(p.jsx)(ht,{event:t,users:n,groupVisiter:c,isOpenAddVisiter:g,handleCloseAddVisiter:function(){m(!1)},handleAddVisiter:o,handleAddByGroup:l,handleAddByFile:d})]}),Object(p.jsx)(Se.a,{variant:"contained",color:"success",sx:{ml:2},size:"small",onClick:function(){return u(!0)},children:Object(p.jsx)(Ge.a,{})}),b&&Object(p.jsx)(et,{event:t,isOpenEdit:b,handleCloseEdit:function(){u(!1)},handleUpdateEvent:r}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",sx:{ml:2},size:"small",onClick:function(){a(t)},children:Object(p.jsx)(Ue.a,{})})]})]})}var ut=n(400),xt=n(370),Ot=n(391),gt=n(407),mt=n(23),pt=n.n(mt);function ft(e){var t=e.isOpen,n=e.handleClose,c=e.addNewEventState,a=Object(Ye.a)({defaultValues:{repeatEvent:0,dateEvent:new Date}}),r=a.register,o=a.handleSubmit,l=a.setValue,d=a.formState.errors,j=Object(i.useState)(Date.now()),h=Object(s.a)(j,2),b=h[0],x=h[1],O=Object(i.useState)(0),g=Object(s.a)(O,2),m=g[0],f=g[1],v=Object(i.useState)(Date.now()),w=Object(s.a)(v,2),k=w[0],C=w[1],S=Object(i.useState)(Date.now()),D=Object(s.a)(S,2),_=D[0],E=D[1],A=Object(i.useState)(""),B=Object(s.a)(A,2),W=B[0],V=B[1];return Object(p.jsx)(Xe.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,height:"calc(100% - 200px)",bgcolor:"white",boxShadow:24},children:[Object(p.jsx)(_e.a,{sx:{bgcolor:"blue",color:"white",p:3},children:Object(p.jsx)(T.a,{id:"modal-modal-title",variant:"h5",component:"h2",align:"center",sx:{fontWeight:"bolder"},children:"Th\xeam S\u1ef1 Ki\u1ec7n M\u1edbi"})}),Object(p.jsxs)(_e.a,{component:"form",onSubmit:o((function(e){(function(e){return u.post("/manager/event",e,{headers:{Authorization:"Bearer "+Te}})})(e).then((function(e){c(e.event),n(),pt.a.fire({position:"center",icon:"success",title:"Th\xeam th\xe0nh c\xf4ng ".concat(e.event.name||e.event.length," s\u1ef1 ki\u1ec7n m\u1edbi"),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(e){n(),pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i",showConfirmButton:!1,timer:2e3,target:"body"})}))})),sx:{p:3},children:[Object(p.jsxs)(ke.a,{container:!0,spacing:3,children:[Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,error:!!d.name,helperText:d.name&&"Vui l\xf2ng nh\u1eadp t\xean s\u1ef1 ki\u1ec7n",type:"text",label:"T\xean s\u1ef1 ki\u1ec7n*",variant:"standard"},r("name",{required:!0})))}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,error:!!d.location,helperText:d.location&&"Vui l\xf2ng nh\u1eadp \u0111\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c s\u1ef1 ki\u1ec7n",type:"text",label:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c*",variant:"standard"},r("location",{required:!0})))}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Ze.a,{label:"Ch\u1ecdn ng\xe0y t\u1ed5 ch\u1ee9c s\u1ef1 ki\u1ec7n*",mask:"__/__/____",value:b,defaultCalendarMonth:!0,onChange:function(e){x(new Date(e.setSeconds(0))),l("dateEvent",new Date(e.setSeconds(0)))},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsxs)(De.a,Object(y.a)(Object(y.a)({fullWidth:!0,error:!!d.typeEvent,helperText:d.typeEvent&&"Vui l\xf2ng ch\u1ecdn lo\u1ea1i s\u1ef1 ki\u1ec7n",select:!0,label:"Lo\u1ea1i s\u1ef1 ki\u1ec7n*",value:W},r("typeEvent",{required:!0})),{},{onChange:function(e){V(e.target.value)},children:[Object(p.jsx)(Je.a,{value:"public",children:"S\u1ef1 Ki\u1ec7n C\xf4ng Khai"}),Object(p.jsx)(Je.a,{value:"private",children:"S\u1ef1 Ki\u1ec7n Ri\xeang"}),Object(p.jsx)(Je.a,{value:"restricted",children:"S\u1ef1 Ki\u1ec7n H\u1ea1n Ch\u1ebf"})]}))}),"restricted"===W&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Ze.a,{label:"Ch\u1ecdn ng\xe0y m\u1edf \u0111\u0103ng k\xfd*",mask:"__/__/____",value:k,onChange:function(e){C(new Date(e.setSeconds(0))),l("openReg",new Date(e.setSeconds(0)))},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Ze.a,{label:"Ch\u1ecdn ng\xe0y k\u1ebft th\xfac \u0111\u0103ng k\xfd*",mask:"__/__/____",value:_,onChange:function(e){E(new Date(e.setSeconds(0))),l("endReg",new Date(e.setSeconds(0)))},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})]}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsxs)(ut.a,{component:"fieldset",children:[Object(p.jsx)(xt.a,{component:"legend",children:"L\u1eb7p l\u1ea1i: "}),Object(p.jsxs)(Ot.a,{row:!0,"aria-label":"repeat-event",name:"controlled-radio-buttons-reapeat-event",value:m,onChange:function(e){f(e.target.value),l("repeatEvent",e.target.value)},children:[Object(p.jsx)(gt.a,{value:1,control:Object(p.jsx)(ct.a,{}),label:"H\u1eb1ng ng\xe0y"}),Object(p.jsx)(gt.a,{value:7,control:Object(p.jsx)(ct.a,{}),label:"H\u1eb1ng tu\u1ea7n"}),Object(p.jsx)(gt.a,{value:30,control:Object(p.jsx)(ct.a,{}),label:"H\u1eb1ng th\xe1ng"}),Object(p.jsx)(gt.a,{value:0,control:Object(p.jsx)(ct.a,{}),label:"None"})]})]})})]}),Object(p.jsxs)(_e.a,{sx:{p:3,display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(Se.a,{variant:"contained",color:"success",type:"submit",children:"Th\xeam"}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",onClick:n,sx:{ml:3},children:"H\u1ee7y"})]})]})]})})}var vt=function(){var e,t=Object(i.useState)(0),n=Object(s.a)(t,2),c=n[0],a=n[1],r=Object(i.useState)(10),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(null),h=Object(s.a)(j,2),b=h[0],x=h[1],g=Object(i.useState)([]),f=Object(s.a)(g,2),v=f[0],w=f[1],k=Object(i.useState)([]),C=Object(s.a)(k,2),S=C[0],D=C[1],E=Object(i.useState)(!1),A=Object(s.a)(E,2),B=A[0],W=A[1],V=Object(i.useState)([]),P=Object(s.a)(V,2),N=P[0],R=P[1],z=Object(i.useState)([]),I=Object(s.a)(z,2),L=I[0],H=I[1];Object(i.useEffect)((function(){return document.title="Qu\u1ea3n l\xfd s\u1ef1 ki\u1ec7n",Ee().then((function(e){return w(e.event)})),O().then((function(e){return R(e.users)})),m().then((function(e){return H(e.groups)})),function(){H([]),R([]),w([]),D([])}}),[]),Object(i.useEffect)((function(){D(null===b?v:v.filter((function(e){return new Date(e.dateEvent).toDateString()===new Date(b).toDateString()})))}),[b,v]);var F=function(e,t){var n,i;(n=e._id,i=t,u.patch("/manager/event/".concat(n),i,{headers:{Authorization:"Bearer "+Te}})).then((function(t){Ee().then((function(e){return w(e.event)})),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 thay \u0111\u1ed5i th\xe0nh c\xf4ng s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi thay \u0111\u1ed5i s\u1ef1 ki\u1ec7n ".concat(e.name,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))},M=function(e){pt.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a s\u1ef1 ki\u1ec7n n\xe0y ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 quay l\u1ea1i, b\u1ea1n c\xf3 ch\u1eafc kh\xf4ng?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1976d2",cancelButtonColor:"#d32f2f",confirmButtonText:"\u0110\u1ed3ng \xfd",cancelButtonText:"H\u1ee7y"}).then((function(t){var n;t.isConfirmed&&(n=e._id,u.delete("/manager/event/".concat(n),{headers:{Authorization:"Bearer "+Te}})).then((function(t){Ee().then((function(e){return w(e.event)})),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 x\xf3a s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a s\u1ef1 ki\u1ec7n ".concat(e.name,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))}))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Ae(e._id,t).then((function(n){Ee().then((function(e){return w(e.event)})),pt.a.fire({position:"center",icon:"success",title:t.length>0?"\u0110\xe3 th\xeam th\xe0nh c\xf4ng ".concat(t.length," ng\u01b0\u1eddi v\xe0o s\u1ef1 ki\u1ec7n ").concat(e.name):"\u0110\xe3 x\xf3a h\u1ebft ng\u01b0\u1eddi tham gia s\u1ef1 ki\u1ec7n",showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam ng\u01b0\u1eddi tham d\u1ef1 s\u1ef1 ki\u1ec7n ".concat(e.name,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))},q=function(e,t){(function(e,t){return u.patch("/manager/event/".concat(e,"/addByGroup/").concat(t),{},{headers:{Authorization:"Bearer "+Te}})})(e._id,t).then((function(e){Ee().then((function(e){return w(e.event)})),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 th\xeam th\xe0nh c\xf4ng ".concat(e.event.listVisitersCheckin.length," ng\u01b0\u1eddi v\xe0o s\u1ef1 ki\u1ec7n ").concat(e.event.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam ng\u01b0\u1eddi tham d\u1ef1 s\u1ef1 ki\u1ec7n ".concat(e.name,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))},U=function(e,t){var n,i,c=new FormData;c.append("file",t),(n=e._id,i=c,u.post("/manager/event/".concat(n,"/addByFile"),i,{headers:{Authorization:"Bearer "+Te}})).then((function(e){Ee().then((function(e){return w(e.event)})),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 th\xeam th\xe0nh c\xf4ng ".concat(e.event.listVisitersCheckin.length," ng\u01b0\u1eddi v\xe0o s\u1ef1 ki\u1ec7n ").concat(e.event.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam ng\u01b0\u1eddi tham d\u1ef1 s\u1ef1 ki\u1ec7n ".concat(e.name,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))};return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Qu\u1ea3n l\xfd s\u1ef1 ki\u1ec7n"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"T\xecm ki\u1ebfm, thay \u0111\u1ed5i, th\xeam m\u1edbi, x\xf3a s\u1ef1 ki\u1ec7n"})]})}),Object(p.jsx)(ye.a,{maxWidth:"xxl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsxs)(Pe.a,{colSpan:1,align:"left",sx:{p:0},children:[Object(p.jsx)(Se.a,{variant:"contained",color:"warning",onClick:function(){return W(!0)},children:"Th\xeam s\u1ef1 ki\u1ec7n m\u1edbi"}),B&&Object(p.jsx)(ft,{isOpen:B,handleClose:function(){return W(!1)},addNewEventState:function(e){w(typeof e===typeof[]?v.concat(e):[].concat(Object(fe.a)(v),[e]))}})]}),Object(p.jsx)(Pe.a,{colSpan:7,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Fe.a,{label:"Ch\u1ecdn ng\xe0y",mask:"__/__/____",value:b,onChange:function(e){x(e)},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})]})}),Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\xe0y t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Lo\u1ea1i s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"M\u1edf \u0111\u0103ng k\xfd"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"K\u1ebft th\xfac \u0111\u0103ng k\xfd"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 l\u01b0\u1ee3ng tham gia"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"260px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\xe0nh \u0111\u1ed9ng"})})]})}),Object(p.jsx)(Ve.a,{children:null===(e=S.sort((function(e,t){return new Date(t.dateEvent)-new Date(e.dateEvent)})).slice(c*l,c*l+l))||void 0===e?void 0:e.map((function(e){return Object(p.jsx)(bt,{event:e,users:N,groupVisiter:L,handleDeleteEvent:M,handleUpdateEvent:F,handleAddVisiter:G,handleAddByGroup:q,handleAddByFile:U},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===S||void 0===S?void 0:S.length,rowsPerPage:l,page:c,onPageChange:function(e,t){a(t)},onRowsPerPageChange:function(e){d(+e.target.value),a(0)}})]})})})})]})},wt=["currentPassword","newPassword"];var yt=function(){var e=Object(Ye.a)(),t=e.register,n=e.handleSubmit,c=e.setError,a=e.formState.errors,r=Object(i.useContext)(f),o=Object(s.a)(r,2),l=o[0],d=o[1];return Object(i.useEffect)((function(){document.title="Th\xf4ng tin t\xe0i kho\u1ea3n"}),[]),Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsxs)(ye.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:2,mr:2,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"Ho\xe0n thi\u1ec7n ho\u1eb7c thay \u0111\u1ed5i th\xf4ng tin"})]})}),Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,height:"100vh"},children:[Object(p.jsxs)(_e.a,{component:"form",sx:{mr:10,ml:10,mt:2},onSubmit:n((function(e){e.currentPassword,e.newPassword;(function(e){return u.patch("/user/update",e,{headers:{Authorization:"Bearer "+x}})})(Object(k.a)(e,wt)).then((function(e){d(e.user),pt.a.fire({position:"middle",icon:"success",title:"Thay \u0111\u1ed5i th\xf4ng tin th\xe0nh c\xf4ng",showConfirmButton:!1,timer:2e3})}))})),children:[Object(p.jsxs)(ke.a,{container:!0,spacing:3,children:[Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({type:"text",label:"H\u1ecd v\xe0 t\xean",variant:"standard"},t("fullName")),{},{defaultValue:null===l||void 0===l?void 0:l.fullName}))}),Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"standard"},t("phone")),{},{defaultValue:null===l||void 0===l?void 0:l.phone}))}),Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({sx:{width:"100%"},label:"\u0110\u1ecba ch\u1ec9",variant:"standard"},t("address")),{},{defaultValue:null===l||void 0===l?void 0:l.address}))}),Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({sx:{width:"100%"},label:"\u0110\u01a1n v\u1ecb c\xf4ng t\xe1c",variant:"standard"},t("workUnit")),{},{defaultValue:null===l||void 0===l?void 0:l.workUnit}))}),Object(p.jsx)(ke.a,{item:!0,xs:8,md:8,lg:8,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({sx:{width:"100%"},label:"\u0110\u1ecba ch\u1ec9 \u0111\u01a1n v\u1ecb c\xf4ng t\xe1c",variant:"standard"},t("addressUnit")),{},{defaultValue:null===l||void 0===l?void 0:l.addressUnit}))}),Object(p.jsx)(ke.a,{item:!0,xs:6,md:12,sm:12,lg:6,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({label:"M\xe3 s\u1ed1 c\xe1n b\u1ed9",variant:"standard"},t("idCB")),{},{defaultValue:null===l||void 0===l?void 0:l.idCB}))}),Object(p.jsx)(ke.a,{item:!0,xs:6,md:12,sm:12,lg:6,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({label:"M\xe3 s\u1ed1 sinh vi\xean",variant:"standard"},t("idSV")),{},{defaultValue:null===l||void 0===l?void 0:l.idSV}))}),Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(De.a,{label:"Username",variant:"standard",defaultValue:null===l||void 0===l?void 0:l.username,disabled:!0})})]}),Object(p.jsx)(Se.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:6,mb:2},children:"L\u01b0u th\xf4ng tin"})]}),Object(p.jsx)(_e.a,{component:"form",sx:{mr:10,ml:10,mt:5},onSubmit:n((function(e){(function(e){return u.patch("/user/changePassword",e,{headers:{Authorization:"Bearer "+x}})})({currentPassword:e.currentPassword,newPassword:e.newPassword}).then((function(){pt.a.fire({position:"middle",icon:"success",title:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng. Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i.",showConfirmButton:!1,timer:2e3}),setTimeout((function(){window.location="/"}),2e3)})).catch((function(e){return 401===e.status&&c("currentPassword")}))})),children:Object(p.jsxs)(ke.a,{container:!0,spacing:3,display:"flex",height:"150px",children:[Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({label:"Password hi\u1ec7n t\u1ea1i",variant:"standard",type:"password"},t("currentPassword")),{},{error:!!a.currentPassword,helperText:a.currentPassword&&"Password hi\u1ec7n t\u1ea1i kh\xf4ng ch\xednh x\xe1c"}))}),Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(De.a,Object(y.a)({label:"Password m\u1edbi",variant:"standard",type:"password"},t("newPassword")))}),Object(p.jsx)(ke.a,{item:!0,xs:4,md:12,sm:12,lg:4,children:Object(p.jsx)(Se.a,{type:"submit",fullWidth:!0,variant:"contained",children:"Thay \u0111\u1ed5i password"})})]})})]})})})]})]})},kt=n(24),Ct=n.n(kt),St=n(38),Dt=n(415),_t=n.p+"static/media/logoSmall.a4327cd4.png",Tt=function(e){return u.post("/auth/signin",e)},Et=function(e){return u.post("/auth/signup",e)};var At=function(){var e=Object(Ye.a)(),t=e.register,n=e.handleSubmit,c=e.formState.errors,a=Object(i.useState)(""),r=Object(s.a)(a,2),o=r[0],l=r[1];Object(i.useEffect)((function(){return document.title="\u0110\u0103ng nh\u1eadp"}),[]);var d=function(){var e=Object(St.a)(Ct.a.mark((function e(t){var n,i,c;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.username,i=t.password,l(""),e.next=5,Tt({username:n.trim(),password:i});case 5:(c=e.sent)&&(localStorage.setItem("token",c.token),window.location="/event"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0&&l("T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(ye.a,{component:"main",maxWidth:"xs",children:Object(p.jsxs)(_e.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)("img",{src:_t,alt:"Logo",style:{height:"100px",width:"100px",borderRadius:"50%",marginBottom:"30px"}}),Object(p.jsx)(T.a,{component:"h1",variant:"h5",children:"\u0110\u0103ng nh\u1eadp"}),Object(p.jsx)(T.a,{component:"h6",color:"red",my:2,children:o||""}),Object(p.jsxs)(_e.a,{component:"form",onSubmit:n(d),noValidate:!0,sx:{mt:1},children:[Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username"},t("username",{required:!0})),{},{error:!!c.username,helperText:c.username&&"Username kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"})),Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"},t("password",{required:!0})),{},{error:!!c.password,helperText:c.password&&"Password kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"})),Object(p.jsx)(Se.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"\u0110\u0103ng nh\u1eadp"}),Object(p.jsx)(ke.a,{container:!0,justifyContent:"flex-end",children:Object(p.jsx)(ke.a,{item:!0,children:Object(p.jsx)(Dt.a,{href:"/signup",variant:"body2",children:"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng k\xfd t\u1ea1i \u0111\xe2y"})})})]})]})})},Bt=["confirmPassword"];var Wt=function(){var e=Object(Ye.a)(),t=e.register,n=e.handleSubmit,c=e.setError,a=e.formState.errors,r=Object(i.useState)(""),o=Object(s.a)(r,2),l=o[0],d=o[1];Object(i.useEffect)((function(){return document.title="\u0110\u0103ng k\xfd"}),[]);var j=function(){var e=Object(St.a)(Ct.a.mark((function e(t){var n,i,a,r;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.confirmPassword,i=Object(k.a)(t,Bt),n===i.password){e.next=6;break}c("confirmPassword"),e.next=10;break;case 6:return e.next=8,Et(i);case 8:(a=e.sent)&&(localStorage.setItem("token",a.token),window.location="/event");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),400===e.t0.status&&e.t0.data.message.startsWith("Duplicate fields")&&(r=e.t0.data.message.split(",")[0].replace("Duplicate fields: ","\u0110\xe3 c\xf3 ng\u01b0\u1eddi s\u1eed d\u1ee5ng "),d(r+=" n\xe0y!"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(ye.a,{component:"main",maxWidth:"xs",children:Object(p.jsxs)(_e.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)("img",{src:_t,alt:"Logo",style:{height:"100px",width:"100px",borderRadius:"50%",marginBottom:"30px"}}),Object(p.jsx)(T.a,{component:"h1",variant:"h5",children:"\u0110\u0103ng k\xfd"}),Object(p.jsx)(T.a,{component:"h6",color:"red",my:2,children:l||""}),Object(p.jsxs)(_e.a,{component:"form",noValidate:!0,onSubmit:n(j),sx:{mt:3},children:[Object(p.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({required:!0,fullWidth:!0,id:"username",label:"Username",name:"username"},t("username",{required:!0,minLength:4,maxLength:20})),{},{error:!!a.username,helperText:a.username&&"Username kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng v\xe0 c\xf3 \xedt nh\u1ea5t 4 k\xfd t\u1ef1"}))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"},t("password",{required:!0,minLength:8,maxLength:32})),{},{error:!!a.password,helperText:a.password&&"Password kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng v\xe0 c\xf3 \xedt nh\u1ea5t 8 k\xfd t\u1ef1"}))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({required:!0,fullWidth:!0,name:"confirmPassword",label:"Nh\u1eadp l\u1ea1i password",type:"password",id:"confirmPassword"},t("confirmPassword",{required:!0,minLength:8,maxLength:32})),{},{error:!!a.confirmPassword,helperText:a.confirmPassword&&"Password kh\xf4ng ch\xednh x\xe1c vui l\xf2ng nh\u1eadp l\u1ea1i"}))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({type:"email",required:!0,fullWidth:!0,id:"email",label:"\u0110\u1ecba ch\u1ec9 email",name:"email"},t("email",{required:!0})),{},{error:!!a.email,helperText:a.email&&"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)(Object(y.a)({required:!0,fullWidth:!0,id:"fullName",label:"H\u1ecd v\xe0 t\xean",name:"fullName"},t("fullName",{required:!0})),{},{error:!!a.fullName,helperText:a.fullName&&"H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone"},t("phone")))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,id:"address",label:"\u0110\u1ecba Ch\u1ec9",name:"address"},t("address")))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,id:"workUnit",label:"\u0110\u01a1n v\u1ecb c\xf4ng t\xe1c",name:"workUnit"},t("workUnit")))}),Object(p.jsx)(ke.a,{item:!0,xs:12,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,id:"addressUnit",label:"\u0110\u1ecba ch\u1ec9 \u0111\u01a1n v\u1ecb c\xf4ng t\xe1c",name:"addressUnit"},t("addressUnit")))}),Object(p.jsx)(ke.a,{item:!0,xs:5,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,id:"idCB",name:"idCB",label:"M\xe3 s\u1ed1 c\xe1n b\u1ed9"},t("idCB")))}),Object(p.jsx)(ke.a,{item:!0,xs:2,textAlign:"center",justifyContent:"center",flexDirection:"column",children:Object(p.jsx)(T.a,{variant:"body2",children:"Ho\u1eb7c"})}),Object(p.jsx)(ke.a,{item:!0,xs:5,children:Object(p.jsx)(De.a,Object(y.a)({fullWidth:!0,id:"idSV",name:"idSV",label:"M\xe3 s\u1ed1 sinh vi\xean"},t("idSV")))})]}),Object(p.jsx)(Se.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"\u0110\u0103ng k\xfd"}),Object(p.jsx)(ke.a,{container:!0,justifyContent:"flex-end",children:Object(p.jsx)(ke.a,{item:!0,children:Object(p.jsx)(Dt.a,{href:"/",variant:"body2",children:"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng nh\u1eadp t\u1ea1i \u0111\xe2y."})})})]})]})})},Vt=n(211),Pt=n.n(Vt);function Nt(e){var t=e.event,n=e.user,i=e.handleRegisterToEvent,c=e.handleRemoveToEvent,a=function(){var e=t.listVisitersCheckin.find((function(e){return e.visiter===n._id}));return!(!e||!0===e.isCheckin)};return console.log("------------"),console.log("open",Date.now()>new Date(t.openReg).getTime()),console.log("end",Date.now()<new Date(t.endReg).getTime()),Object(p.jsxs)(Ie.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.name}),Object(p.jsx)(Pe.a,{align:"left",children:t.location}),Object(p.jsx)(Pe.a,{align:"center",children:new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.dateEvent).toLocaleDateString("vi-VN")}),Object(p.jsxs)(Pe.a,{align:"center",children:["public"===t.typeEvent&&"S\u1ef1 ki\u1ec7n c\xf4ng khai","restricted"===t.typeEvent&&"S\u1ef1 ki\u1ec7n h\u1ea1n ch\u1ebf"]}),Object(p.jsx)(Pe.a,{align:"center",children:t.openReg?new Date(t.openReg).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.openReg).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.openReg).toLocaleDateString("vi-VN"):""}),Object(p.jsx)(Pe.a,{align:"center",children:t.endReg?new Date(t.endReg).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.endReg).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.endReg).toLocaleDateString("vi-VN"):""}),Object(p.jsx)(Pe.a,{align:"center",children:t.listVisitersCheckin.filter((function(e){return!1===e.isCheckin})).length||"N/A"}),Object(p.jsx)(Pe.a,{align:"center",children:"restricted"===t.typeEvent&&Date.now()<new Date(t.dateEvent).getTime()?Object(p.jsxs)(p.Fragment,{children:[!a()&&Object(p.jsx)(Se.a,{variant:"contained",color:"success",sx:{ml:2},size:"small",disabled:!(Date.now()>new Date(t.openReg).getTime()&&Date.now()<new Date(t.endReg).getTime()),onClick:function(){return i(t)},children:Object(p.jsx)(H.a,{})}),a()&&Object(p.jsx)(Se.a,{variant:"contained",color:"error",sx:{ml:2},size:"small",onClick:function(){return c(t)},children:Object(p.jsx)(Pt.a,{})})]}):"S\u1ef1 ki\u1ec7n \u0111\xe3 k\u1ebft th\xfac"})]})}function Rt(e){var t,n=e.children,c=Object(i.useState)(0),a=Object(s.a)(c,2),r=a[0],o=a[1],l=Object(i.useState)(10),d=Object(s.a)(l,2),j=d[0],h=d[1],b=Object(i.useState)(null),x=Object(s.a)(b,2),O=x[0],g=x[1],m=Object(i.useState)([]),v=Object(s.a)(m,2),w=v[0],k=v[1],C=Object(i.useState)([]),S=Object(s.a)(C,2),D=S[0],E=S[1],A=Object(i.useContext)(f),B=Object(s.a)(A,1)[0];Object(i.useEffect)((function(){return document.title="C\xe1c s\u1ef1 ki\u1ec7n hi\u1ec7n c\xf3",u.get("/event",{headers:{Authorization:"Bearer "+Te}}).then((function(e){return k(e.event)})),function(){k([]),E([])}}),[]),Object(i.useEffect)((function(){E(null===O?w:w.filter((function(e){return new Date(e.dateEvent).toDateString()===new Date(O).toDateString()})))}),[O,w]);var W=function(e){var t;(t=e._id,u.get("/event/".concat(t,"/registerToEvent"),{headers:{Authorization:"Bearer "+Te}})).then((function(t){var n=Object(fe.a)(w),i=w.findIndex((function(t){return t._id===e._id}));n[i]=Object.assign(n[i],t.event),k(n),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 \u0111\u0103ng k\xfd tham gia s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi \u0111\u0103ng k\xfd tham gia s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})}))},V=function(e){var t;(t=e._id,u.get("/event/".concat(t,"/removeToEvent"),{headers:{Authorization:"Bearer "+Te}})).then((function(t){var n=Object(fe.a)(w),i=w.findIndex((function(t){return t._id===e._id}));n[i]=Object.assign(n[i],t.event),k(n),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 h\u1ee7y \u0111\u0103ng k\xfd tham gia s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi h\u1ee7y \u0111\u0103ng k\xfd tham gia s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})}))};return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Danh s\xe1ch s\u1ef1 ki\u1ec7n hi\u1ec7n c\xf3"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"Tham gia s\u1ef1 ki\u1ec7n"})]})}),Object(p.jsx)(ye.a,{maxWidth:"xl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsx)(Ie.a,{children:Object(p.jsx)(Pe.a,{colSpan:7,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Fe.a,{label:"Ch\u1ecdn ng\xe0y",mask:"__/__/____",value:O,onChange:function(e){g(e)},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})})}),Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\xe0y t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Lo\u1ea1i s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"M\u1edf \u0111\u0103ng k\xfd"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"K\u1ebft th\xfac \u0111\u0103ng k\xfd"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 l\u01b0\u1ee3ng tham gia"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u0103ng k\xfd tham gia"})})]})}),Object(p.jsx)(Ve.a,{children:null===(t=D.sort((function(e,t){return new Date(t.dateEvent)-new Date(e.dateEvent)})).slice(r*j,r*j+j))||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(Nt,{event:e,user:B,handleRegisterToEvent:W,handleRemoveToEvent:V},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===D||void 0===D?void 0:D.length,rowsPerPage:j,page:r,onPageChange:function(e,t){o(t)},onRowsPerPageChange:function(e){h(+e.target.value),o(0)}})]})})})}),n]})}var zt=n(217);function It(e){var t=e.modalQRCode,n=e.handleCloseModalQRCode,c=e.qrCode,a=e.qrCodeExpire,r=e.event,o=e.getQRCodeFN,l=Object(i.useState)(a-Date.now()),d=Object(s.a)(l,2),j=d[0],h=d[1];return Object(i.useEffect)((function(){var e=setInterval((function(){h(j-1e3)}),1e3);return function(){return clearInterval(e)}}),[j]),Object(i.useEffect)((function(){var e=setInterval((function(){o(),n()}),a-Date.now());return function(){return clearInterval(e)}}),[n,a,o]),Object(p.jsx)(Xe.a,{open:t,"aria-labelledby":"modal-modal-title-edit","aria-describedby":"modal-modal-description-edit",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:"100%",bgcolor:"white",boxShadow:24,p:2},children:[Object(p.jsx)(_e.a,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",height:"82%",children:Object(p.jsx)(_e.a,{component:"img",src:c,alt:"QR Code",height:"100%"})}),Object(p.jsxs)(Ce.a,{elevation:4,sx:{display:"flex",alignItems:"center",justifyContent:"space-around",p:2,mt:1,ml:10,mr:10},children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)(T.a,{variant:"h6",children:[Object(p.jsx)("b",{style:{color:"#1976d2"},children:"T\xean s\u1ef1 ki\u1ec7n: "}),r.name]}),Object(p.jsxs)(T.a,{variant:"h6",children:[Object(p.jsx)("b",{style:{color:"#1976d2"},children:"\u0110\u1ecba \u0111i\u1ec3m: "}),r.location]}),Object(p.jsxs)(T.a,{variant:"h6",children:[Object(p.jsx)("b",{style:{color:"#1976d2"},children:"Th\u1eddi gian: "}),Object(zt.a)(new Date(r.dateEvent),"dd/MM/yyyy")]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(T.a,{variant:"h6",children:Object(p.jsx)("b",{style:{color:"black"},children:"H\u1ebft h\u1ea1n trong:"})}),Object(p.jsx)(T.a,{variant:"h4",children:Object(p.jsxs)("b",{style:{color:"red"},children:[Math.floor(j/6e4),":",((j%6e4/1e3).toFixed(0)<10?"0":"")+(j%6e4/1e3).toFixed(0)]})}),Object(p.jsx)(Se.a,{color:"error",variant:"contained",sx:{mt:1},onClick:n,children:"K\u1ebeT TH\xdaC CHECK-IN"})]})]})]})})}var Lt=n(212),Ht=n.n(Lt),Ft=n(213),Mt=n.n(Ft);function Gt(e){var t=e.event,n=e.users,c=e.isOpenSetAgent,a=e.handleCloseSetAgent,r=e.handleSetAgent,o=e.handleRemoveAgent,l=Object(i.useState)(""),d=Object(s.a)(l,2),j=d[0],h=d[1],b=Object(ot.a)(500,(function(e){return h(e.target.value)}));return Object(p.jsx)(Xe.a,{open:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,height:"calc(100vh - 300px)",bgcolor:"white",boxShadow:24},children:[Object(p.jsx)(_e.a,{sx:{bgcolor:"blue",color:"white",p:3},children:Object(p.jsx)(T.a,{id:"modal-modal-title",variant:"h5",component:"h2",align:"center",sx:{fontWeight:"bolder"},children:"Th\xeam Agent cho s\u1ef1 ki\u1ec7n"})}),Object(p.jsxs)(_e.a,{sx:{p:3},children:[Object(p.jsxs)(Ce.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[Object(p.jsx)(tt.c,{sx:{ml:1,flex:1},placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng",inputProps:{"aria-label":"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng"},onChange:b}),Object(p.jsx)(E.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(p.jsx)(rt.a,{})})]}),Object(p.jsx)(ne.a,{sx:{width:"100%",height:"calc(100vh - 550px)",overflow:"scroll",marginTop:2},children:n.filter((function(e){return e.username.match(j)})).map((function(e){return Object(p.jsx)(P.a,{secondaryAction:Object(p.jsxs)(p.Fragment,{children:[!t.owner.includes(e._id)&&Object(p.jsx)(Se.a,{edge:"end","aria-label":"delete",variant:"contained",color:"success",sx:{borderRadius:"50%",height:"50px"},onClick:function(){return r(t._id,e._id)},children:Object(p.jsx)(Ht.a,{})}),t.owner.includes(e._id)&&Object(p.jsx)(Se.a,{edge:"end","aria-label":"delete",variant:"contained",color:"error",sx:{borderRadius:"50%",height:"50px"},onClick:function(){return o(t._id,e._id)},children:Object(p.jsx)(Mt.a,{})})]}),children:Object(p.jsx)(R.a,{primary:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{children:e.username}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#0000FF"},children:"H\u1ecd v\xe0 t\xean:\xa0"}),e.fullName]}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#2e7d32"},children:"\u0110\u1ecba ch\u1ec9 email:\xa0"}),e.email]})]})})},e._id)}))}),Object(p.jsx)(_e.a,{sx:{p:3,display:"flex",justifyContent:"flex-end"},children:Object(p.jsx)(Se.a,{variant:"contained",color:"error",onClick:a,sx:{ml:3},children:"H\u1ee7y"})})]})]})})}function qt(e){var t=e.event,n=e.users,c=e.handleSetAgent,a=e.handleRemoveAgent,r=e.isAgent,o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],j=l[1],h=Object(i.useState)(!1),b=Object(s.a)(h,2),x=b[0],O=b[1],g=Object(i.useState)(""),m=Object(s.a)(g,2),f=m[0],v=m[1],w=Object(i.useState)(0),y=Object(s.a)(w,2),k=y[0],C=y[1],S=Object(i.useState)(10),D=Object(s.a)(S,2),_=D[0],T=D[1],E=function(){(function(e,t){return u.get("/event/".concat(e,"/qrcode"),{headers:{Authorization:"Bearer "+Te},params:{expire:t}})})(t._id,_).then((function(e){v(e.message.qrcode),C(1*e.message.expireIn),j(!0)})).catch((function(e){j(!1),pt.a.fire({position:"center",icon:"error",title:"S\u1ef1 ki\u1ec7n ".concat(t.name," ch\u01b0a b\u1eaft \u0111\u1ea7u!"),showConfirmButton:!1,timer:2e3,target:"body"})}))};return Object(p.jsxs)(Ie.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.name}),Object(p.jsx)(Pe.a,{align:"left",children:t.location}),Object(p.jsx)(Pe.a,{align:"center",children:new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.dateEvent).toLocaleDateString("vi-VN")}),Object(p.jsxs)(Pe.a,{align:"center",children:[Object(p.jsx)(De.a,{sx:{width:"100px"},type:"number",variant:"standard",value:_,onChange:function(e){e.target.value>=0&&T(e.target.value),e.preventDefault()}}),Object(p.jsx)("i",{children:"Minute(s)"})]}),Object(p.jsxs)(Pe.a,{align:"center",children:[!r&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Se.a,{variant:"contained",color:"success",sx:{ml:2},size:"medium",onClick:function(){O(!0)},children:"SET AGENT"}),x&&Object(p.jsx)(Gt,{isOpenSetAgent:x,handleCloseSetAgent:function(){O(!1)},event:t,users:n,handleSetAgent:c,handleRemoveAgent:a})]}),Object(p.jsx)(Se.a,{variant:"contained",sx:{ml:2},size:"medium",onClick:function(){E()},disabled:new Date(t.dateEvent)>new Date,children:"B\u1eaeT \u0110\u1ea6U CHECK-IN"}),d&&Object(p.jsx)(It,{modalQRCode:d,handleCloseModalQRCode:function(){j(!1)},event:t,qrCode:f,qrCodeExpire:k,getQRCodeFN:E})]})]})}function Ut(e){var t,n=e.isAgent,c=Object(i.useState)(0),a=Object(s.a)(c,2),r=a[0],o=a[1],l=Object(i.useState)(10),d=Object(s.a)(l,2),j=d[0],h=d[1],b=Object(i.useState)(null),O=Object(s.a)(b,2),g=O[0],m=O[1],f=Object(i.useState)([]),v=Object(s.a)(f,2),w=v[0],k=v[1],C=Object(i.useState)([]),S=Object(s.a)(C,2),D=S[0],E=S[1],A=Object(i.useState)([]),B=Object(s.a)(A,2),W=B[0],V=B[1];Object(i.useEffect)((function(){return document.title="Agent",Ee().then((function(e){return k(e.event)})),n||u.get("/admin/agents/",{headers:{Authorization:"Bearer "+x}}).then((function(e){return E(e.users)})),function(){k([]),E([]),V([])}}),[n]),Object(i.useEffect)((function(){V(null===g?w:w.filter((function(e){return new Date(e.dateEvent).toDateString()===new Date(g).toDateString()})))}),[g,w]);var P=function(e,t){(function(e,t){return u.put("/manager/event/".concat(e,"/setAgent/").concat(t),{},{headers:{Authorization:"Bearer "+Te}})})(e,t).then((function(t){var n=Object(fe.a)(w),i=w.findIndex((function(t){return t._id===e}));n[i]=Object.assign(n[i],t.event),k(n)}))},N=function(e,t){(function(e,t){return u.put("/manager/event/".concat(e,"/removeAgent/").concat(t),{},{headers:{Authorization:"Bearer "+Te}})})(e,t).then((function(t){var n=Object(fe.a)(w),i=w.findIndex((function(t){return t._id===e}));n[i]=Object.assign(n[i],t.event),k(n)}))};return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Agent"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"Ph\xe1t QR Code cho s\u1ef1 ki\u1ec7n"})]})}),Object(p.jsx)(ye.a,{maxWidth:"xl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsx)(Ie.a,{children:Object(p.jsx)(Pe.a,{colSpan:7,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Fe.a,{label:"Ch\u1ecdn ng\xe0y",mask:"__/__/____",value:g,onChange:function(e){m(e)},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})})}),Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\xe0y t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1eb7t th\u1eddi gian h\u1ebft h\u1ea1n"})}),Object(p.jsx)(Pe.a,{style:{minWidth:"420px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\xe0nh \u0111\u1ed9ng"})})]})}),Object(p.jsx)(Ve.a,{children:null===(t=W.sort((function(e,t){return new Date(t.dateEvent)-new Date(e.dateEvent)})).slice(r*j,r*j+j))||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(qt,{event:e,users:D,handleSetAgent:P,handleRemoveAgent:N,isAgent:n},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===W||void 0===W?void 0:W.length,rowsPerPage:j,page:r,onPageChange:function(e,t){o(t)},onRowsPerPageChange:function(e){h(+e.target.value),o(0)}})]})})})})]})}var Qt=n(215),Kt=n.n(Qt),Xt=n(214),Jt=n.n(Xt);function Yt(e){var t,n=e.report,i=e.modalReport,c=e.handleCloseModalReport,a=e.handleGetReportFile;return Object(p.jsx)(Xe.a,{open:i,onClose:c,"aria-labelledby":"modal-modal-title-edit","aria-describedby":"modal-modal-description-edit",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"90%",bgcolor:"white",boxShadow:24},children:[Object(p.jsx)(_e.a,{sx:{bgcolor:"blue",color:"white",p:3},children:Object(p.jsxs)(T.a,{id:"modal-modal-title",variant:"h5",component:"h2",align:"center",sx:{fontWeight:"bolder"},children:["B\xe1o c\xe1o s\u1ef1 ki\u1ec7n: ",null===n||void 0===n?void 0:n.name]})}),Object(p.jsxs)(ke.a,{container:!0,spacing:3,sx:{mt:4,pl:2,pr:2},children:[Object(p.jsx)(ke.a,{item:!0,xs:9,children:Object(p.jsx)(Ne.a,{sx:{height:"650px"},children:Object(p.jsxs)(We.a,{sx:{minWidth:650,overflow:"scroll",border:"1px solid rgba(224, 224, 224, 1)"},size:"small","aria-label":"a dense table",children:[Object(p.jsx)(Re.a,{sx:{bgcolor:"yellow"},children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",children:"H\u1ecd v\xe0 t\xean"}),Object(p.jsx)(Pe.a,{align:"center",children:"Username"}),Object(p.jsx)(Pe.a,{align:"center",children:"Th\u1eddi gian check in"}),Object(p.jsx)(Pe.a,{align:"center",children:"Thi\u1ebft b\u1ecb check in"}),Object(p.jsx)(Pe.a,{align:"center",children:"\u0110\xe3 check in"})]})}),Object(p.jsx)(Ve.a,{children:null===(t=n.listCheckin)||void 0===t?void 0:t.map((function(e){var t,n;return Object(p.jsxs)(Ie.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(p.jsx)(Pe.a,{align:"left",children:null===(t=e.visiter)||void 0===t?void 0:t.fullName}),Object(p.jsx)(Pe.a,{align:"left",children:null===(n=e.visiter)||void 0===n?void 0:n.username}),Object(p.jsx)(Pe.a,{align:"center",children:e.timeCheckin?new Date(null===e||void 0===e?void 0:e.timeCheckin).getDate()+"/"+(new Date(null===e||void 0===e?void 0:e.timeCheckin).getMonth()+1)+"/"+new Date(null===e||void 0===e?void 0:e.timeCheckin).getFullYear():"N/A"}),Object(p.jsx)(Pe.a,{align:"left",children:e.imei}),Object(p.jsx)(Pe.a,{align:"center",children:(null===e||void 0===e?void 0:e.isCheckin)?Object(p.jsx)(Jt.a,{sx:{color:"blue"}}):Object(p.jsx)(Kt.a,{sx:{color:"red"}})})]},e._id)}))})]})})}),Object(p.jsx)(ke.a,{item:!0,xs:3,children:Object(p.jsxs)(Ce.a,{sx:{width:"100%",p:4},children:[Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{children:"T\u1ed5ng s\u1ed1 ng\u01b0\u1eddi tham gia:"})," ",n.listCheckin.length]}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{children:"T\u1ed5ng s\u1ed1 ng\u01b0\u1eddi \u0111\xe3 check in:"})," ",n.listCheckin.filter((function(e){return e.isCheckin})).length]}),Object(p.jsx)(Se.a,{variant:"contained",color:"success",sx:{mt:4},onClick:function(){return a()},children:"DOWNLOAD EXCEL"})]})})]})]})})}var Zt=n(216);function $t(e){var t=e.event,n=(e.user,Object(i.useState)(!1)),c=Object(s.a)(n,2),a=c[0],r=c[1],o=Object(i.useState)(null),l=Object(s.a)(o,2),d=l[0],j=l[1],h=function(){var e=Object(St.a)(Ct.a.mark((function e(){var n,i;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=t._id,u.get("/event/".concat(c,"/reportFile"),{responseType:"arraybuffer",headers:{Authorization:"Bearer "+Te}});case 2:n=e.sent,i=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(Zt.saveAs)(i,"report-".concat(t.name,".xlsx"));case 5:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e;return(e=t._id,u.get("/event/".concat(e,"/report"),{headers:{Authorization:"Bearer "+Te}})).then((function(e){return j(e.result)})),function(){return j(null)}}),[t._id]),Object(p.jsxs)(Ie.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.name}),Object(p.jsx)(Pe.a,{align:"left",children:t.location}),Object(p.jsx)(Pe.a,{align:"center",children:new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.dateEvent).toLocaleDateString("vi-VN")}),Object(p.jsx)(Pe.a,{align:"center",children:Object(p.jsx)("b",{style:{color:"red",fontSize:"18px"},children:"public"!==t.typeEvent?t.listVisitersCheckin.filter((function(e){return!1===e.isCheckin})).length:"N/A"})}),Object(p.jsx)(Pe.a,{align:"center",children:Object(p.jsx)("b",{style:{color:"red",fontSize:"18px"},children:t.listVisitersCheckin.filter((function(e){return!0===e.isCheckin})).length})}),Object(p.jsxs)(Pe.a,{align:"center",children:[Object(p.jsx)(Se.a,{variant:"contained",color:"warning",sx:{ml:2},size:"medium",onClick:function(){r(!0)},disabled:Date.now()<new Date(t.dateEvent).getTime(),children:"GET REPORT"}),a&&Object(p.jsx)(Yt,{report:d,modalReport:a,handleCloseModalReport:function(){r(!1)},handleGetReportFile:h})]})]})}function en(){var e,t=Object(i.useState)(0),n=Object(s.a)(t,2),c=n[0],a=n[1],r=Object(i.useState)(10),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(null),h=Object(s.a)(j,2),b=h[0],u=h[1],x=Object(i.useState)([]),O=Object(s.a)(x,2),g=O[0],m=O[1],f=Object(i.useState)([]),v=Object(s.a)(f,2),w=v[0],k=v[1];Object(i.useEffect)((function(){return document.title="Report",Ee().then((function(e){return m(e.event)})),function(){m([]),k([])}}),[]),Object(i.useEffect)((function(){k(null===b?g:g.filter((function(e){return new Date(e.dateEvent).toDateString()===new Date(b).toDateString()})))}),[b,g]);return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsx)(we.a,{children:Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Report"})})}),Object(p.jsx)(ye.a,{maxWidth:"xl",sx:{mb:1},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:2,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh",marginTop:5},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsx)(Ie.a,{children:Object(p.jsx)(Pe.a,{colSpan:7,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Fe.a,{label:"Ch\u1ecdn ng\xe0y",mask:"__/__/____",value:b,onChange:function(e){u(e)},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})})}),Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\xe0y t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u0103ng k\xfd tham gia"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\xe3 check-in"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\xe0nh \u0111\u1ed9ng"})})]})}),Object(p.jsx)(Ve.a,{children:null===(e=w.sort((function(e,t){return new Date(t.dateEvent)-new Date(e.dateEvent)})).slice(c*l,c*l+l))||void 0===e?void 0:e.map((function(e){return Object(p.jsx)($t,{event:e},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===w||void 0===w?void 0:w.length,rowsPerPage:l,page:c,onPageChange:function(e,t){a(t)},onRowsPerPageChange:function(e){d(+e.target.value),a(0)}})]})})})})]})}function tn(e){var t=e.user,n=e.isAdmin,i=e.handleSetAgent,c=e.handleSetManager,a=e.handleSetVisiter,r=function(){return"Manager"===t.role&&!n};return Object(p.jsxs)(Ie.a,{hover:!0,tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.username}),Object(p.jsx)(Pe.a,{align:"left",children:t.fullName}),Object(p.jsx)(Pe.a,{align:"left",children:t.email}),Object(p.jsx)(Pe.a,{align:"left",children:t.phone}),Object(p.jsx)(Pe.a,{align:"left",children:t.address}),Object(p.jsx)(Pe.a,{align:"left",children:t.workUnit}),Object(p.jsx)(Pe.a,{align:"left",children:t.addressUnit}),Object(p.jsx)(Pe.a,{align:"center",children:t.idCB||"X"}),Object(p.jsx)(Pe.a,{align:"center",children:t.idSV||"X"}),Object(p.jsx)(Pe.a,{align:"center",children:t.role}),Object(p.jsx)(Pe.a,{align:"center",sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Admin"!==t.role?Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsx)(Se.a,{disabled:r()||"Agent"===t.role,width:"20%",variant:"contained",color:"primary",onClick:function(){i(t._id)},children:"AGENT"}),n&&Object(p.jsx)(Se.a,{width:"20%",disabled:!n||"Manager"===t.role,variant:"contained",color:"success",onClick:function(){c(t._id)},children:"MANAGER"}),Object(p.jsx)(Se.a,{disabled:r()||"Visiter"===t.role,width:"20%",variant:"contained",color:"warning",onClick:function(){a(t._id)},children:"VISITER"})]}):Object(p.jsx)(Se.a,{disabled:!0,fullWidth:!0,variant:"contained",children:"ADMIN"})})]})}function nn(e){var t,n=e.isAdmin,c=Object(i.useState)(0),a=Object(s.a)(c,2),r=a[0],o=a[1],l=Object(i.useState)(10),d=Object(s.a)(l,2),j=d[0],h=d[1],b=Object(i.useState)([]),O=Object(s.a)(b,2),m=O[0],f=O[1],v=Object(i.useState)(""),w=Object(s.a)(v,2),y=w[0],k=w[1],C=Object(ot.a)(500,(function(e){k(e.target.value),o(0)}));Object(i.useEffect)((function(){return document.title="Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",g().then((function(e){return f(e.users)})),function(){f([])}}),[]);var S=function(e){var t;(t=e,u.put("/admin/setAgent/".concat(t),{},{headers:{Authorization:"Bearer "+x}})).then((function(){g().then((function(e){return f(e.users)})),pt.a.fire({position:"center",icon:"success",title:"Set agent success",showConfirmButton:!1,timer:2e3,target:"body"})}))},D=function(e){var t;(t=e,u.put("/admin/setManager/".concat(t),{},{headers:{Authorization:"Bearer "+x}})).then((function(){g().then((function(e){return f(e.users)})),pt.a.fire({position:"center",icon:"success",title:"Set manager success",showConfirmButton:!1,timer:2e3,target:"body"})}))},A=function(e){var t;(t=e,u.put("/admin/setVisiter/".concat(t),{},{headers:{Authorization:"Bearer "+x}})).then((function(){g().then((function(e){return f(e.users)})),pt.a.fire({position:"center",icon:"success",title:"Set visiter success",showConfirmButton:!1,timer:2e3,target:"body"})}))};return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"T\xecm ki\u1ebfm, c\u1ea5p quy\u1ec1n, x\xf3a t\xe0i kho\u1ea3n ng\u01b0\u1eddi d\xf9ng"})]})}),Object(p.jsx)(ye.a,{maxWidth:"xxl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsxs)(Ce.a,{sx:{mt:"30px",mb:"30px",p:"2px 4px",display:"flex",alignItems:"center",width:"50%"},children:[Object(p.jsx)(tt.c,{sx:{ml:1,flex:1},placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng",inputProps:{"aria-label":"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng"},onChange:C}),Object(p.jsx)(E.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(p.jsx)(rt.a,{})})]}),Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"50px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Username"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\u1ecd v\xe0 t\xean"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Email"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"130px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba ch\u1ec9"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u01a1n v\u1ecb c\xf4ng t\xe1c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba ch\u1ec9 \u0111\u01a1n v\u1ecb c\xf4ng t\xe1c "})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"110px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"M\xe3 c\xe1n b\u1ed9"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"120px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"M\xe3 sinh vi\xean"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"120px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"ROLE"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"400px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\xe0nh \u0111\u1ed9ng"})})]})}),Object(p.jsx)(Ve.a,{children:null===(t=m.filter((function(e){return e.username.match(y)})).slice(r*j,r*j+j))||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(tn,{user:e,isAdmin:n,handleSetAgent:S,handleSetManager:D,handleSetVisiter:A},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===m||void 0===m?void 0:m.length,rowsPerPage:j,page:r,onPageChange:function(e,t){o(t)},onRowsPerPageChange:function(e){h(+e.target.value),o(0)}})]})})})})]})}function cn(){Object(i.useEffect)((function(){document.title="Not Found"}),[]);return Object(p.jsxs)("div",{className:"FourOhFour",style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",background:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(p.jsx)("div",{className:"bg",style:{backgroundColor:"#0000ff",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",backgroundSize:"cover",mixBlendMode:"overlay"}}),Object(p.jsxs)("div",{className:"code",style:{fontFamily:"Alfa Slab One, cursive",fontSize:"144px",height:"100vh",color:"white",width:"100%",display:"flex",backgorundPosition:"center",alignItems:"center",backgroundSize:"cover",justifyContent:"center",flexDirection:"column",zIndex:"1"},children:["404",Object(p.jsx)("a",{href:"/",style:{fontSize:"50px"},children:"GO HOME"})]})]})}function an(e){var t=e.visiters,n=e.group,c=e.modalAddToGroup,a=e.handleCloseAddToGroup,r=e.handleAddToGroup,o=e.handleAddToGroupByFile,l=Object(i.useState)(n.users.reduce((function(e,t){return e.push(t),e}),[])),d=Object(s.a)(l,2),j=d[0],h=d[1],b=Object(i.useState)(""),u=Object(s.a)(b,2),x=u[0],O=u[1],g=Object(ot.a)(500,(function(e){return O(e.target.value)})),m=Object(i.useState)(),f=Object(s.a)(m,2),v=f[0],w=f[1];return Object(p.jsx)(Xe.a,{open:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(p.jsxs)(_e.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,height:"calc(100vh - 250px)",bgcolor:"white",boxShadow:24},children:[Object(p.jsx)(_e.a,{sx:{bgcolor:"blue",color:"white",p:3},children:Object(p.jsx)(T.a,{id:"modal-modal-title",variant:"h5",component:"h2",align:"center",sx:{fontWeight:"bolder"},children:"Th\xeam V\xe0o Nh\xf3m"})}),Object(p.jsxs)(_e.a,{sx:{width:"100%",p:2},children:[Object(p.jsxs)(_e.a,{sx:{boxShadow:2,mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(p.jsxs)("label",{htmlFor:"upload-photo",children:[Object(p.jsx)("input",{hidden:!0,id:"upload-photo",name:"upload-photo",type:"file",accept:".xlsx",onChange:function(e){var t=e.target.files[0];w(t)}}),Object(p.jsxs)(it.a,{color:"secondary",size:"small",component:"span","aria-label":"add",variant:"extended",children:[Object(p.jsx)(Ke.a,{})," Upload File"]}),Object(p.jsx)(T.a,{variant:"caption",sx:{ml:1},children:null===v||void 0===v?void 0:v.name})]}),Object(p.jsx)(Se.a,{variant:"contained",color:"success",type:"button",sx:{ml:1},onClick:function(){a(),v&&o(n,v)},children:"Th\xeam b\u1eb1ng file"})]}),Object(p.jsxs)(Ce.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[Object(p.jsx)(tt.c,{sx:{ml:1,flex:1},placeholder:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng",inputProps:{"aria-label":"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng"},onChange:g}),Object(p.jsx)(E.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(p.jsx)(rt.a,{})})]}),Object(p.jsx)(ne.a,{sx:{width:"100%",height:"calc(100vh - 550px)",overflow:"scroll",marginTop:2},children:t.filter((function(e){return e.username.match(x)})).map((function(e){var t,n="checkbox-list-label-".concat(e._id);return Object(p.jsx)(P.a,{disablePadding:!0,children:Object(p.jsxs)(ie.a,{role:void 0,onClick:(t=e._id,function(){var e=j.indexOf(t),n=Object(fe.a)(j);-1===e?n.push(t):n.splice(e,1),h(n)}),dense:!0,children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(nt.a,{edge:"start",checked:-1!==j.indexOf(e._id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),Object(p.jsx)(R.a,{id:n,primary:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{children:e.username}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#0000FF"},children:"H\u1ecd v\xe0 t\xean:\xa0"}),e.fullName]}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)("b",{style:{color:"#2e7d32"},children:"\u0110\u1ecba ch\u1ec9 email:\xa0"}),e.email]})]})})]})},e._id)}))}),Object(p.jsxs)(_e.a,{sx:{p:3,display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(Se.a,{variant:"contained",color:"success",type:"button",onClick:function(){a(),r(n,j)},children:"Th\xeam"}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",onClick:a,sx:{ml:3},children:"H\u1ee7y"})]})]})]})})}function rn(e){var t=e.group,n=e.handleDeleteGroup,c=e.handleAddToGroup,a=e.handleAddToGroupByFile,r=Object(i.useState)(!1),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)([]),h=Object(s.a)(j,2),b=h[0],u=h[1];Object(i.useEffect)((function(){return O().then((function(e){return u(e.users)})),function(){u([])}}),[]);return Object(p.jsxs)(Ie.a,{hover:!0,tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"center",children:t.groupName}),Object(p.jsx)(Pe.a,{align:"center",children:t.users.length}),Object(p.jsxs)(Pe.a,{align:"center",children:[Object(p.jsx)(Se.a,{variant:"contained",color:"primary",sx:{ml:2},size:"medium",onClick:function(){return d(!0)},children:"Th\xeam th\xe0nh vi\xean"}),l&&Object(p.jsx)(an,{modalAddToGroup:l,handleCloseAddToGroup:function(){d(!1)},handleAddToGroup:c,handleAddToGroupByFile:a,group:t,visiters:b}),Object(p.jsx)(Se.a,{variant:"contained",color:"error",sx:{ml:2},size:"medium",onClick:function(){return n(t._id)},children:"X\xf3a nh\xf3m"})]})]})}function on(e){e.isAdmin;var t,n=Object(i.useState)(0),c=Object(s.a)(n,2),a=c[0],r=c[1],o=Object(i.useState)(10),l=Object(s.a)(o,2),d=l[0],j=l[1],h=Object(i.useState)([]),b=Object(s.a)(h,2),O=b[0],g=b[1],f=Object(i.useState)(""),v=Object(s.a)(f,2),w=v[0],y=v[1],k=Object(i.useState)(""),C=Object(s.a)(k,2),S=C[0],D=C[1],A=Object(ot.a)(500,(function(e){D(e.target.value),r(0)}));Object(i.useEffect)((function(){return document.title="Qu\u1ea3n l\xfd nh\xf3m ng\u01b0\u1eddi d\xf9ng",m().then((function(e){return g(e.groups)})),function(){g([])}}),[]);var B=function(e){var t;""===w.trim()?e.preventDefault():(t={groupName:w},u.post("/user/group",t,{headers:{Authorization:"Bearer "+x}})).then((function(e){g([].concat(Object(fe.a)(O),[e.group]))}))},W=function(e){pt.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a nh\xf3m n\xe0y ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 quay l\u1ea1i, b\u1ea1n c\xf3 ch\u1eafc kh\xf4ng?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1976d2",cancelButtonColor:"#d32f2f",confirmButtonText:"\u0110\u1ed3ng \xfd",cancelButtonText:"H\u1ee7y"}).then((function(t){t.isConfirmed&&function(e){return u.delete("/user/group/".concat(e),{headers:{Authorization:"Bearer "+x}})}(e).then((function(){var t=O.filter((function(t){return t._id!==e}));g(t),pt.a.fire({position:"center",icon:"success",title:"Delete Group success",showConfirmButton:!1,timer:2e3,target:"body"})}))}))},V=function(e,t){var n,i;(n=e._id,i={listVisiter:t},u.put("/user/group/".concat(n),i,{headers:{Authorization:"Bearer "+x}})).then((function(e){m().then((function(e){return g(e.groups)})),pt.a.fire({position:"center",icon:"success",title:"Th\xeam th\xe0nh c\xf4ng visiter v\xe0o nh\xf3m ".concat(e.group.groupName),showConfirmButton:!1,timer:2e3,target:"body"})}))},P=function(e,t){var n,i,c=new FormData;c.append("file",t),(n=e._id,i=c,u.post("/user/group/".concat(n,"/addByFile"),i,{headers:{Authorization:"Bearer "+x}})).then((function(t){m().then((function(e){return g(e.groups)})),pt.a.fire({position:"center",icon:"success",title:"Th\xeam th\xe0nh c\xf4ng ng\u01b0\u1eddi d\xf9ng v\xe0o nh\xf3m ".concat(e.groupName),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam ng\u01b0\u1eddi d\xf9ng v\xe0o nh\xf3m ".concat(e.groupName,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))};return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"T\xecm ki\u1ebfm, c\u1ea5p quy\u1ec1n, x\xf3a t\xe0i kho\u1ea3n ng\u01b0\u1eddi d\xf9ng"})]})}),Object(p.jsx)(ye.a,{maxWidth:"xxl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsxs)(_e.a,{sx:{mt:5,display:"flex",alignItems:"center"},children:[Object(p.jsx)(De.a,{label:"Nh\u1eadp t\xean nh\xf3m m\u1edbi",onChange:function(e){return y(e.target.value)}}),Object(p.jsx)(Se.a,{variant:"contained",color:"primary",sx:{ml:"10px",height:"56px"},onClick:function(e){return B(e)},children:"Th\xeam nh\xf3m m\u1edbi"})]}),Object(p.jsxs)(Ce.a,{sx:{mt:"30px",mb:"30px",p:"2px 4px",display:"flex",alignItems:"center",width:"50%"},children:[Object(p.jsx)(tt.c,{sx:{ml:1,flex:1},placeholder:"T\xecm ki\u1ebfm nh\xf3m",inputProps:{"aria-label":"T\xecm ki\u1ebfm nh\xf3m"},onChange:A}),Object(p.jsx)(E.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(p.jsx)(rt.a,{})})]}),Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"30%",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean nh\xf3m"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"30%",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 l\u01b0\u1ee3ng th\xe0nh vi\xean"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"40%",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\xe0nh \u0111\u1ed9ng"})})]})}),Object(p.jsx)(Ve.a,{children:null===(t=O.filter((function(e){return e.groupName.toLowerCase().match(S.toLowerCase())})).slice(a*d,a*d+d))||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(rn,{group:e,handleDeleteGroup:W,handleAddToGroup:V,handleAddToGroupByFile:P},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===O||void 0===O?void 0:O.length,rowsPerPage:d,page:a,onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){j(+e.target.value),r(0)}})]})})})})]})}function sn(e){var t=e.event;e.user;return console.log(t),Object(p.jsxs)(Ie.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.name}),Object(p.jsx)(Pe.a,{align:"left",children:t.location}),Object(p.jsxs)(Pe.a,{align:"center",children:[" ",new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.dateEvent).toLocaleDateString("vi-VN")]}),Object(p.jsxs)(Pe.a,{align:"center",children:["public"===t.typeEvent&&"S\u1ef1 ki\u1ec7n c\xf4ng khai","private"===t.typeEvent&&"S\u1ef1 ki\u1ec7n ri\xeang ","restricted"===t.typeEvent&&"S\u1ef1 ki\u1ec7n h\u1ea1n ch\u1ebf"]}),Object(p.jsxs)(Pe.a,{align:"center",children:[Date.now()>new Date(t.dateEvent).getTime()&&"\u0110\xe3 k\u1ebft th\xfac",Date.now()<new Date(t.dateEvent).getTime()&&"S\u1eafp di\u1ec5n ra",Date.now()===new Date(t.dateEvent).getTime()&&"\u0110ang di\u1ec5n ra"]})]})}function ln(e){var t,n=e.children,c=Object(i.useState)(0),a=Object(s.a)(c,2),r=a[0],o=a[1],l=Object(i.useState)(10),d=Object(s.a)(l,2),j=d[0],h=d[1],b=Object(i.useState)(null),O=Object(s.a)(b,2),g=O[0],m=O[1],v=Object(i.useState)([]),w=Object(s.a)(v,2),k=w[0],C=w[1],S=Object(i.useState)([]),D=Object(s.a)(S,2),E=D[0],A=D[1],B=Object(i.useContext)(f),W=Object(s.a)(B,1)[0];Object(i.useEffect)((function(){return document.title="C\xe1c s\u1ef1 ki\u1ec7n \u0111\xe3 \u0111\u0103ng k\xfd",u.get("/user/event",{headers:{Authorization:"Bearer "+x}}).then((function(e){return C(e.event)})),function(){C([]),A([])}}),[]),Object(i.useEffect)((function(){A(null===g?k:k.filter((function(e){return new Date(e.dateEvent).toDateString()===new Date(g).toDateString()})))}),[g,k]);return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsx)(we.a,{children:Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Danh s\xe1ch s\u1ef1 ki\u1ec7n \u0111\xe3 \u0111\u0103ng k\xfd"})})}),Object(p.jsx)(ye.a,{maxWidth:"xl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsx)(Ie.a,{children:Object(p.jsx)(Pe.a,{colSpan:7,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Fe.a,{label:"Ch\u1ecdn ng\xe0y",mask:"__/__/____",value:g,onChange:function(e){m(e)},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})})}),Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\xe0y t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Lo\u1ea1i s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Tr\u1ea1ng th\xe1i"})})]})}),Object(p.jsx)(Ve.a,{children:null===(t=E.sort((function(e,t){return new Date(t.dateEvent)-new Date(e.dateEvent)})).slice(r*j,r*j+j))||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(sn,{event:e,user:W},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===E||void 0===E?void 0:E.length,rowsPerPage:j,page:r,onPageChange:function(e,t){o(t)},onRowsPerPageChange:function(e){h(+e.target.value),o(0)}})]})})})}),n]})}function dn(e){var t=e.event,n=e.handleDeleteEventAdmin;return Object(p.jsxs)(Ie.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(p.jsx)(Pe.a,{align:"left",children:t.name}),Object(p.jsx)(Pe.a,{align:"left",children:t.location}),Object(p.jsx)(Pe.a,{align:"center",children:new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.dateEvent).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.dateEvent).toLocaleDateString("vi-VN")}),Object(p.jsxs)(Pe.a,{align:"center",children:["public"===t.typeEvent&&"S\u1ef1 ki\u1ec7n c\xf4ng khai","private"===t.typeEvent&&"S\u1ef1 ki\u1ec7n ri\xeang","restricted"===t.typeEvent&&"S\u1ef1 ki\u1ec7n h\u1ea1n ch\u1ebf"]}),Object(p.jsx)(Pe.a,{align:"center",children:t.openReg?new Date(t.openReg).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.openReg).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.openReg).toLocaleDateString("vi-VN"):""}),Object(p.jsx)(Pe.a,{align:"center",children:t.endReg?new Date(t.endReg).toLocaleTimeString("vi-VN").split(":")[0]+":"+new Date(t.endReg).toLocaleTimeString("vi-VN").split(":")[1]+"\n"+new Date(t.endReg).toLocaleDateString("vi-VN"):""}),Object(p.jsx)(Pe.a,{align:"center",children:"public"!==t.typeEvent?t.listVisitersCheckin.filter((function(e){return!1===e.isCheckin})).length:"N/A"}),Object(p.jsx)(Pe.a,{align:"center",children:t.owner.find((function(e){return"Manager"===e.role})).username}),Object(p.jsx)(Pe.a,{align:"center",children:Object(p.jsx)(Se.a,{variant:"contained",color:"error",sx:{ml:2},size:"small",onClick:function(){n(t)},children:Object(p.jsx)(Ue.a,{})})})]})}var jn=function(){var e,t=Object(i.useState)(0),n=Object(s.a)(t,2),c=n[0],a=n[1],r=Object(i.useState)(10),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(null),h=Object(s.a)(j,2),b=h[0],x=h[1],O=Object(i.useState)([]),g=Object(s.a)(O,2),m=g[0],f=g[1],v=Object(i.useState)([]),w=Object(s.a)(v,2),k=w[0],C=w[1];Object(i.useEffect)((function(){return document.title="Qu\u1ea3n l\xfd s\u1ef1 ki\u1ec7n",Be().then((function(e){return f(e.events)})),function(){f([]),C([])}}),[]),Object(i.useEffect)((function(){C(null===b?m:m.filter((function(e){return new Date(e.dateEvent).toDateString()===new Date(b).toDateString()})))}),[b,m]);var S=function(e){pt.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a s\u1ef1 ki\u1ec7n n\xe0y ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 quay l\u1ea1i, b\u1ea1n c\xf3 ch\u1eafc kh\xf4ng?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1976d2",cancelButtonColor:"#d32f2f",confirmButtonText:"\u0110\u1ed3ng \xfd",cancelButtonText:"H\u1ee7y"}).then((function(t){var n;t.isConfirmed&&(n=e._id,u.delete("/admin/events/".concat(n,"/deleteEvent"),{headers:{Authorization:"Bearer "+Te}})).then((function(t){Be().then((function(e){return f(e.events)})),pt.a.fire({position:"center",icon:"success",title:"\u0110\xe3 x\xf3a s\u1ef1 ki\u1ec7n ".concat(e.name),showConfirmButton:!1,timer:2e3,target:"body"})})).catch((function(t){pt.a.fire({position:"center",icon:"error",title:"C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a s\u1ef1 ki\u1ec7n ".concat(e.name,"! Vui l\xf2ng th\u1eed l\u1ea1i"),showConfirmButton:!1,timer:2e3,target:"body"})}))}))};return Object(p.jsxs)(_e.a,{component:"main",sx:{backgroundColor:"#f5f5f5",flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(p.jsx)(_.a,{}),Object(p.jsx)(ve.a,{sx:{minWidth:100,position:"relative",top:"15px",ml:4,mr:4,boxShadow:3,backgroundColor:"#1976d2"},children:Object(p.jsxs)(we.a,{children:[Object(p.jsx)(T.a,{variant:"h5",component:"div",sx:{color:"white"},children:"Qu\u1ea3n l\xfd s\u1ef1 ki\u1ec7n"}),Object(p.jsx)(T.a,{sx:{fontSize:14},color:"white",gutterBottom:!0,children:"T\xecm ki\u1ebfm, thay \u0111\u1ed5i, th\xeam m\u1edbi, x\xf3a s\u1ef1 ki\u1ec7n"})]})}),Object(p.jsx)(ye.a,{maxWidth:"xxl",sx:{mb:4},children:Object(p.jsx)(ke.a,{container:!0,spacing:3,children:Object(p.jsx)(ke.a,{item:!0,xs:12,md:12,lg:12,children:Object(p.jsxs)(Ce.a,{sx:{p:4,pt:3,pb:0,display:"flex",flexDirection:"column",height:"100%"},children:[Object(p.jsx)(Ne.a,{sx:{maxHeight:"100vh"},children:Object(p.jsxs)(We.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(Re.a,{children:Object(p.jsx)(Ie.a,{children:Object(p.jsx)(Pe.a,{colSpan:7,children:Object(p.jsx)(He.b,{dateAdapter:Le.a,locale:$e.a,children:Object(p.jsx)(Fe.a,{label:"Ch\u1ecdn ng\xe0y",mask:"__/__/____",value:b,onChange:function(e){x(e)},renderInput:function(e){return Object(p.jsx)(De.a,Object(y.a)({},e))}})})})})}),Object(p.jsx)(Re.a,{children:Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"T\xean s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\xe0y t\u1ed5 ch\u1ee9c"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Lo\u1ea1i s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"M\u1edf \u0111\u0103ng k\xfd"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"K\u1ebft th\xfac \u0111\u0103ng k\xfd"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"100px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"S\u1ed1 l\u01b0\u1ee3ng tham gia"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"200px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"Ng\u01b0\u1eddi t\u1ea1o s\u1ef1 ki\u1ec7n"})}),Object(p.jsx)(Pe.a,{align:"center",style:{minWidth:"150px",backgroundColor:"#1976d2",color:"white"},children:Object(p.jsx)("b",{children:"H\xe0nh \u0111\u1ed9ng"})})]})}),Object(p.jsx)(Ve.a,{children:null===(e=k.sort((function(e,t){return new Date(t.dateEvent)-new Date(e.dateEvent)})).slice(c*l,c*l+l))||void 0===e?void 0:e.map((function(e){return Object(p.jsx)(dn,{event:e,handleDeleteEventAdmin:S},e._id)}))})]})}),Object(p.jsx)(ze.a,{rowsPerPageOptions:[10,25,100],component:"div",count:null===k||void 0===k?void 0:k.length,rowsPerPage:l,page:c,onPageChange:function(e,t){a(t)},onRowsPerPageChange:function(e){d(+e.target.value),a(0)}})]})})})})]})};var hn=function(){var e=Object(i.useContext)(f),t=Object(s.a)(e,1)[0],n=function(e){if(!e)return null;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.includes(e.role)?e:null};return Object(p.jsxs)(w.d,{children:[Object(p.jsx)(pe,{exact:!0,path:"/",auth:n(t,"Manager","Agent","Visiter","Admin"),component:At}),Object(p.jsx)(pe,{exact:!0,path:"/signup",auth:n(t,"Manager","Agent","Visiter","Admin"),component:Wt}),Object(p.jsx)(ge,{path:"/account",auth:n(t,"Manager","Agent","Visiter"),component:yt}),Object(p.jsx)(ge,{path:"/event",auth:n(t,"Manager"),component:vt}),Object(p.jsx)(ge,{path:"/agent",auth:n(t,"Manager","Agent"),component:function(){return Object(p.jsx)(Ut,{isAgent:"Agent"===t.role})}}),Object(p.jsx)(ge,{path:"/report",auth:n(t,"Manager"),component:en}),Object(p.jsx)(ge,{path:"/list-event",auth:n(t,"Visiter"),component:Rt}),Object(p.jsx)(ge,{path:"/list-reg-event",auth:n(t,"Visiter"),component:ln}),Object(p.jsx)(ge,{path:"/visiter-manager",auth:n(t,"Admin","Manager"),component:function(){return Object(p.jsx)(nn,{isAdmin:"Admin"===t.role})}}),Object(p.jsx)(ge,{path:"/event-admin",auth:n(t,"Admin"),component:function(){return Object(p.jsx)(jn,{})}}),Object(p.jsx)(ge,{path:"/group-visiter",auth:n(t,"Manager"),component:function(){return Object(p.jsx)(on,{})}}),Object(p.jsx)(w.b,{path:"*",render:function(){return Object(p.jsx)(cn,{})}})]})};var bn=function(){return Object(p.jsxs)(v,{children:[Object(p.jsx)(o.a,{}),Object(p.jsx)(hn,{})]})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(ee.a,{children:Object(p.jsx)(bn,{})})}),document.getElementById("root"))}},[[296,1,2]]]);
//# sourceMappingURL=main.010385f6.chunk.js.map