{"version":3,"sources":["api/callApi.js","api/userApi.js","config/UserContext.jsx","components/Dashboard/LeftList.jsx","components/Dashboard/NavLeft.jsx","pages/Dashboard.jsx","components/Footer.jsx","router/PrivateRoute.jsx","router/PublicRoute.jsx","api/eventApi.js","components/Dashboard/MainContent/EventManager/ModalEditEvent.jsx","components/Dashboard/MainContent/EventManager/ModalAddVisiter.jsx","components/Dashboard/MainContent/EventManager/RowEvent.jsx","components/Dashboard/MainContent/EventManager/ModalAddEvent.jsx","components/Dashboard/MainContent/EventManager/EventManager.jsx","components/Dashboard/MainContent/Account.jsx","assets/images/logoSmall.png","api/authApi.js","pages/Auth/SignIn.jsx","pages/Auth/SignUp.jsx","components/Dashboard/MainContent/ListEvent/RowListEvent.jsx","components/Dashboard/MainContent/ListEvent/ListEvent.jsx","components/Dashboard/MainContent/Agent/ModalQRCode.jsx","components/Dashboard/MainContent/Agent/ModalSetAgent.jsx","components/Dashboard/MainContent/Agent/RowAgent.jsx","components/Dashboard/MainContent/Agent/Agent.jsx","components/Dashboard/MainContent/Report/ModalReport.jsx","components/Dashboard/MainContent/Report/RowReport.jsx","components/Dashboard/MainContent/Report/Report.jsx","components/Dashboard/MainContent/VisiterManager/RowVisiter.jsx","components/Dashboard/MainContent/VisiterManager/VisiterManager.jsx","pages/NotFoundPage.jsx","router/AppRoute.jsx","App.js","index.js"],"names":["callApi","axios","create","baseURL","headers","paramsSerializer","params","queryString","stringify","interceptors","response","use","data","error","Promise","reject","token","localStorage","getItem","getAllUsers","get","Authorization","UserContext","createContext","UserContextProvider","children","useState","user","setUser","useEffect","then","res","Provider","value","LeftList","useContext","location","useLocation","checkRoles","role","includes","to","style","textDecoration","color","ListItem","button","selected","pathname","ListItemIcon","ListItemText","primary","AppBar","styled","MuiAppBar","shouldForwardProp","prop","theme","open","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","marginLeft","width","enteringScreen","Drawer","MuiDrawer","position","whiteSpace","boxSizing","overflowX","spacing","breakpoints","up","NavLeft","setOpen","toggleDrawer","Toolbar","sx","pr","minHeight","IconButton","edge","onClick","marginRight","display","Typography","component","variant","noWrap","flexGrow","fullName","alignItems","justifyContent","px","List","backgroundColor","ListItemButton","fontWeight","removeItem","window","Divider","Dashboard","Box","Footer","align","my","Date","getFullYear","PrivateRoute","auth","Component","rest","props","PublicRoute","pathRedirect","getOwnerEvent","ModalEditEvent","event","isOpenEdit","handleCloseEdit","handleUpdateEvent","useForm","register","handleSubmit","setValue","errors","formState","dateEvent","dateModal","setDateModal","typeEvent","setTypeEvent","openReg","dateOpenRegModal","setDateOpenRegModal","endReg","dateEndRegModal","setDateEndRegModal","Modal","top","left","transform","height","bgcolor","boxShadow","p","id","onSubmit","Grid","container","item","xs","md","sm","lg","TextField","fullWidth","name","helperText","type","label","defaultValue","required","LocalizationProvider","dateAdapter","AdapterDateFns","locale","enLocale","DatePicker","mask","onChange","newDate","renderInput","select","target","MenuItem","Button","ml","ModalAddVisiter","users","isOpenAddVisiter","handleCloseAddVisiter","handleAddVisiter","listVisitersCheckin","reduce","prevUser","curUser","push","visiter","checked","setChecked","searchFillter","setSearchFillter","handleFillterDebounce","debounce","e","Paper","InputBase","flex","placeholder","inputProps","overflow","marginTop","filter","username","match","map","labelId","_id","disablePadding","undefined","currentIndex","indexOf","newChecked","splice","dense","Checkbox","tabIndex","disableRipple","email","RowEvent","handleDeleteEvent","modalEditEvent","setModalEditEvent","modalAddVisiter","setModalAddVisiter","TableRow","hover","TableCell","getDate","getMonth","el","isCheckin","length","size","ModalAddEvent","isOpen","handleClose","addNewEventState","defaultValues","repeatEvent","now","setRepeatEvent","console","log","post","addNewEvent","Swal","fire","icon","title","showConfirmButton","timer","catch","err","defaultCalendarMonth","FormControl","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","EventManagerComponent","page","setPage","rowsPerPage","setRowsPerPage","date","setDate","events","setEvents","eventsFilter","setEventsFilter","modalAddEvent","setModalAddEvent","listUsers","setListUsers","document","toDateString","eventUpdate","dataUpdate","patch","eventsCopy","index","findIndex","Object","assign","eventDelete","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","listVisiter","Card","minWidth","mr","CardContent","fontSize","gutterBottom","Container","maxWidth","mb","pt","pb","flexDirection","TableContainer","maxHeight","Table","stickyHeader","TableHead","colSpan","concat","newValue","TableBody","sort","eventA","eventB","slice","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","AccountComponent","setError","mt","currentPassword","newPassword","updateInfo","phone","address","workUnit","addressUnit","idCB","idSV","disabled","updatePassword","setTimeout","status","signIn","signUp","SignIn","setErr","signInSubmit","a","password","trim","setItem","src","Logo","alt","borderRadius","marginBottom","noValidate","margin","Link","href","SignUp","submitSignUp","confirmPassword","signUpData","message","startsWith","errStr","split","replace","minLength","maxLength","textAlign","RowListEvent","handleRegisterToEvent","handleRemoveToEvent","checkReg","findUser","find","format","ListEvent","idEvent","ModalQRCode","modalQRCode","handleCloseModalQRCode","qrCode","qrCodeExpire","getQRCodeFN","timeLeft","setTimeLeft","countDown","setInterval","clearInterval","timeOut","elevation","Math","floor","toFixed","ModalSetAgent","isOpenSetAgent","handleCloseSetAgent","handleSetAgent","handleRemoveAgent","secondaryAction","owner","RowAgent","isAgent","setModalQRCode","modalSetAgent","setModalSetAgent","setQrCode","setQrCodeExpire","expire","setExpire","getQRCode","qrcode","expireIn","setHours","AgentComponent","listAgents","setListAgents","idAgent","put","setAgent","removeAgent","ModalReport","report","modalReport","handleCloseModalReport","onClose","RowReport","setModalReport","setReport","ReportComponent","RowVisiter","isAdmin","handleSetManager","handleSetVisiter","handleDeleteAccount","checkDisabled","VisiterManager","idUser","NotFoundPage","className","background","backgroundSize","mixBlendMode","fontFamily","backgorundPosition","AppRoute","roles","exact","path","render","App","CssBaseline","ReactDOM","StrictMode","getElementById"],"mappings":"kMAIMA,EAAUC,IAAMC,OAAO,CAC5BC,QAFmB,4CAGnBC,QAAS,CACR,eAAgB,oBAEjBC,iBAAkB,SAACC,GAAD,OAAYC,IAAYC,UAAUF,MAGrDN,EAAQS,aAAaC,SAASC,KAC7B,SAAUD,GACT,OAAIA,GAAYA,EAASE,KACjBF,EAASE,KAEVF,KAER,SAAUG,GACT,OAAOC,QAAQC,OAAOF,EAAMH,aAIfV,QCtBTgB,EAAQC,aAAaC,QAAQ,SAsCtBC,EAAc,kBAC1BnB,EAAQoB,IAAI,gBAAiB,CAC5BhB,QAAS,CACRiB,cAAe,UAAYL,M,OCxCjBM,EAAcC,0BAaZC,EAXa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC9B,EAAwBC,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAOA,OANAC,qBAAU,WDFV7B,EAAQoB,IAAI,SAAU,CACrBhB,QAAS,CACRiB,cAAe,UAAYL,KCClBc,MAAK,SAACC,GACfH,EAAQG,EAAIJ,WAEX,IAEI,cAACL,EAAYU,SAAb,CAAsBC,MAAO,CAACN,EAAMC,GAApC,SAA+CH,K,2OCoExCS,MArEf,WACC,MAAeC,qBAAWb,GAAnBK,EAAP,oBACMS,EAAWC,cACXC,EAAa,WAAc,IAAD,uBAATC,EAAS,yBAATA,EAAS,gBAC/B,QAAOA,EAAKC,SAASb,EAAKY,OAE3B,OACC,qCACED,EAAW,YACX,cAAC,IAAD,CAASG,GAAG,SAASC,MAAO,CAAEC,eAAgB,OAAQC,MAAO,aAA7D,SACC,eAACC,EAAA,EAAD,CAAUC,QAAM,EAACC,SAAgC,WAAtBX,EAASY,SAApC,UACC,cAACC,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,2CAKxBb,EAAW,UAAW,UACtB,cAAC,IAAD,CAASG,GAAG,SAASC,MAAO,CAAEC,eAAgB,OAAQC,MAAO,aAA7D,SACC,eAACC,EAAA,EAAD,CAAUC,QAAM,EAACC,SAAgC,WAAtBX,EAASY,SAApC,UACC,cAACC,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,mBAKxBb,EAAW,YACX,cAAC,IAAD,CAASG,GAAG,UAAUC,MAAO,CAAEC,eAAgB,OAAQC,MAAO,aAA9D,SACC,eAACC,EAAA,EAAD,CAAUC,QAAM,EAACC,SAAgC,YAAtBX,EAASY,SAApC,UACC,cAACC,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,yCAKxBb,EAAW,YACX,cAAC,IAAD,CAASG,GAAG,cAAcC,MAAO,CAAEC,eAAgB,OAAQC,MAAO,aAAlE,SACC,eAACC,EAAA,EAAD,CAAUC,QAAM,EAACC,SAAgC,gBAAtBX,EAASY,SAApC,UACC,cAACC,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,wCAKxBb,EAAW,QAAS,YACpB,cAAC,IAAD,CACCG,GAAG,mBACHC,MAAO,CAAEC,eAAgB,OAAQC,MAAO,aAFzC,SAIC,eAACC,EAAA,EAAD,CAAUC,QAAM,EAACC,SAAgC,qBAAtBX,EAASY,SAApC,UACC,cAACC,EAAA,EAAD,UACC,cAAC,IAAD,MAED,cAACC,EAAA,EAAD,CAAcC,QAAQ,qD,qFCxDtBC,GAASC,YAAOC,IAAW,CAChCC,kBAAmB,SAACC,GAAD,MAAmB,SAATA,IADfH,EAEZ,gBAAGI,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,oBACFC,OAAQF,EAAME,OAAOC,OAAS,EAC9BC,WAAYJ,EAAMK,YAAY5D,OAAO,CAAC,QAAS,UAAW,CACzD6D,OAAQN,EAAMK,YAAYC,OAAOC,MACjCC,SAAUR,EAAMK,YAAYG,SAASC,iBAElCR,GAAQ,CACXS,WAXkB,IAYlBC,MAAM,eAAD,OAZa,IAYb,OAELP,WAAYJ,EAAMK,YAAY5D,OAAO,CAAC,QAAS,UAAW,CACzD6D,OAAQN,EAAMK,YAAYC,OAAOC,MACjCC,SAAUR,EAAMK,YAAYG,SAASI,sBAKlCC,GAASjB,YAAOkB,IAAW,CAAEhB,kBAAmB,SAACC,GAAD,MAAmB,SAATA,IAAjDH,EACd,gBAAGI,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,MAAsB,CACrB,qBAAqB,aACpBc,SAAU,WACVC,WAAY,SACZL,MA1BiB,IA2BjBP,WAAYJ,EAAMK,YAAY5D,OAAO,QAAS,CAC7C6D,OAAQN,EAAMK,YAAYC,OAAOC,MACjCC,SAAUR,EAAMK,YAAYG,SAASI,iBAEtCK,UAAW,eACNhB,GAAD,aACHiB,UAAW,SACXd,WAAYJ,EAAMK,YAAY5D,OAAO,QAAS,CAC7C6D,OAAQN,EAAMK,YAAYC,OAAOC,MACjCC,SAAUR,EAAMK,YAAYG,SAASC,gBAEtCE,MAAOX,EAAMmB,QAAQ,IACpBnB,EAAMoB,YAAYC,GAAG,MAAQ,CAC7BV,MAAOX,EAAMmB,QAAQ,UA8FXG,OAvFf,WACC,MAAwBrD,oBAAS,GAAjC,mBAAOgC,EAAP,KAAasB,EAAb,KACMC,EAAe,WACpBD,GAAStB,IAGV,EAAevB,qBAAWb,GAAnBK,EAAP,oBAKA,OACC,qCACC,cAAC,GAAD,CAAQ6C,SAAS,WAAWd,KAAMA,EAAlC,SACC,eAACwB,EAAA,EAAD,CACCC,GAAI,CACHC,GAAI,OACJC,UAAW,QAHb,UAMC,cAACC,EAAA,EAAD,CACCC,KAAK,QACL3C,MAAM,UACN,aAAW,cACX4C,QAASP,EACTE,GAAE,aACDM,YAAa,QACT/B,GAAQ,CAAEgC,QAAS,SAPzB,SAUC,cAAC,IAAD,MAED,eAACC,EAAA,EAAD,CACCC,UAAU,KACVC,QAAQ,KACRjD,MAAM,UACNkD,QAAM,EACNX,GAAI,CAAEY,SAAU,GALjB,0BAOYpE,EAAKqE,SAPjB,YAWF,eAAC,GAAD,CAAQH,QAAQ,YAAYnC,KAAMA,EAAlC,UACC,cAACwB,EAAA,EAAD,CACCC,GAAI,CACHO,QAAS,OACTO,WAAY,SACZC,eAAgB,WAChBC,GAAI,CAAC,IALP,SAQC,cAACb,EAAA,EAAD,CAAYE,QAASP,EAArB,SACC,cAAC,IAAD,QAGF,eAACmB,EAAA,EAAD,CAAMjB,GAAI,CAAEkB,gBAAiB,mBAA7B,UACC,cAAC,IAAD,CAAS5D,GAAG,WAAWC,MAAO,CAAEC,eAAgB,QAAhD,SACC,eAAC2D,EAAA,EAAD,WACC,cAACrD,EAAA,EAAD,UACC,cAAC,KAAD,CAAgBkC,GAAI,CAAEvC,MAAO,aAE9B,cAACM,EAAA,EAAD,CACCC,QAAS,gBAAexB,EAAKY,KAC7B4C,GAAI,CAAEoB,WAAY,SAAU3D,MAAO,gBAItC,eAAC0D,EAAA,EAAD,CAAgBd,QA7DC,WACpBvE,aAAauF,WAAW,SACxBC,OAAOrE,SAAW,KA2Df,UACC,cAACa,EAAA,EAAD,UACC,cAAC,KAAD,CAAYkC,GAAI,CAAEvC,MAAO,aAE1B,cAACM,EAAA,EAAD,CACCC,QAAQ,2BACRgC,GAAI,CAAEoB,WAAY,SAAU3D,MAAO,iBAItC,cAAC8D,EAAA,EAAD,IACA,cAACN,EAAA,EAAD,UACC,cAAC,EAAD,aC3IU,SAASO,GAAT,GAAkC,IAAblF,EAAY,EAAZA,SACnC,OACC,eAACmF,EAAA,EAAD,CAAKzB,GAAI,CAAEO,QAAS,QAApB,UACC,cAAC,GAAD,IACCjE,KCMWoF,OAXf,WACC,OACC,eAAClB,EAAA,EAAD,CAAYE,QAAQ,QAAQjD,MAAM,iBAAiBkE,MAAM,SAASC,GAAI,EAAtE,UACE,kBACA,mBACA,IAAIC,MAAOC,cACX,Q,wBCgBWC,OAnBf,YAAgE,IAAxCC,EAAuC,EAAvCA,KAAiBC,EAAsB,EAAjCxB,UAAyByB,EAAQ,kBAC9D,OACC,cAAC,IAAD,2BACKA,GADL,IAECzB,UAAW,SAAC0B,GACX,OAAgB,OAATH,EACN,cAAC,GAAD,UACC,cAACC,EAAD,2BAAeE,GAAf,aACC,cAAC,GAAD,SAIF,cAAC,IAAD,CAAU7E,GAAG,W,wBCkBH8E,OAhCf,YAA+D,IAAxCJ,EAAuC,EAAvCA,KAAiBC,EAAsB,EAAjCxB,UAAyByB,EAAQ,kBACvDG,EAAe,SAACjF,GACrB,OAAQA,GACP,IAAK,UACJ,MAAO,SACR,IAAK,QACJ,MAAO,SACR,IAAK,UACJ,MAAO,cACR,IAAK,QACJ,MAAO,qBAKV,OACC,cAAC,IAAD,2BACK8E,GADL,IAECzB,UAAW,SAAC0B,GACX,OAAgB,OAATH,EACN,cAAC,IAAD,CAAU1E,GAAI+E,EAAaL,EAAK5E,QAEhC,qCACC,cAAC6E,EAAD,eAAeE,IACf,cAAC,GAAD,Y,yFCzBAtG,GAAQC,aAAaC,QAAQ,SAEtBuG,GAAgB,kBAC5BzH,EAAQoB,IAAI,iBAAkB,CAC7BhB,QAAS,CACRiB,cAAe,UAAYL,O,yMCEf,SAAS0G,GAAT,GAAoF,IAA1DC,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,WAAYC,EAAsC,EAAtCA,gBAAiBC,EAAqB,EAArBA,kBAC5E,EAKIC,eAJHC,EADD,EACCA,SACAC,EAFD,EAECA,aACAC,EAHD,EAGCA,SACaC,EAJd,EAICC,UAAaD,OAEd,EAAkCzG,mBAASiG,EAAMU,WAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAkC7G,mBAASiG,EAAMa,WAAjD,mBAAOA,EAAP,KAAkBC,EAAlB,KACA,EAAgD/G,mBAASiG,EAAMe,SAA/D,mBAAOC,EAAP,KAAyBC,EAAzB,KACA,EAA8ClH,mBAASiG,EAAMkB,QAA7D,mBAAOC,EAAP,KAAwBC,EAAxB,KAKA,OACC,cAACC,GAAA,EAAD,CACCtF,KAAMkE,EACN,kBAAgB,yBAChB,mBAAiB,+BAHlB,SAKC,eAAC,KAAD,CACCzC,GAAI,CACHX,SAAU,WACVyE,IAAK,MACLC,KAAM,MACNC,UAAW,wBACX/E,MAAO,IACPgF,OAAQ,sBACRC,QAAS,QACTC,UAAW,IATb,UAYC,cAAC,KAAD,CACCnE,GAAI,CACHkE,QAAS,OACTzG,MAAO,QACP2G,EAAG,GAJL,SAOC,cAAC5D,EAAA,EAAD,CACC6D,GAAG,yBACH3D,QAAQ,KACRD,UAAU,KACVkB,MAAM,SACN3B,GAAI,CAAEoB,WAAY,UALnB,oDAUD,eAAC,KAAD,CACCX,UAAU,OACV6D,SAAUxB,GAzCC,SAACrH,GACfiH,IACAC,EAAkBH,EAAO/G,MAwCtBuE,GAAI,CACHoE,EAAG,GAJL,UAOC,eAACG,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,UACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACC,GAAA,EAAD,aACCC,WAAS,EACTrJ,QAAOsH,EAAOgC,KACdC,WAAYjC,EAAOgC,MAAQ,iDAC3BE,KAAK,OACLC,MAAM,4BACNzE,QAAQ,WACR0E,aAAc5C,EAAMwC,MAChBnC,EAAS,OAAQ,CAAEwC,UAAU,QAGnC,cAACd,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACC,GAAA,EAAD,aACCC,WAAS,EACTrJ,QAAOsH,EAAO/F,SACdgI,WACCjC,EAAO/F,UAAY,yFAEpBiI,KAAK,OACLC,MAAM,kDACNzE,QAAQ,WACR0E,aAAc5C,EAAMvF,UAChB4F,EAAS,WAAY,CAAEwC,UAAU,QAGvC,cAACd,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACS,GAAA,EAAD,CAAsBC,YAAaC,KAAgBC,OAAQC,KAA3D,SACC,cAACC,GAAA,EAAD,CACCR,MAAM,qBACNS,KAAK,aACL9I,MAAOqG,EACP0C,SAAU,SAACC,GACV1C,EAAa0C,GACb/C,EAAS,YAAa+C,IAEvBC,YAAa,SAAC5K,GAAD,OAAY,cAAC2J,GAAA,EAAD,eAAe3J,WAI3C,cAACoJ,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,eAACC,GAAA,EAAD,yBACCC,WAAS,EACTrJ,QAAOsH,EAAOK,UACd4B,WAAYjC,EAAOK,WAAa,oDAChC2C,QAAM,EACNb,MAAM,+BACNrI,MAAOuG,GACHR,EAAS,YAAa,CAAEwC,UAAU,KAPvC,IAQCQ,SAAU,SAACrD,GACVc,EAAad,EAAMyD,OAAOnJ,QAT5B,UAYC,cAACoJ,GAAA,EAAD,CAAUpJ,MAAO,SAAjB,4CACA,cAACoJ,GAAA,EAAD,CAAUpJ,MAAO,UAAjB,wCACA,cAACoJ,GAAA,EAAD,CAAUpJ,MAAO,aAAjB,uDAGa,eAAduG,GACA,qCACC,cAACkB,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACS,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,kDACNS,KAAK,aACL9I,MAAO0G,EACPqC,SAAU,SAACC,GACVrC,EAAoBqC,GACpB/C,EAAS,UAAW+C,IAErBC,YAAa,SAAC5K,GAAD,OAAY,cAAC2J,GAAA,EAAD,eAAe3J,WAI3C,cAACoJ,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACS,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,2DACNS,KAAK,aACL9I,MAAO6G,EACPkC,SAAU,SAACC,GACVlC,EAAmBkC,GACnB/C,EAAS,SAAU+C,IAEpBC,YAAa,SAAC5K,GAAD,OAAY,cAAC2J,GAAA,EAAD,eAAe3J,iBAO9C,eAAC,KAAD,CACC6E,GAAI,CACHoE,EAAG,EACH7D,QAAS,OACTQ,eAAgB,YAJlB,UAOC,cAACoF,GAAA,EAAD,CAAQzF,QAAQ,YAAYjD,MAAM,UAAUyH,KAAK,SAAjD,gCAIA,cAACiB,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,QACN4C,QAASqC,EACT1C,GAAI,CAAEoG,GAAI,GAJX,iC,oDC7JS,SAASC,GAAT,GAMX,IALH7D,EAKE,EALFA,MACA8D,EAIE,EAJFA,MACAC,EAGE,EAHFA,iBACAC,EAEE,EAFFA,sBACAC,EACE,EADFA,iBAEA,EAA8BlK,mBAC7BiG,EAAMkE,oBAAoBC,QAAO,SAACC,EAAUC,GAE3C,OADAD,EAASE,KAAKD,EAAQE,SACfH,IACL,KAJJ,mBAAOI,EAAP,KAAgBC,EAAhB,KAOA,EAA0C1K,mBAAS,IAAnD,mBAAO2K,EAAP,KAAsBC,EAAtB,KAEMC,EAAwBC,aAAS,KADjB,SAACC,GAAD,OAAOH,EAAiBG,EAAErB,OAAOnJ,UAcvD,OACC,cAAC+G,GAAA,EAAD,CACCtF,KAAMgI,EACN,kBAAgB,oBAChB,mBAAiB,0BAHlB,SAKC,eAAC,KAAD,CACCvG,GAAI,CACHX,SAAU,WACVyE,IAAK,MACLC,KAAM,MACNC,UAAW,wBACX/E,MAAO,IACPgF,OAAQ,sBACRC,QAAS,QACTC,UAAW,IATb,UAYC,cAAC,KAAD,CACCnE,GAAI,CACHkE,QAAS,OACTzG,MAAO,QACP2G,EAAG,GAJL,SAOC,cAAC5D,EAAA,EAAD,CACC6D,GAAG,oBACH3D,QAAQ,KACRD,UAAU,KACVkB,MAAM,SACN3B,GAAI,CAAEoB,WAAY,UALnB,oDAUD,eAAC,KAAD,CACCpB,GAAI,CACHoE,EAAG,GAFL,UAKC,eAACmD,GAAA,EAAD,CACC9G,UAAU,OACVT,GAAI,CAAEoE,EAAG,UAAW7D,QAAS,OAAQO,WAAY,SAAU7B,MAAO,QAFnE,UAIC,cAACuI,GAAA,EAAD,CACCxH,GAAI,CAAEoG,GAAI,EAAGqB,KAAM,GACnBC,YAAY,2CACZC,WAAY,CAAE,aAAc,4CAC5B9B,SAAUuB,IAEX,cAACjH,EAAA,EAAD,CAAY+E,KAAK,SAASlF,GAAI,CAAEoE,EAAG,QAAU,aAAW,SAAxD,SACC,cAAC,KAAD,SAGF,cAACnD,EAAA,EAAD,CACCjB,GAAI,CACHf,MAAO,OACPgF,OAAQ,sBACR2D,SAAU,SACVC,UAAW,GALb,SAQEvB,EACCwB,QAAO,SAACtL,GAAD,OAAUA,EAAKuL,SAASC,MAAMd,MACrCe,KAAI,SAACzL,GACL,IA7EeM,EA6EToL,EAAO,8BAA0B1L,EAAK2L,KAC5C,OACC,cAACzK,EAAA,EAAD,CAAyB0K,gBAAc,EAAvC,SACC,eAACjH,EAAA,EAAD,CACC/D,UAAMiL,EACNhI,SAlFYvD,EAkFUN,EAAK2L,IAlFL,WAC/B,IAAMG,EAAetB,EAAQuB,QAAQzL,GAC/B0L,EAAU,aAAOxB,IAED,IAAlBsB,EACHE,EAAW1B,KAAKhK,GAEhB0L,EAAWC,OAAOH,EAAc,GAGjCrB,EAAWuB,KAyEFE,OAAK,EAHN,UAKC,cAAC5K,EAAA,EAAD,UACC,cAAC6K,GAAA,EAAD,CACCvI,KAAK,QACL4G,SAAwC,IAA/BA,EAAQuB,QAAQ/L,EAAK2L,KAC9BS,UAAW,EACXC,eAAa,EACblB,WAAY,CAAE,kBAAmBO,OAGnC,cAACnK,EAAA,EAAD,CACCsG,GAAI6D,EACJlK,QACC,qCACC,cAACwC,EAAA,EAAD,UAAahE,EAAKuL,WAClB,eAACvH,EAAA,EAAD,WACC,mBAAGjD,MAAO,CAAEE,MAAO,WAAnB,uCAGCjB,EAAKqE,YAEP,eAACL,EAAA,EAAD,WACC,mBAAGjD,MAAO,CAAEE,MAAO,WAAnB,+CAGCjB,EAAKsM,kBA9BGtM,EAAK2L,UAwCxB,eAAC,KAAD,CACCnI,GAAI,CACHoE,EAAG,EACH7D,QAAS,OACTQ,eAAgB,YAJlB,UAOC,cAACoF,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,UACNyH,KAAK,SACL7E,QAAS,WACRmG,IACAC,EAAiBjE,EAAOwE,IAN1B,qBAYA,cAACb,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,QACN4C,QAASmG,EACTxG,GAAI,CAAEoG,GAAI,GAJX,iCCtKS,SAAS2C,GAAT,GAMX,IALHvG,EAKE,EALFA,MACA8D,EAIE,EAJFA,MACA0C,EAGE,EAHFA,kBACArG,EAEE,EAFFA,kBACA8D,EACE,EADFA,iBAEA,EAA4ClK,oBAAS,GAArD,mBAAO0M,EAAP,KAAuBC,EAAvB,KACA,EAA8C3M,oBAAS,GAAvD,mBAAO4M,EAAP,KAAwBC,EAAxB,KASA,OACC,eAACC,GAAA,EAAD,CAAUC,OAAK,EAAClM,KAAK,WAAWwL,UAAW,EAA3C,UACC,cAACW,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMwC,OAC/B,cAACuE,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMvF,WAC/B,cAACsM,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACE,IAAIE,KAAKW,EAAMU,WAAWsG,UAC1B,KACC,IAAI3H,KAAKW,EAAMU,WAAWuG,WAAa,GACxC,IACA,IAAI5H,KAAKW,EAAMU,WAAWpB,gBAE5B,eAACyH,GAAA,EAAD,CAAW5H,MAAM,SAAjB,UACsB,WAApBa,EAAMa,WAA0B,iCACZ,YAApBb,EAAMa,WAA2B,6BACb,eAApBb,EAAMa,WAA8B,yCAEtC,cAACkG,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACEa,EAAMe,QACJ,IAAI1B,KAAKW,EAAMe,SAASiG,UACxB,KACC,IAAI3H,KAAKW,EAAMe,SAASkG,WAAa,GACtC,IACA,IAAI5H,KAAKW,EAAMe,SAASzB,cACxB,KAEJ,cAACyH,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACEa,EAAMkB,OACJ,IAAI7B,KAAKW,EAAMkB,QAAQ8F,UACvB,KACC,IAAI3H,KAAKW,EAAMkB,QAAQ+F,WAAa,GACrC,IACA,IAAI5H,KAAKW,EAAMkB,QAAQ5B,cACvB,KAEJ,cAACyH,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACsB,WAApBa,EAAMa,UACJb,EAAMkE,oBAAoBoB,QAAO,SAAC4B,GAAD,OAAyB,IAAjBA,EAAGC,aAAqBC,OACjE,QAEJ,eAACL,GAAA,EAAD,CAAW5H,MAAM,QAAjB,UACsB,WAApBa,EAAMa,WACN,qCACC,cAAC8C,GAAA,EAAD,CACCzF,QAAQ,YACRmJ,KAAK,QACLxJ,QAjD4B,kBAAM+I,GAAmB,IA8CtD,SAKC,cAAC,KAAD,MAEAD,GACA,cAAC9C,GAAD,CACC7D,MAAOA,EACP8D,MAAOA,EACPC,iBAAkB4C,EAClB3C,sBAzD4B,WAClC4C,GAAmB,IAyDb3C,iBAAkBA,OAKtB,cAACN,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,UACNuC,GAAI,CAAEoG,GAAI,GACVyD,KAAK,QACLxJ,QAzE6B,kBAAM6I,GAAkB,IAoEtD,SAOC,cAAC,KAAD,MAEAD,GACA,cAAC1G,GAAD,CACCC,MAAOA,EACPC,WAAYwG,EACZvG,gBAhF6B,WACjCwG,GAAkB,IAgFdvG,kBAAmBA,IAGrB,cAACwD,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,QACNuC,GAAI,CAAEoG,GAAI,GACVyD,KAAK,QACLxJ,QAAS,WACR2I,EAAkBxG,IANpB,SASC,cAAC,KAAD,Y,0ECvFU,SAASsH,GAAT,GAAmE,IAA1CC,EAAyC,EAAzCA,OAAQC,EAAiC,EAAjCA,YAAaC,EAAoB,EAApBA,iBAC5D,EAKIrH,aAAQ,CAAEsH,cAAe,CAAEC,YAAa,EAAGjH,UAAW,IAAIrB,QAJ7DgB,EADD,EACCA,SACAC,EAFD,EAECA,aACAC,EAHD,EAGCA,SACaC,EAJd,EAICC,UAAaD,OAEd,EAAkCzG,mBAASsF,KAAKuI,OAAhD,mBAAOjH,EAAP,KAAkBC,EAAlB,KACA,EAAsC7G,mBAAS,GAA/C,mBAAO4N,EAAP,KAAoBE,EAApB,KACA,EAAgD9N,mBAASsF,KAAKuI,OAA9D,mBAAO5G,EAAP,KAAyBC,EAAzB,KACA,EAA8ClH,mBAASsF,KAAKuI,OAA5D,mBAAOzG,EAAP,KAAwBC,EAAxB,KACA,EAAkCrH,mBAAS,IAA3C,mBAAO8G,EAAP,KAAkBC,EAAlB,KA6BA,OACC,cAACO,GAAA,EAAD,CACCtF,KAAMwL,EACN,kBAAgB,oBAChB,mBAAiB,0BAHlB,SAKC,eAAC,KAAD,CACC/J,GAAI,CACHX,SAAU,WACVyE,IAAK,MACLC,KAAM,MACNC,UAAW,wBACX/E,MAAO,IACPgF,OAAQ,qBACRC,QAAS,QACTC,UAAW,IATb,UAYC,cAAC,KAAD,CACCnE,GAAI,CACHkE,QAAS,OACTzG,MAAO,QACP2G,EAAG,GAJL,SAOC,cAAC5D,EAAA,EAAD,CACC6D,GAAG,oBACH3D,QAAQ,KACRD,UAAU,KACVkB,MAAM,SACN3B,GAAI,CAAEoB,WAAY,UALnB,kDAUD,eAAC,KAAD,CACCX,UAAU,OACV6D,SAAUxB,GAjEY,SAACrH,GAC1B6O,QAAQC,IAAI9O,GJlBa,SAACA,GAAD,OAC1BZ,EAAQ2P,KAAK,iBAAkB/O,EAAM,CACpCR,QAAS,CACRiB,cAAe,UAAYL,MIgB5B4O,CAAYhP,GACVkB,MAAK,SAACC,GACN0N,QAAQC,IAAI3N,EAAI4F,OAChByH,EAAiBrN,EAAI4F,OACrBwH,IACAU,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,4BAAD,OAAqBjO,EAAI4F,MAAMwC,MAAQpI,EAAI4F,MAAMoH,OAAjD,+BACLkB,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,YAGT+E,OAAM,SAACC,GACPjB,IACAU,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAO,2DACPC,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,eA0CRjG,GAAI,CACHoE,EAAG,GAJL,UAOC,eAACG,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,UACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACC,GAAA,EAAD,aACCC,WAAS,EACTrJ,QAAOsH,EAAOgC,KACdC,WAAYjC,EAAOgC,MAAQ,iDAC3BE,KAAK,OACLC,MAAM,4BACNzE,QAAQ,YACJmC,EAAS,OAAQ,CAAEwC,UAAU,QAGnC,cAACd,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACC,GAAA,EAAD,aACCC,WAAS,EACTrJ,QAAOsH,EAAO/F,SACdgI,WACCjC,EAAO/F,UAAY,yFAEpBiI,KAAK,OACLC,MAAM,kDACNzE,QAAQ,YACJmC,EAAS,WAAY,CAAEwC,UAAU,QAGvC,cAACd,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACS,GAAA,EAAD,CAAsBC,YAAaC,KAAgBC,OAAQC,KAA3D,SACC,cAACC,GAAA,EAAD,CACCR,MAAM,yDACNS,KAAK,aACL9I,MAAOqG,EACP+H,sBAAoB,EACpBrF,SAAU,SAACC,GACV1C,EAAa0C,GACb/C,EAAS,YAAa+C,IAEvBC,YAAa,SAAC5K,GAAD,OAAY,cAAC2J,GAAA,EAAD,eAAe3J,WAI3C,cAACoJ,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,eAACC,GAAA,EAAD,yBACCC,WAAS,EACTrJ,QAAOsH,EAAOK,UACd4B,WAAYjC,EAAOK,WAAa,oDAChC2C,QAAM,EACNb,MAAM,+BACNrI,MAAOuG,GACHR,EAAS,YAAa,CAAEwC,UAAU,KAPvC,IAQCQ,SAAU,SAACrD,GACVc,EAAad,EAAMyD,OAAOnJ,QAT5B,UAYC,cAACoJ,GAAA,EAAD,CAAUpJ,MAAO,SAAjB,4CACA,cAACoJ,GAAA,EAAD,CAAUpJ,MAAO,UAAjB,wCACA,cAACoJ,GAAA,EAAD,CAAUpJ,MAAO,aAAjB,uDAIa,eAAduG,GACA,qCACC,cAACkB,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACS,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,kDACNS,KAAK,aACL9I,MAAO0G,EACPqC,SAAU,SAACC,GACVrC,EAAoBqC,GACpB/C,EAAS,UAAW+C,IAErBC,YAAa,SAAC5K,GAAD,OAAY,cAAC2J,GAAA,EAAD,eAAe3J,WAI3C,cAACoJ,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACS,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,2DACNS,KAAK,aACL9I,MAAO6G,EACPkC,SAAU,SAACC,GACVlC,EAAmBkC,GACnB/C,EAAS,SAAU+C,IAEpBC,YAAa,SAAC5K,GAAD,OAAY,cAAC2J,GAAA,EAAD,eAAe3J,cAM7C,cAACoJ,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,eAACsG,GAAA,EAAD,CAAa1K,UAAU,WAAvB,UACC,cAAC2K,GAAA,EAAD,CAAW3K,UAAU,SAArB,iCACA,eAAC4K,GAAA,EAAD,CACCC,KAAG,EACH,aAAW,eACXtG,KAAK,yCACLlI,MAAOqN,EACPtE,SAAU,SAACyB,GACV+C,EAAe/C,EAAErB,OAAOnJ,OACxBiG,EAAS,cAAeuE,EAAErB,OAAOnJ,QAPnC,UAUC,cAACyO,GAAA,EAAD,CACCzO,MAAO,EACP0O,QAAS,cAACC,GAAA,EAAD,IACTtG,MAAM,sBAEP,cAACoG,GAAA,EAAD,CACCzO,MAAO,EACP0O,QAAS,cAACC,GAAA,EAAD,IACTtG,MAAM,wBAEP,cAACoG,GAAA,EAAD,CACCzO,MAAO,GACP0O,QAAS,cAACC,GAAA,EAAD,IACTtG,MAAM,uBAEP,cAACoG,GAAA,EAAD,CAAkBzO,MAAO,EAAG0O,QAAS,cAACC,GAAA,EAAD,IAAWtG,MAAM,oBAK1D,eAAC,KAAD,CACCnF,GAAI,CACHoE,EAAG,EACH7D,QAAS,OACTQ,eAAgB,YAJlB,UAOC,cAACoF,GAAA,EAAD,CAAQzF,QAAQ,YAAYjD,MAAM,UAAUyH,KAAK,SAAjD,qBAIA,cAACiB,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,QACN4C,QAAS2J,EACThK,GAAI,CAAEoG,GAAI,GAJX,iCCqISsF,OA7Vf,WAAkC,IAAD,EAChC,EAAwBnP,mBAAS,GAAjC,mBAAOoP,EAAP,KAAaC,EAAb,KACA,EAAsCrP,mBAAS,IAA/C,mBAAOsP,EAAP,KAAoBC,EAApB,KACA,EAAwBvP,mBAAS,MAAjC,mBAAOwP,EAAP,KAAaC,EAAb,KACA,EAA4BzP,mBAAS,IAArC,mBAAO0P,EAAP,KAAeC,EAAf,KACA,EAAwC3P,mBAAS,IAAjD,mBAAO4P,EAAP,KAAqBC,EAArB,KACA,EAA0C7P,oBAAS,GAAnD,mBAAO8P,EAAP,KAAsBC,EAAtB,KACA,EAAkC/P,mBAAS,IAA3C,mBAAOgQ,EAAP,KAAkBC,EAAlB,KAGA9P,qBAAU,WAIT,OAHA+P,SAAS5B,MAAQ,oCACjBvI,KAAgB3F,MAAK,SAACC,GAAD,OAASsP,EAAUtP,EAAI4F,Ubf7C3H,EAAQoB,IAAI,mBAAoB,CAC/BhB,QAAS,CACRiB,cAAe,UAAYL,KacVc,MAAK,SAACC,GAAD,OAAS4P,EAAa5P,EAAI0J,UAC1C,WACNkG,EAAa,IACbN,EAAU,IACVE,EAAgB,OAEf,IACH1P,qBAAU,WACU0P,EAAN,OAATL,EAA+BE,EAGjCA,EAAOnE,QACN,SAACtF,GAAD,OACC,IAAIX,KAAKW,EAAMU,WAAWwJ,iBAAmB,IAAI7K,KAAKkK,GAAMW,qBAG9D,CAACX,EAAME,IAEV,IAcMtJ,EAAoB,SAACgK,EAAaC,GLlDd,IAACvI,EAAI5I,GAAJ4I,EKmDdsI,EAAYxE,ILnDM1M,EKmDDmR,ELlD9B/R,EAAQgS,MAAR,yBAAgCxI,GAAM5I,EAAM,CAC3CR,QAAS,CACRiB,cAAe,UAAYL,OKiD1Bc,MAAK,SAACC,GACN,IAAIkQ,EAAU,aAAOb,GACfc,EAAQd,EAAOe,WAAU,SAACxK,GAAD,OAAWA,EAAM2F,MAAQwE,EAAYxE,OACpE2E,EAAWC,GAASE,OAAOC,OAAOJ,EAAWC,GAAQnQ,EAAI4F,OACzD0J,EAAUY,GACVpC,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,oEAAD,OAAoC8B,EAAY3H,MACrD8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,YAGT+E,OAAM,SAACC,GACPP,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAM,uEAAD,OAAwC8B,EAAY3H,KAApD,mCACL8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAKN+C,EAAoB,SAACmE,GAC1BzC,KAAKC,KAAK,CACTE,MAAO,uEACPuC,KAAM,oGACNxC,KAAM,UACNyC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,UACnBC,kBAAmB,sBACnBC,iBAAkB,aAChB9Q,MAAK,SAAC+Q,GLjFgB,IAACrJ,EKkFrBqJ,EAAOC,cLlFctJ,EKmFZ8I,EAAYhF,ILlF3BtN,EAAQ+S,OAAR,yBAAiCvJ,GAAM,CACtCpJ,QAAS,CACRiB,cAAe,UAAYL,OKiFxBc,MAAK,SAACC,GACNsP,EAAUD,EAAOnE,QAAO,SAACtF,GAAD,OAAWA,EAAM2F,MAAQgF,EAAYhF,QAC7DuC,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,uCAAD,OAAoBsC,EAAYnI,MACrC8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,YAGT+E,OAAM,SAACC,GACPP,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAM,2DAAD,OAAmCsC,EAAYnI,KAA/C,mCACL8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,gBAMRQ,EAAmB,SAACkG,EAAakB,GL7Fb,IAACxJ,EAAI5I,GAAJ4I,EK8FdsI,EAAYxE,IL9FM1M,EK8FDoS,EL7F9BhT,EAAQgS,MAAR,yBACmBxI,EADnB,gBAEC,CAAEwJ,YAAapS,GACf,CACCR,QAAS,CACRiB,cAAe,UAAYL,OKyF3Bc,MAAK,SAACC,GACN,IAAIkQ,EAAU,aAAOb,GACfc,EAAQd,EAAOe,WAAU,SAACxK,GAAD,OAAWA,EAAM2F,MAAQwE,EAAYxE,OACpE2E,EAAWC,GAASE,OAAOC,OAAOJ,EAAWC,GAAQnQ,EAAI4F,OACzD0J,EAAUY,GACVpC,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,uCAAD,OAAwBgD,EAAYjE,OAApC,qDAAgE+C,EAAY3H,MACjF8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,YAGT+E,OAAM,SAACC,GACPP,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAM,yFAAD,OAAkD8B,EAAY3H,KAA9D,mCACL8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAKZ,OACC,eAAC,KAAD,CACCxF,UAAU,OACVT,GAAI,CACHkB,gBAAiB,UACjBN,SAAU,EACVqD,OAAQ,QACR2D,SAAU,QANZ,UASC,cAAC7H,EAAA,EAAD,IACA,cAAC+N,GAAA,EAAD,CACC9N,GAAI,CACH+N,SAAU,IACV1O,SAAU,WACVyE,IAAK,OACLsC,GAAI,EACJ4H,GAAI,EACJ7J,UAAW,EACXjD,gBAAiB,WARnB,SAWC,eAAC+M,GAAA,EAAD,WACC,cAACzN,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAMT,GAAI,CAAEvC,MAAO,SAAtD,+CAGA,cAAC+C,EAAA,EAAD,CAAYR,GAAI,CAAEkO,SAAU,IAAMzQ,MAAM,QAAQ0Q,cAAY,EAA5D,mGAKF,cAACC,GAAA,EAAD,CAAWC,SAAS,MAAMrO,GAAI,CAAEsO,GAAI,GAApC,SACC,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,SACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIE,GAAI,GAA/B,SACC,eAAC0C,GAAA,EAAD,CACCvH,GAAI,CACHoE,EAAG,EACHmK,GAAI,EACJC,GAAI,EACJjO,QAAS,OACTkO,cAAe,SACfxK,OAAQ,QAPV,UAUC,cAACyK,GAAA,EAAD,CAAgB1O,GAAI,CAAE2O,UAAW,SAAjC,SACC,eAACC,GAAA,EAAD,CAAOC,cAAY,EAAC,aAAW,eAA/B,UACC,cAACC,GAAA,EAAD,UACC,eAACzF,GAAA,EAAD,WACC,eAACE,GAAA,EAAD,CAAWwF,QAAS,EAAGpN,MAAM,OAAO3B,GAAI,CAAEoE,EAAG,GAA7C,UACC,cAAC+B,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,UACN4C,QAtLoB,kBAAMiM,GAAiB,IAmL5C,gDAOCD,GACA,cAACvC,GAAD,CACCC,OAAQsC,EACRrC,YA5LoB,kBAAMsC,GAAiB,IA6L3CrC,iBA9JY,SAACzH,GAExB0J,SADU1J,UAAiB,GACjByJ,EAAO+C,OAAOxM,GACR,GAAD,oBAAKyJ,GAAL,CAAazJ,WA+JpB,cAAC+G,GAAA,EAAD,CAAWwF,QAAS,EAApB,SACC,cAACzJ,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,oBACNS,KAAK,aACL9I,MAAOiP,EACPlG,SAAU,SAACoJ,GACVjD,EAAQiD,IAETlJ,YAAa,SAAC5K,GAAD,OACZ,cAAC2J,GAAA,EAAD,eAAe3J,gBAOrB,cAAC2T,GAAA,EAAD,UACC,eAACzF,GAAA,EAAD,WACC,cAACE,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,2DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,iFAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,4DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,8DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,+DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,wEAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,mEAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,8DAIH,cAACyR,GAAA,EAAD,oBACE/C,EACCgD,MACA,SAACC,EAAQC,GAAT,OACC,IAAIxN,KAAKwN,EAAOnM,WAChB,IAAIrB,KAAKuN,EAAOlM,cAEjBoM,MACA3D,EAAOE,EACPF,EAAOE,EAAcA,UATxB,aACE,EAUE5D,KAAI,SAACzF,GACN,OACC,cAACuG,GAAD,CACCvG,MAAOA,EACP8D,MAAOiG,EAEPvD,kBAAmBA,EACnBrG,kBAAmBA,EACnB8D,iBAAkBA,GAHbjE,EAAM2F,eAUlB,cAACoH,GAAA,EAAD,CACCC,mBAAoB,CAAC,GAAI,GAAI,KAC7B/O,UAAU,MACVgP,MAAK,OAAEtD,QAAF,IAAEA,OAAF,EAAEA,EAAcvC,OACrBiC,YAAaA,EACbF,KAAMA,EACN+D,aAnTkB,SAAClN,EAAOmN,GAChC/D,EAAQ+D,IAmTFC,oBAhTyB,SAACpN,GAChCsJ,GAAgBtJ,EAAMyD,OAAOnJ,OAC7B8O,EAAQ,mB,qCC0JKiE,OAlNf,WACC,MAKIjN,eAJHC,EADD,EACCA,SACAC,EAFD,EAECA,aACAgN,EAHD,EAGCA,SACa9M,EAJd,EAICC,UAAaD,OAEd,EAAwBhG,qBAAWb,GAAnC,mBAAOK,EAAP,KAAaC,EAAb,KAmCA,OAHAC,qBAAU,WACT+P,SAAS5B,MAAQ,mCACf,IAEF,eAAC,KAAD,CACCpK,UAAU,OACVT,GAAI,CACHkB,gBAAiB,UACjBN,SAAU,EACVqD,OAAQ,QACR2D,SAAU,QANZ,UASC,cAAC7H,EAAA,EAAD,IACA,eAACqO,GAAA,EAAD,CAAWC,SAAS,KAAKrO,GAAI,CAAE+P,GAAI,EAAGzB,GAAI,GAA1C,UACC,cAACR,GAAA,EAAD,CACC9N,GAAI,CACH+N,SAAU,IACV1O,SAAU,WACVyE,IAAK,OACLsC,GAAI,EACJ4H,GAAI,EACJ7J,UAAW,EACXjD,gBAAiB,WARnB,SAWC,eAAC+M,GAAA,EAAD,WACC,cAACzN,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAMT,GAAI,CAAEvC,MAAO,SAAtD,kDAGA,cAAC+C,EAAA,EAAD,CAAYR,GAAI,CAAEkO,SAAU,IAAMzQ,MAAM,QAAQ0Q,cAAY,EAA5D,+EAKF,cAAC5J,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,SACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,eAAC0C,GAAA,EAAD,CACCvH,GAAI,CACHoE,EAAG,EACHmK,GAAI,EACJC,GAAI,EACJvK,OAAQ,SALV,UAQC,eAAC,KAAD,CACCxD,UAAU,OACVT,GAAI,CAAEgO,GAAI,GAAI5H,GAAI,GAAI2J,GAAI,GAC1BzL,SAAUxB,GA/EE,SAACrH,GACkCA,EAA7CuU,gBAA6CvU,EAA5BwU,adTD,SAACxU,GAAD,OACzBZ,EAAQgS,MAAM,eAAgBpR,EAAM,CACnCR,QAAS,CACRiB,cAAe,UAAYL,McO5BqU,CADA,YAAqDzU,EAArD,KACoBkB,MAAK,SAACC,GACzBH,EAAQG,EAAIJ,MACZkO,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAO,mDACPC,mBAAmB,EACnBC,MAAO,YAmEJ,UAKC,eAACxG,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,UACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,yBACCI,KAAK,OACLC,MAAM,uBACNzE,QAAQ,YACJmC,EAAS,aAJd,IAKCuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAMqE,cAGtB,cAAC0D,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,yBACCK,MAAM,oCACNzE,QAAQ,YACJmC,EAAS,UAHd,IAICuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAM2T,WAGtB,cAAC5L,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAvC,SACC,cAACC,GAAA,EAAD,yBACC9E,GAAI,CAAEf,MAAO,QACbkG,MAAM,yBACNzE,QAAQ,YACJmC,EAAS,YAJd,IAKCuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAM4T,aAGtB,cAAC7L,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,yBACC9E,GAAI,CAAEf,MAAO,QACbkG,MAAM,uCACNzE,QAAQ,YACJmC,EAAS,aAJd,IAKCuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAM6T,cAGtB,cAAC9L,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGE,GAAI,EAA7B,SACC,cAACC,GAAA,EAAD,yBACC9E,GAAI,CAAEf,MAAO,QACbkG,MAAM,8DACNzE,QAAQ,YACJmC,EAAS,gBAJd,IAKCuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAM8T,iBAGtB,cAAC/L,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,yBACCK,MAAM,+BACNzE,QAAQ,YACJmC,EAAS,SAHd,IAICuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAM+T,UAGtB,cAAChM,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,yBACCK,MAAM,6BACNzE,QAAQ,YACJmC,EAAS,SAHd,IAICuC,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAMgU,UAGtB,cAACjM,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,CACCK,MAAM,WACNzE,QAAQ,WACR0E,aAAY,OAAE5I,QAAF,IAAEA,OAAF,EAAEA,EAAMuL,SACpB0I,UAAQ,SAIX,cAACtK,GAAA,EAAD,CACCjB,KAAK,SACLH,WAAS,EACTrE,QAAQ,YACRV,GAAI,CAAE+P,GAAI,EAAGzB,GAAI,GAJlB,sCASD,cAAC,KAAD,CACC7N,UAAU,OACVT,GAAI,CAAEgO,GAAI,GAAI5H,GAAI,GAAI2J,GAAI,GAC1BzL,SAAUxB,GArJM,SAACrH,IdfK,SAACA,GAAD,OAC7BZ,EAAQgS,MAAM,uBAAwBpR,EAAM,CAC3CR,QAAS,CACRiB,cAAe,UAAYL,Mcc5B6U,CAAe,CAAEV,gBADwBvU,EAAjCuU,gBAC0BC,YADOxU,EAAhBwU,cAEvBtT,MAAK,WACL+N,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAO,yGACPC,mBAAmB,EACnBC,MAAO,MAER4F,YAAW,WACVrP,OAAOrE,SAAW,MAChB,QAEH+N,OAAM,SAACC,GAAD,OAAwB,MAAfA,EAAI2F,QAAkBd,EAAS,yBAmI3C,SAKC,eAACvL,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAGc,QAAQ,OAAO0D,OAAO,QAAlD,UACC,cAACM,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,yBACCK,MAAM,8BACNzE,QAAQ,WACRwE,KAAK,YACDrC,EAAS,oBAJd,IAKCnH,QAAOsH,EAAOgN,gBACd/K,WACCjC,EAAOgN,iBACP,4DAIH,cAACzL,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACC,GAAA,EAAD,aACCK,MAAM,oBACNzE,QAAQ,WACRwE,KAAK,YACDrC,EAAS,mBAGf,cAAC0B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAtC,SACC,cAACsB,GAAA,EAAD,CAAQjB,KAAK,SAASH,WAAS,EAACrE,QAAQ,YAAxC,8D,uCC/MK,OAA0B,sCCE5BmQ,GAAS,SAACpV,GAAD,OAAUZ,EAAQ2P,KAAK,eAAgB/O,IAChDqV,GAAS,SAACrV,GAAD,OAAUZ,EAAQ2P,KAAK,eAAgB/O,ICkG9CsV,OA9Ff,WACC,MAIInO,eAHHC,EADD,EACCA,SACAC,EAFD,EAECA,aACaE,EAHd,EAGCC,UAAaD,OAEd,EAAsBzG,mBAAS,IAA/B,mBAAO0O,EAAP,KAAY+F,EAAZ,KAEAtU,qBAAU,kBAAO+P,SAAS5B,MAAQ,6BAAc,IAChD,IAAMoG,EAAY,yCAAG,WAAOxV,GAAP,oBAAAyV,EAAA,sEAEXnJ,EAAuBtM,EAAvBsM,SAAUoJ,EAAa1V,EAAb0V,SAClBH,EAAO,IAHY,SAICH,GAAO,CAAC9I,SAAUA,EAASqJ,OAAQD,aAJpC,QAIbtV,EAJa,UAMlBC,aAAauV,QAAQ,QAASxV,EAAMA,OACpCyF,OAAOrE,SAAW,UAPA,gDAUnB,MAAW+T,EAAO,yEAVC,yDAAH,sDAalB,OACC,cAAC5C,GAAA,EAAD,CAAW3N,UAAU,OAAO4N,SAAS,KAArC,SACC,eAAC,KAAD,CACCrO,GAAI,CACH6H,UAAW,EACXtH,QAAS,OACTkO,cAAe,SACf3N,WAAY,UALd,UAQC,qBACCwQ,IAAKC,GACLC,IAAK,OACLjU,MAAO,CACN0G,OAAQ,QACRhF,MAAO,QACPwS,aAAc,MACdC,aAAc,UAIhB,cAAClR,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAnC,sCAGA,cAACF,EAAA,EAAD,CAAYC,UAAU,KAAKhD,MAAM,MAAMmE,GAAI,EAA3C,SACEqJ,GAAY,KAEd,eAAC,KAAD,CACCxK,UAAU,OACV6D,SAAUxB,EAAamO,GACvBU,YAAU,EACV3R,GAAI,CAAE+P,GAAI,GAJX,UAMC,cAACjL,GAAA,EAAD,yBACC8M,OAAO,SACPvM,UAAQ,EACRN,WAAS,EACTV,GAAG,WACHc,MAAM,WACNH,KAAK,YACDnC,EAAS,WAAY,CAAEwC,UAAU,KAPtC,IAQC3J,QAAOsH,EAAO+E,SACd9C,WAAYjC,EAAO+E,UAAY,mEAEhC,cAACjD,GAAA,EAAD,yBACC8M,OAAO,SACPvM,UAAQ,EACRN,WAAS,EACTC,KAAK,WACLG,MAAM,WACND,KAAK,WACLb,GAAG,YACCxB,EAAS,WAAY,CAAEwC,UAAU,KARtC,IASC3J,QAAOsH,EAAOmO,SACdlM,WAAYjC,EAAOmO,UAAY,mEAEhC,cAAChL,GAAA,EAAD,CAAQjB,KAAK,SAASH,WAAS,EAACrE,QAAQ,YAAYV,GAAI,CAAE+P,GAAI,EAAGzB,GAAI,GAArE,sCAGA,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAACzD,eAAe,WAA/B,SACC,cAACwD,GAAA,EAAD,CAAME,MAAI,EAAV,SACC,cAACoN,GAAA,EAAD,CAAMC,KAAK,UAAUpR,QAAQ,QAA7B,SACE,uG,uBC8IMqR,OAnOf,WACC,MAKInP,eAJHC,EADD,EACCA,SACAC,EAFD,EAECA,aACAgN,EAHD,EAGCA,SACa9M,EAJd,EAICC,UAAaD,OAEd,EAAsBzG,mBAAS,IAA/B,mBAAO0O,EAAP,KAAY+F,EAAZ,KACAtU,qBAAU,kBAAO+P,SAAS5B,MAAQ,yBAAY,IAE9C,IAAMmH,EAAY,yCAAG,WAAOvW,GAAP,sBAAAyV,EAAA,kEAEXe,EAAmCxW,EAAnCwW,gBAAoBC,EAFT,YAEwBzW,EAFxB,IAGfwW,IAAoBC,EAAWf,SAHhB,gBAG0BrB,EAAS,mBAHnC,uCAKEgB,GAAOoB,GALT,QAKZrW,EALY,UAOjBC,aAAauV,QAAQ,QAASxV,EAAMA,OACpCyF,OAAOrE,SAAW,UARD,0DAYE,MAAjB,KAAM2T,QAAkB,KAAMnV,KAAK0W,QAAQC,WAAW,sBACrDC,EAAS,KAAM5W,KAAK0W,QACtBG,MAAM,KAAK,GACXC,QAAQ,qBAAsB,uDAEhCvB,EADAqB,GAAU,aAhBQ,0DAAH,sDAqBlB,OACC,cAACjE,GAAA,EAAD,CAAW3N,UAAU,OAAO4N,SAAS,KAArC,SACC,eAAC,KAAD,CACCrO,GAAI,CACH6H,UAAW,EACXtH,QAAS,OACTkO,cAAe,SACf3N,WAAY,UALd,UAQC,qBACCwQ,IAAKC,GACLC,IAAK,OACLjU,MAAO,CACN0G,OAAQ,QACRhF,MAAO,QACPwS,aAAc,MACdC,aAAc,UAGhB,cAAClR,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAnC,kCAGA,cAACF,EAAA,EAAD,CAAYC,UAAU,KAAKhD,MAAM,MAAMmE,GAAI,EAA3C,SACEqJ,GAAY,KAEd,eAAC,KAAD,CACCxK,UAAU,OACVkR,YAAU,EACVrN,SAAUxB,EAAakP,GACvBhS,GAAI,CAAE+P,GAAI,GAJX,UAMC,eAACxL,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,UACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,yBACCO,UAAQ,EACRN,WAAS,EACTV,GAAG,WACHc,MAAM,WACNH,KAAK,YACDnC,EAAS,WAAY,CACxBwC,UAAU,EACVmN,UAAW,EACXC,UAAW,MATb,IAWC/W,QAAOsH,EAAO+E,SACd9C,WACCjC,EAAO+E,UACP,iHAIH,cAACxD,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,yBACCO,UAAQ,EACRN,WAAS,EACTC,KAAK,WACLG,MAAM,WACND,KAAK,WACLb,GAAG,YACCxB,EAAS,WAAY,CACxBwC,UAAU,EACVmN,UAAW,EACXC,UAAW,MAVb,IAYC/W,QAAOsH,EAAOmO,SACdlM,WACCjC,EAAOmO,UACP,iHAIH,cAAC5M,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,yBACCO,UAAQ,EACRN,WAAS,EACTC,KAAK,kBACLG,MAAM,8BACND,KAAK,WACLb,GAAG,mBACCxB,EAAS,kBAAmB,CAC/BwC,UAAU,EACVmN,UAAW,EACXC,UAAW,MAVb,IAYC/W,QAAOsH,EAAOiP,gBACdhN,WACCjC,EAAOiP,iBACP,wEAIH,cAAC1N,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,yBACCI,KAAK,QACLG,UAAQ,EACRN,WAAS,EACTV,GAAG,QACHc,MAAM,+BACNH,KAAK,SACDnC,EAAS,QAAS,CAAEwC,UAAU,KAPnC,IAQC3J,QAAOsH,EAAO8F,MACd7D,WAAYjC,EAAO8F,OAAS,kEAG9B,cAACvE,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,yBACCO,UAAQ,EACRN,WAAS,EACTV,GAAG,WACHc,MAAM,uBACNH,KAAK,YACDnC,EAAS,WAAY,CAAEwC,UAAU,KANtC,IAOC3J,QAAOsH,EAAOnC,SACdoE,WAAYjC,EAAOnC,UAAY,iFAGjC,cAAC0D,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,aACCC,WAAS,EACTV,GAAG,QACHc,MAAM,oCACNH,KAAK,SACDnC,EAAS,aAGf,cAAC0B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,aACCC,WAAS,EACTV,GAAG,UACHc,MAAM,yBACNH,KAAK,WACDnC,EAAS,eAGf,cAAC0B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,aACCC,WAAS,EACTV,GAAG,WACHc,MAAM,uCACNH,KAAK,YACDnC,EAAS,gBAGf,cAAC0B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACC,cAACI,GAAA,EAAD,aACCC,WAAS,EACTV,GAAG,cACHc,MAAM,8DACNH,KAAK,eACDnC,EAAS,mBAGf,cAAC0B,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACC,cAACI,GAAA,EAAD,aACCC,WAAS,EACTV,GAAG,OACHW,KAAK,OACLG,MAAM,gCACFtC,EAAS,YAGf,cAAC0B,GAAA,EAAD,CACCE,MAAI,EACJC,GAAI,EACJgO,UAAU,SACV3R,eAAe,SACf0N,cAAc,SALf,SAOC,cAACjO,EAAA,EAAD,CAAYE,QAAQ,QAApB,yBAED,cAAC6D,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACC,cAACI,GAAA,EAAD,aACCC,WAAS,EACTV,GAAG,OACHW,KAAK,OACLG,MAAM,8BACFtC,EAAS,eAIhB,cAACsD,GAAA,EAAD,CAAQjB,KAAK,SAASH,WAAS,EAACrE,QAAQ,YAAYV,GAAI,CAAE+P,GAAI,EAAGzB,GAAI,GAArE,kCAGA,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAACzD,eAAe,WAA/B,SACC,cAACwD,GAAA,EAAD,CAAME,MAAI,EAAV,SACC,cAACoN,GAAA,EAAD,CAAMC,KAAK,IAAIpR,QAAQ,QAAvB,sH,oDC3NQ,SAASiS,GAAT,GAAoF,IAA5DnQ,EAA2D,EAA3DA,MAAOhG,EAAoD,EAApDA,KAAMoW,EAA8C,EAA9CA,sBAAuBC,EAAuB,EAAvBA,oBACpEC,EAAW,WAChB,IAAIC,EAAWvQ,EAAMkE,oBAAoBsM,MAAK,SAACtJ,GAAD,OAAQA,EAAG3C,UAAYvK,EAAK2L,OAC1E,SAAI4K,IAAmC,IAAvBA,EAASpJ,YAG1B,OACC,eAACN,GAAA,EAAD,CAAUC,OAAK,EAAClM,KAAK,WAAWwL,UAAW,EAA3C,UACC,cAACW,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMwC,OAC/B,cAACuE,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMvF,WAC/B,cAACsM,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SAA2BsR,aAAO,IAAIpR,KAAKW,EAAMU,WAAY,gBAC7D,eAACqG,GAAA,EAAD,CAAW5H,MAAM,SAAjB,UACsB,WAApBa,EAAMa,WAA0B,iCACZ,eAApBb,EAAMa,WAA8B,yCAEtC,cAACkG,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACEa,EAAMe,QAAU0P,aAAO,IAAIpR,KAAKW,EAAMe,SAAU,cAAgB,KAElE,cAACgG,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACEa,EAAMkB,OAASuP,aAAO,IAAIpR,KAAKW,EAAMkB,QAAS,cAAgB,KAEhE,cAAC6F,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACEa,EAAMkE,oBAAoBoB,QAAO,SAAC4B,GAAD,OAAyB,IAAjBA,EAAGC,aAAqBC,QAAU,QAE7E,cAACL,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACsB,eAApBa,EAAMa,WACN,sCACGyP,KACD,cAAC3M,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,UACNuC,GAAI,CAAEoG,GAAI,GACVyD,KAAK,QACLxJ,QAAS,kBAAMuS,EAAsBpQ,IALtC,SAOC,cAAC,KAAD,MAGDsQ,KACA,cAAC3M,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,QACNuC,GAAI,CAAEoG,GAAI,GACVyD,KAAK,QACLxJ,QAAS,kBAAMwS,EAAoBrQ,IALpC,SAOC,cAAC,KAAD,cCtBO,SAAS0Q,GAAT,GAAkC,IAAD,EAAZ5W,EAAY,EAAZA,SACnC,EAAwBC,mBAAS,GAAjC,mBAAOoP,EAAP,KAAaC,EAAb,KACA,EAAsCrP,mBAAS,IAA/C,mBAAOsP,EAAP,KAAoBC,EAApB,KACA,EAAwBvP,mBAAS,MAAjC,mBAAOwP,EAAP,KAAaC,EAAb,KACA,EAA4BzP,mBAAS,IAArC,mBAAO0P,EAAP,KAAeC,EAAf,KACA,EAAwC3P,mBAAS,IAAjD,mBAAO4P,EAAP,KAAqBC,EAArB,KACA,EAAepP,qBAAWb,GAAnBK,EAAP,oBACAE,qBAAU,WAGT,OAFA+P,SAAS5B,MAAQ,2CZxBlBhQ,EAAQoB,IAAI,SAAU,CACrBhB,QAAS,CACRiB,cAAe,UAAYL,MYuBbc,MAAK,SAACC,GAAD,OAASsP,EAAUtP,EAAI4F,UACpC,WACN0J,EAAU,IACVE,EAAgB,OAEf,IACH1P,qBAAU,WACU0P,EAAN,OAATL,EAA+BE,EAGjCA,EAAOnE,QACN,SAACtF,GAAD,OACC,IAAIX,KAAKW,EAAMU,WAAWwJ,iBAAmB,IAAI7K,KAAKkK,GAAMW,qBAG9D,CAACX,EAAME,IAEV,IASM2G,EAAwB,SAACpQ,GZwBD,IAAC2Q,KYvBd3Q,EAAM2F,IZwBvBtN,EAAQ2P,KAAR,iBACW2I,EADX,oBAEC,GACA,CACClY,QAAS,CACRiB,cAAe,UAAYL,OY5B3Bc,MAAK,SAACC,GACN,IAAIkQ,EAAU,aAAOb,GACfc,EAAQd,EAAOe,WAAU,SAACtD,GAAD,OAAQA,EAAGvB,MAAQ3F,EAAM2F,OACxD2E,EAAWC,GAASE,OAAOC,OAAOJ,EAAWC,GAAQnQ,EAAI4F,OACzD0J,EAAUY,GACVpC,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,8DAAD,OAAiCrI,EAAMwC,MAC5C8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,YAGT+E,OAAM,SAACC,GACPP,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAM,kFAAD,OAAgDrI,EAAMwC,MAC3D8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAKN4M,EAAsB,SAACrQ,GZOD,IAAC2Q,KYNd3Q,EAAM2F,IZOrBtN,EAAQ2P,KAAR,iBACW2I,EADX,kBAEC,GACA,CACClY,QAAS,CACRiB,cAAe,UAAYL,OYX3Bc,MAAK,SAACC,GACN,IAAIkQ,EAAU,aAAOb,GACfc,EAAQd,EAAOe,WAAU,SAACtD,GAAD,OAAQA,EAAGvB,MAAQ3F,EAAM2F,OACxD2E,EAAWC,GAASE,OAAOC,OAAOJ,EAAWC,GAAQnQ,EAAI4F,OACzD0J,EAAUY,GACVpC,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,uEAAD,OAAqCrI,EAAMwC,MAChD8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,YAGT+E,OAAM,SAACC,GACPP,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAM,2FAAD,OAAoDrI,EAAMwC,MAC/D8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAIZ,OACC,eAAC,KAAD,CACCxF,UAAU,OACVT,GAAI,CACHkB,gBAAiB,UACjBN,SAAU,EACVqD,OAAQ,QACR2D,SAAU,QANZ,UASC,cAAC7H,EAAA,EAAD,IACA,cAAC+N,GAAA,EAAD,CACC9N,GAAI,CACH+N,SAAU,IACV1O,SAAU,WACVyE,IAAK,OACLsC,GAAI,EACJ4H,GAAI,EACJ7J,UAAW,EACXjD,gBAAiB,WARnB,SAWC,eAAC+M,GAAA,EAAD,WACC,cAACzN,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAMT,GAAI,CAAEvC,MAAO,SAAtD,4DAGA,cAAC+C,EAAA,EAAD,CAAYR,GAAI,CAAEkO,SAAU,IAAMzQ,MAAM,QAAQ0Q,cAAY,EAA5D,6CAKF,cAACC,GAAA,EAAD,CAAWC,SAAS,KAAKrO,GAAI,CAAEsO,GAAI,GAAnC,SACC,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,SACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIE,GAAI,GAA/B,SACC,eAAC0C,GAAA,EAAD,CACCvH,GAAI,CACHoE,EAAG,EACHmK,GAAI,EACJC,GAAI,EACJjO,QAAS,OACTkO,cAAe,SACfxK,OAAQ,QAPV,UAUC,cAACyK,GAAA,EAAD,CAAgB1O,GAAI,CAAE2O,UAAW,SAAjC,SACC,eAACC,GAAA,EAAD,CAAOC,cAAY,EAAC,aAAW,eAA/B,UACC,cAACC,GAAA,EAAD,UACC,cAACzF,GAAA,EAAD,UACC,cAACE,GAAA,EAAD,CAAWwF,QAAS,EAApB,SACC,cAACzJ,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,oBACNS,KAAK,aACL9I,MAAOiP,EACPlG,SAAU,SAACoJ,GACVjD,EAAQiD,IAETlJ,YAAa,SAAC5K,GAAD,OACZ,cAAC2J,GAAA,EAAD,eAAe3J,eAOrB,cAAC2T,GAAA,EAAD,UACC,eAACzF,GAAA,EAAD,WACC,cAACE,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,2DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,iFAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,4DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,8DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,+DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,wEAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,mEAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,qEAIH,cAACyR,GAAA,EAAD,oBACE/C,EACCgD,MACA,SAACC,EAAQC,GAAT,OACC,IAAIxN,KAAKwN,EAAOnM,WAChB,IAAIrB,KAAKuN,EAAOlM,cAEjBoM,MACA3D,EAAOE,EACPF,EAAOE,EAAcA,UATxB,aACE,EAUE5D,KAAI,SAACzF,GACN,OACC,cAACmQ,GAAD,CACCnQ,MAAOA,EAEPhG,KAAMA,EACNoW,sBACCA,EAEDC,oBAAqBA,GALhBrQ,EAAM2F,eAYlB,cAACoH,GAAA,EAAD,CACCC,mBAAoB,CAAC,GAAI,GAAI,KAC7B/O,UAAU,MACVgP,MAAK,OAAEtD,QAAF,IAAEA,OAAF,EAAEA,EAAcvC,OACrBiC,YAAaA,EACbF,KAAMA,EACN+D,aAzPkB,SAAClN,EAAOmN,GAChC/D,EAAQ+D,IAyPFC,oBAtPyB,SAACpN,GAChCsJ,GAAgBtJ,EAAMyD,OAAOnJ,OAC7B8O,EAAQ,eA0PNtP,KCjTW,SAAS8W,GAAT,GAOX,IANHC,EAME,EANFA,YACAC,EAKE,EALFA,uBACAC,EAIE,EAJFA,OACAC,EAGE,EAHFA,aACAhR,EAEE,EAFFA,MACAiR,EACE,EADFA,YAEA,EAAgClX,mBAASiX,EAAe3R,KAAKuI,OAA7D,mBAAOsJ,EAAP,KAAiBC,EAAjB,KAiBA,OAfAjX,qBAAU,WACT,IAAMkX,EAAYC,aAAY,WAC7BF,EAAYD,EAAW,OACrB,KACH,OAAO,kBAAMI,cAAcF,MACzB,CAACF,IAEJhX,qBAAU,WACT,IAAMqX,EAAUF,aAAY,WAC3BJ,IACAH,MACEE,EAAe3R,KAAKuI,OACvB,OAAO,kBAAM0J,cAAcC,MACzB,CAACT,EAAwBE,EAAcC,IAGzC,cAAC5P,GAAA,EAAD,CACCtF,KAAM8U,EACN,kBAAgB,yBAChB,mBAAiB,+BAHlB,SAKC,eAAC,KAAD,CACCrT,GAAI,CACHX,SAAU,WACVyE,IAAK,MACLC,KAAM,MACNC,UAAW,wBACX/E,MAAO,MACPgF,OAAQ,OACRC,QAAS,QACTC,UAAW,GACXC,EAAG,GAVL,UAaC,cAAC,KAAD,CACCnF,MAAM,OACNsB,QAAQ,OACRQ,eAAe,SACfD,WAAW,SACXmD,OAAO,MALR,SAOC,cAAC,KAAD,CAAKxD,UAAU,MAAM6Q,IAAKiC,EAAQ/B,IAAI,UAAUvN,OAAO,WAExD,eAACsD,GAAA,EAAD,CACCyM,UAAW,EACXhU,GAAI,CACHO,QAAS,OACTO,WAAY,SACZC,eAAgB,eAChBqD,EAAG,EACH2L,GAAI,EACJ3J,GAAI,GACJ4H,GAAI,IATN,UAYC,gCACC,eAACxN,EAAA,EAAD,CAAYE,QAAQ,KAApB,UACC,mBAAGnD,MAAO,CAAEE,MAAO,WAAnB,wCACC+E,EAAMwC,QAER,eAACxE,EAAA,EAAD,CAAYE,QAAQ,KAApB,UACC,mBAAGnD,MAAO,CAAEE,MAAO,WAAnB,4CACC+E,EAAMvF,YAER,eAACuD,EAAA,EAAD,CAAYE,QAAQ,KAApB,UACC,mBAAGnD,MAAO,CAAEE,MAAO,WAAnB,8BACCwV,aAAO,IAAIpR,KAAKW,EAAMU,WAAY,oBAGrC,gCACC,cAAC1C,EAAA,EAAD,CAAYE,QAAQ,KAApB,SACC,mBAAGnD,MAAO,CAAEE,MAAO,SAAnB,wCAED,cAAC+C,EAAA,EAAD,CAAYE,QAAQ,KAApB,SACC,oBAAGnD,MAAO,CAAEE,MAAO,OAAnB,UACEwW,KAAKC,MAAMR,EAAW,KADxB,MAEKA,EAAW,IAAS,KAAMS,QAAQ,GAAK,GAAK,IAAM,KACnDT,EAAW,IAAS,KAAMS,QAAQ,QAGvC,cAAChO,GAAA,EAAD,CACC1I,MAAM,QACNiD,QAAQ,YACRV,GAAI,CAAE+P,GAAI,GACV1P,QAASiT,EAJV,kD,8CC9ES,SAASc,GAAT,GAOX,IANH5R,EAME,EANFA,MACA8D,EAKE,EALFA,MACA+N,EAIE,EAJFA,eACAC,EAGE,EAHFA,oBACAC,EAEE,EAFFA,eACAC,EACE,EADFA,kBAEA,EAA0CjY,mBAAS,IAAnD,mBAAO2K,EAAP,KAAsBC,EAAtB,KAEMC,EAAwBC,aAAS,KADjB,SAACC,GAAD,OAAOH,EAAiBG,EAAErB,OAAOnJ,UAGvD,OACC,cAAC+G,GAAA,EAAD,CACCtF,KAAM8V,EACN,kBAAgB,oBAChB,mBAAiB,0BAHlB,SAKC,eAAC,KAAD,CACCrU,GAAI,CACHX,SAAU,WACVyE,IAAK,MACLC,KAAM,MACNC,UAAW,wBACX/E,MAAO,IACPgF,OAAQ,sBACRC,QAAS,QACTC,UAAW,IATb,UAYC,cAAC,KAAD,CACCnE,GAAI,CACHkE,QAAS,OACTzG,MAAO,QACP2G,EAAG,GAJL,SAOC,cAAC5D,EAAA,EAAD,CACC6D,GAAG,oBACH3D,QAAQ,KACRD,UAAU,KACVkB,MAAM,SACN3B,GAAI,CAAEoB,WAAY,UALnB,mDAUD,eAAC,KAAD,CACCpB,GAAI,CACHoE,EAAG,GAFL,UAKC,eAACmD,GAAA,EAAD,CACC9G,UAAU,OACVT,GAAI,CAAEoE,EAAG,UAAW7D,QAAS,OAAQO,WAAY,SAAU7B,MAAO,QAFnE,UAIC,cAACuI,GAAA,EAAD,CACCxH,GAAI,CAAEoG,GAAI,EAAGqB,KAAM,GACnBC,YAAY,2CACZC,WAAY,CAAE,aAAc,4CAC5B9B,SAAUuB,IAEX,cAACjH,EAAA,EAAD,CAAY+E,KAAK,SAASlF,GAAI,CAAEoE,EAAG,QAAU,aAAW,SAAxD,SACC,cAAC,KAAD,SAGF,cAACnD,EAAA,EAAD,CACCjB,GAAI,CACHf,MAAO,OACPgF,OAAQ,sBACR2D,SAAU,SACVC,UAAW,GALb,SAQEvB,EACCwB,QAAO,SAACtL,GAAD,OAAUA,EAAKuL,SAASC,MAAMd,MACrCe,KAAI,SAACzL,GACL,OACC,cAACkB,EAAA,EAAD,CAEC+W,gBACC,sCACGjS,EAAMkS,MAAMrX,SAASb,EAAK2L,MAC3B,cAAChC,GAAA,EAAD,CACC/F,KAAK,MACL,aAAW,SACXM,QAAQ,YACRjD,MAAM,UACNuC,GAAI,CACHyR,aAAc,MACdxN,OAAQ,QAET5D,QAAS,kBACRkU,EAAe/R,EAAM2F,IAAK3L,EAAK2L,MAVjC,SAaC,cAAC,KAAD,MAGD3F,EAAMkS,MAAMrX,SAASb,EAAK2L,MAC1B,cAAChC,GAAA,EAAD,CACC/F,KAAK,MACL,aAAW,SACXM,QAAQ,YACRjD,MAAM,QACNuC,GAAI,CACHyR,aAAc,MACdxN,OAAQ,QAET5D,QAAS,kBACRmU,EAAkBhS,EAAM2F,IAAK3L,EAAK2L,MAVpC,SAaC,cAAC,KAAD,SAnCL,SAyCC,cAACpK,EAAA,EAAD,CACCC,QACC,qCACC,cAACwC,EAAA,EAAD,UAAahE,EAAKuL,WAClB,eAACvH,EAAA,EAAD,WACC,mBAAGjD,MAAO,CAAEE,MAAO,WAAnB,uCAGCjB,EAAKqE,YAEP,eAACL,EAAA,EAAD,WACC,mBAAGjD,MAAO,CAAEE,MAAO,WAAnB,+CAGCjB,EAAKsM,eAtDLtM,EAAK2L,UA+Df,cAAC,KAAD,CACCnI,GAAI,CACHoE,EAAG,EACH7D,QAAS,OACTQ,eAAgB,YAJlB,SAOC,cAACoF,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,QACN4C,QAASiU,EACTtU,GAAI,CAAEoG,GAAI,GAJX,gCC/JS,SAASuO,GAAT,GAAiF,IAA7DnS,EAA4D,EAA5DA,MAAO8D,EAAqD,EAArDA,MAAOiO,EAA8C,EAA9CA,eAAgBC,EAA8B,EAA9BA,kBAAmBI,EAAW,EAAXA,QACnF,EAAsCrY,oBAAS,GAA/C,mBAAO8W,EAAP,KAAoBwB,EAApB,KACA,EAA0CtY,oBAAS,GAAnD,mBAAOuY,EAAP,KAAsBC,EAAtB,KACA,EAA4BxY,mBAAS,IAArC,mBAAOgX,EAAP,KAAeyB,EAAf,KACA,EAAwCzY,mBAAS,GAAjD,mBAAOiX,EAAP,KAAqByB,EAArB,KACA,EAA4B1Y,mBAAS,IAArC,mBAAO2Y,EAAP,KAAeC,EAAf,KAOM1B,EAAc,YfoBI,SAACpP,EAAI6Q,GAAL,OACxBra,EAAQoB,IAAR,iBAAsBoI,EAAtB,WAAmC,CAClCpJ,QAAS,CACRiB,cAAe,UAAYL,IAE5BV,OAAQ,CAAE+Z,aexBVE,CAAU5S,EAAM2F,IAAK+M,GACnBvY,MAAK,SAACC,GACNoY,EAAUpY,EAAIuV,QAAQkD,QACtBJ,EAAuC,EAAvBrY,EAAIuV,QAAQmD,UAC5BT,GAAe,MAEf7J,OAAM,SAACC,GACP4J,GAAe,GACfnK,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,QACNC,MAAM,qBAAD,OAAarI,EAAMwC,KAAnB,sCACL8F,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAWZ,OACC,eAACoD,GAAA,EAAD,CAAUC,OAAK,EAAClM,KAAK,WAAWwL,UAAW,EAA3C,UACC,cAACW,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMwC,OAC/B,cAACuE,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMvF,WAC/B,cAACsM,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SAA2BsR,aAAO,IAAIpR,KAAKW,EAAMU,WAAY,gBAC7D,eAACqG,GAAA,EAAD,CAAW5H,MAAM,SAAjB,UACC,cAACmD,GAAA,EAAD,CACC9E,GAAI,CAAEf,MAAO,SACbiG,KAAK,SACLxE,QAAQ,WACR5D,MAAOoY,EACPrP,SAAU,SAACyB,GAAD,OAAO6N,EAA2B,EAAjB7N,EAAErB,OAAOnJ,UAErC,6CAED,eAACyM,GAAA,EAAD,CAAW5H,MAAM,SAAjB,WACGiT,GACD,qCACC,cAACzO,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,UACNuC,GAAI,CAAEoG,GAAI,GACVyD,KAAK,SACLxJ,QA7B0B,WAC/B0U,GAAiB,IAuBb,uBASCD,GACA,cAACV,GAAD,CACCC,eAAgBS,EAChBR,oBAjC0B,WAChCS,GAAiB,IAiCXvS,MAAOA,EACP8D,MAAOA,EACPiO,eAAgBA,EAChBC,kBAAmBA,OAKvB,cAACrO,GAAA,EAAD,CACCzF,QAAQ,YACRV,GAAI,CAAEoG,GAAI,GACVyD,KAAK,SACLxJ,QA3E0B,WAC7BoT,KA2EGhD,SACC,IAAI5O,KAAKW,EAAMU,WAAWqS,SAAS,EAAG,EAAG,EAAG,IAC5C,IAAI1T,MAAO0T,SAAS,EAAG,EAAG,EAAG,GAP/B,6CAcClC,GACA,cAACD,GAAD,CACCC,YAAaA,EACbC,uBArF0B,WAC9BuB,GAAe,IAqFXrS,MAAOA,EACP+Q,OAAQA,EACRC,aAAcA,EACdC,YAAaA,UC/EJ,SAAS+B,GAAT,GAAsC,IAAD,EAAXZ,EAAW,EAAXA,QACxC,EAAwBrY,mBAAS,GAAjC,mBAAOoP,EAAP,KAAaC,EAAb,KACA,EAAsCrP,mBAAS,IAA/C,mBAAOsP,EAAP,KAAoBC,EAApB,KACA,EAAwBvP,mBAAS,MAAjC,mBAAOwP,EAAP,KAAaC,EAAb,KACA,EAA4BzP,mBAAS,IAArC,mBAAO0P,EAAP,KAAeC,EAAf,KACA,EAAoC3P,mBAAS,IAA7C,mBAAOkZ,EAAP,KAAmBC,EAAnB,KACA,EAAwCnZ,mBAAS,IAAjD,mBAAO4P,EAAP,KAAqBC,EAArB,KACA1P,qBAAU,WAMT,OALA+P,SAAS5B,MAAQ,QACjBvI,KAAgB3F,MAAK,SAACC,GAAD,OAASsP,EAAUtP,EAAI4F,UACvCoS,GxBFN/Z,EAAQoB,IAAI,iBAAkB,CAC7BhB,QAAS,CACRiB,cAAe,UAAYL,KwBCZc,MAAK,SAACC,GAAD,OAAS8Y,EAAc9Y,EAAI0J,UAEzC,WACN4F,EAAU,IACVwJ,EAAc,IACdtJ,EAAgB,OAEf,CAACwI,IACJlY,qBAAU,WACU0P,EAAN,OAATL,EAA+BE,EAGjCA,EAAOnE,QACN,SAACtF,GAAD,OACC,IAAIX,KAAKW,EAAMU,WAAWwJ,iBAAmB,IAAI7K,KAAKkK,GAAMW,qBAG9D,CAACX,EAAME,IAEV,IAAMsI,EAAiB,SAACpB,EAASwC,IhBEV,SAACxC,EAASwC,GAAV,OACvB9a,EAAQ+a,IAAR,yBACmBzC,EADnB,qBACuCwC,GACtC,GACA,CACC1a,QAAS,CACRiB,cAAe,UAAYL,OgBP7Bga,CAAS1C,EAASwC,GAAShZ,MAAK,SAACC,GAChC,IAAIkQ,EAAU,aAAOb,GACfc,EAAQd,EAAOe,WAAU,SAACxK,GAAD,OAAWA,EAAM2F,MAAQgL,KACxDrG,EAAWC,GAASE,OAAOC,OAAOJ,EAAWC,GAAQnQ,EAAI4F,OACzD0J,EAAUY,OAGN0H,EAAoB,SAACrB,EAASwC,IhBKV,SAACxC,EAASwC,GAAV,OAC1B9a,EAAQ+a,IAAR,yBACmBzC,EADnB,wBAC0CwC,GACzC,GACA,CACC1a,QAAS,CACRiB,cAAe,UAAYL,OgBV7Bia,CAAY3C,EAASwC,GAAShZ,MAAK,SAACC,GACnC,IAAIkQ,EAAU,aAAOb,GACfc,EAAQd,EAAOe,WAAU,SAACxK,GAAD,OAAWA,EAAM2F,MAAQgL,KACxDrG,EAAWC,GAASE,OAAOC,OAAOJ,EAAWC,GAAQnQ,EAAI4F,OACzD0J,EAAUY,OAWZ,OACC,eAAC,KAAD,CACCrM,UAAU,OACVT,GAAI,CACHkB,gBAAiB,UACjBN,SAAU,EACVqD,OAAQ,QACR2D,SAAU,QANZ,UASC,cAAC7H,EAAA,EAAD,IACA,cAAC+N,GAAA,EAAD,CACC9N,GAAI,CACH+N,SAAU,IACV1O,SAAU,WACVyE,IAAK,OACLsC,GAAI,EACJ4H,GAAI,EACJ7J,UAAW,EACXjD,gBAAiB,WARnB,SAWC,eAAC+M,GAAA,EAAD,WACC,cAACzN,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAMT,GAAI,CAAEvC,MAAO,SAAtD,mBAGA,cAAC+C,EAAA,EAAD,CAAYR,GAAI,CAAEkO,SAAU,IAAMzQ,MAAM,QAAQ0Q,cAAY,EAA5D,wDAKF,cAACC,GAAA,EAAD,CAAWC,SAAS,KAAKrO,GAAI,CAAEsO,GAAI,GAAnC,SACC,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,SACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIE,GAAI,GAA/B,SACC,eAAC0C,GAAA,EAAD,CACCvH,GAAI,CACHoE,EAAG,EACHmK,GAAI,EACJC,GAAI,EACJjO,QAAS,OACTkO,cAAe,SACfxK,OAAQ,QAPV,UAUC,cAACyK,GAAA,EAAD,CAAgB1O,GAAI,CAAE2O,UAAW,SAAjC,SACC,eAACC,GAAA,EAAD,CAAOC,cAAY,EAAC,aAAW,eAA/B,UACC,cAACC,GAAA,EAAD,UACC,cAACzF,GAAA,EAAD,UACC,cAACE,GAAA,EAAD,CAAWwF,QAAS,EAApB,SACC,cAACzJ,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,oBACNS,KAAK,aACL9I,MAAOiP,EACPlG,SAAU,SAACoJ,GACVjD,EAAQiD,IAETlJ,YAAa,SAAC5K,GAAD,OACZ,cAAC2J,GAAA,EAAD,eAAe3J,eAOrB,cAAC2T,GAAA,EAAD,UACC,eAACzF,GAAA,EAAD,WACC,cAACE,GAAA,EAAD,CACChM,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SAJT,SAOC,2DAED,cAAC8L,GAAA,EAAD,CACChM,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SAJT,SAOC,iFAED,cAAC8L,GAAA,EAAD,CACChM,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SAJT,SAOC,4DAED,cAAC8L,GAAA,EAAD,CACChM,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SAJT,SAOC,iFAED,cAAC8L,GAAA,EAAD,CACChM,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SAJT,SAOC,8DAIH,cAACyR,GAAA,EAAD,oBACE/C,EACCgD,MACA,SAACC,EAAQC,GAAT,OACC,IAAIxN,KAAKwN,EAAOnM,WAChB,IAAIrB,KAAKuN,EAAOlM,cAEjBoM,MACA3D,EAAOE,EACPF,EAAOE,EAAcA,UATxB,aACE,EAUE5D,KAAI,SAACzF,GACN,OACC,cAACmS,GAAD,CACCnS,MAAOA,EACP8D,MAAOmP,EAEPlB,eAAgBA,EAChBC,kBAAmBA,EACnBI,QAASA,GAHJpS,EAAM2F,eAUlB,cAACoH,GAAA,EAAD,CACCC,mBAAoB,CAAC,GAAI,GAAI,KAC7B/O,UAAU,MACVgP,MAAK,OAAEtD,QAAF,IAAEA,OAAF,EAAEA,EAAcvC,OACrBiC,YAAaA,EACbF,KAAMA,EACN+D,aA7JkB,SAAClN,EAAOmN,GAChC/D,EAAQ+D,IA6JFC,oBA1JyB,SAACpN,GAChCsJ,GAAgBtJ,EAAMyD,OAAOnJ,OAC7B8O,EAAQ,kBC5EK,SAASmK,GAAT,GAAuE,IAAhDC,EAA+C,EAA/CA,OAAQC,EAAuC,EAAvCA,YAAaC,EAA0B,EAA1BA,uBAE1D,OADA5L,QAAQC,IAAIyL,GAEX,cAACnS,GAAA,EAAD,CACCtF,KAAM0X,EACNE,QAASD,EACT,kBAAgB,yBAChB,mBAAiB,+BAJlB,SAMC,eAAC,KAAD,CACClW,GAAI,CACHX,SAAU,WACVyE,IAAK,MACLC,KAAM,MACNC,UAAW,wBACX/E,MAAO,MACPgF,OAAQ,MACRC,QAAS,QACTC,UAAW,IATb,UAYC,cAAC,KAAD,CACCnE,GAAI,CACHkE,QAAS,OACTzG,MAAO,QACP2G,EAAG,GAJL,SAOC,cAAC5D,EAAA,EAAD,CACC6D,GAAG,oBACH3D,QAAQ,KACRD,UAAU,KACVkB,MAAM,SACN3B,GAAI,CAAEoB,WAAY,cAKpB,eAACmD,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,UACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACC,yCAED,cAACH,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACC,iDCxCS,SAAS0R,GAAT,GAAqC,IAAhB5T,EAAe,EAAfA,MACnC,GADkD,EAARhG,KACJD,oBAAS,IAA/C,mBAAO0Z,EAAP,KAAoBI,EAApB,KACA,EAA4B9Z,mBAAS,MAArC,mBAAOyZ,EAAP,KAAeM,EAAf,KAWA,OAHA5Z,qBAAU,WlBiEc,IAAC2H,KkBhEd7B,EAAM2F,IlBiEjBtN,EAAQoB,IAAR,iBAAsBoI,EAAtB,WAAmC,CAClCpJ,QAAS,CACRiB,cAAe,UAAYL,OkBnEPc,MAAK,SAACC,GAAD,OAAS0Z,EAAU1Z,EAAI8Q,aAC/C,CAAClL,EAAM2F,MAET,eAACkB,GAAA,EAAD,CAAUC,OAAK,EAAClM,KAAK,WAAWwL,UAAW,EAA3C,UACC,cAACW,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMwC,OAC/B,cAACuE,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBa,EAAMvF,WAC/B,cAACsM,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SAA2BsR,aAAO,IAAIpR,KAAKW,EAAMU,WAAY,gBAC7D,cAACqG,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACC,mBAAGpE,MAAO,CAAEE,MAAO,MAAOyQ,SAAU,QAApC,SACsB,WAApB1L,EAAMa,UACJb,EAAMkE,oBAAoBoB,QAAO,SAAC4B,GAAD,OAAyB,IAAjBA,EAAGC,aAAqBC,OACjE,UAGL,cAACL,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SACC,mBAAGpE,MAAO,CAAEE,MAAO,MAAOyQ,SAAU,QAApC,SACE1L,EAAMkE,oBAAoBoB,QAAO,SAAC4B,GAAD,OAAyB,IAAjBA,EAAGC,aAAoBC,WAGnE,eAACL,GAAA,EAAD,CAAW5H,MAAM,SAAjB,UACC,cAACwE,GAAA,EAAD,CACCzF,QAAQ,YACRjD,MAAM,UACNuC,GAAI,CAAEoG,GAAI,GACVyD,KAAK,SACLxJ,QAjC0B,WAC7BgW,GAAe,IA2Bb,wBASCJ,GACA,cAACF,GAAD,CACCC,OAAQA,EACRC,YAAaA,EACbC,uBAtC0B,WAC9BG,GAAe,YCYF,SAASE,KAAmB,IAAD,EACzC,EAAwBha,mBAAS,GAAjC,mBAAOoP,EAAP,KAAaC,EAAb,KACA,EAAsCrP,mBAAS,IAA/C,mBAAOsP,EAAP,KAAoBC,EAApB,KACA,EAAwBvP,mBAAS,MAAjC,mBAAOwP,EAAP,KAAaC,EAAb,KACA,EAA4BzP,mBAAS,IAArC,mBAAO0P,EAAP,KAAeC,EAAf,KACA,EAAwC3P,mBAAS,IAAjD,mBAAO4P,EAAP,KAAqBC,EAArB,KACA1P,qBAAU,WAGT,OAFA+P,SAAS5B,MAAQ,SACjBvI,KAAgB3F,MAAK,SAACC,GAAD,OAASsP,EAAUtP,EAAI4F,UACrC,WACN0J,EAAU,IACVE,EAAgB,OAEf,IACH1P,qBAAU,WACU0P,EAAN,OAATL,EAA+BE,EAGjCA,EAAOnE,QACN,SAACtF,GAAD,OACC,IAAIX,KAAKW,EAAMU,WAAWwJ,iBAAmB,IAAI7K,KAAKkK,GAAMW,qBAG9D,CAACX,EAAME,IAUV,OACC,eAAC,KAAD,CACCxL,UAAU,OACVT,GAAI,CACHkB,gBAAiB,UACjBN,SAAU,EACVqD,OAAQ,QACR2D,SAAU,QANZ,UASC,cAAC7H,EAAA,EAAD,IACA,cAAC+N,GAAA,EAAD,CACC9N,GAAI,CACH+N,SAAU,IACV1O,SAAU,WACVyE,IAAK,OACLsC,GAAI,EACJ4H,GAAI,EACJ7J,UAAW,EACXjD,gBAAiB,WARnB,SAWC,eAAC+M,GAAA,EAAD,WACC,cAACzN,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAMT,GAAI,CAAEvC,MAAO,SAAtD,mBAGA,cAAC+C,EAAA,EAAD,CAAYR,GAAI,CAAEkO,SAAU,IAAMzQ,MAAM,QAAQ0Q,cAAY,EAA5D,wDAKF,cAACC,GAAA,EAAD,CAAWC,SAAS,KAAKrO,GAAI,CAAEsO,GAAI,GAAnC,SACC,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,SACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIE,GAAI,GAA/B,SACC,eAAC0C,GAAA,EAAD,CACCvH,GAAI,CACHoE,EAAG,EACHmK,GAAI,EACJC,GAAI,EACJjO,QAAS,OACTkO,cAAe,SACfxK,OAAQ,QAPV,UAUC,cAACyK,GAAA,EAAD,CAAgB1O,GAAI,CAAE2O,UAAW,QAAS9G,UAAW,GAArD,SACC,eAAC+G,GAAA,EAAD,CAAOC,cAAY,EAAC,aAAW,eAA/B,UACC,cAACC,GAAA,EAAD,UACC,cAACzF,GAAA,EAAD,UACC,cAACE,GAAA,EAAD,CAAWwF,QAAS,EAApB,SACC,cAACzJ,GAAA,EAAD,CACCC,YAAaC,KACbC,OAAQC,KAFT,SAIC,cAACC,GAAA,EAAD,CACCR,MAAM,oBACNS,KAAK,aACL9I,MAAOiP,EACPlG,SAAU,SAACoJ,GACVjD,EAAQiD,IAETlJ,YAAa,SAAC5K,GAAD,OACZ,cAAC2J,GAAA,EAAD,eAAe3J,eAOrB,cAAC2T,GAAA,EAAD,UACC,eAACzF,GAAA,EAAD,WACC,cAACE,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,2DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,iFAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,4DAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,wFAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,8EAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,8DAIH,cAACyR,GAAA,EAAD,oBACE/C,EACCgD,MACA,SAACC,EAAQC,GAAT,OACC,IAAIxN,KAAKwN,EAAOnM,WAChB,IAAIrB,KAAKuN,EAAOlM,cAEjBoM,MACA3D,EAAOE,EACPF,EAAOE,EAAcA,UATxB,aACE,EAUE5D,KAAI,SAACzF,GACN,OAAO,cAAC4T,GAAD,CAAW5T,MAAOA,GAAYA,EAAM2F,eAKhD,cAACoH,GAAA,EAAD,CACCC,mBAAoB,CAAC,GAAI,GAAI,KAC7B/O,UAAU,MACVgP,MAAK,OAAEtD,QAAF,IAAEA,OAAF,EAAEA,EAAcvC,OACrBiC,YAAaA,EACbF,KAAMA,EACN+D,aAnKkB,SAAClN,EAAOmN,GAChC/D,EAAQ+D,IAmKFC,oBAhKyB,SAACpN,GAChCsJ,GAAgBtJ,EAAMyD,OAAOnJ,OAC7B8O,EAAQ,kBCrDK,SAAS4K,GAAT,GAOX,IANHha,EAME,EANFA,KACAia,EAKE,EALFA,QACAlC,EAIE,EAJFA,eACAmC,EAGE,EAHFA,iBACAC,EAEE,EAFFA,iBACAC,EACE,EADFA,oBAEMC,EAAgB,WACrB,MAAqB,YAAdra,EAAKY,OAAuBqZ,GAGpC,OADAnM,QAAQC,IAAI/N,EAAK2L,KAEhB,eAACkB,GAAA,EAAD,CAAUC,OAAK,EAACV,UAAW,EAA3B,UACC,cAACW,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAKuL,WAC9B,cAACwB,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAKqE,WAC9B,cAAC0I,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAKsM,QAC9B,cAACS,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAK2T,QAC9B,cAAC5G,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAK4T,UAC9B,cAAC7G,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAK6T,WAC9B,cAAC9G,GAAA,EAAD,CAAW5H,MAAM,OAAjB,SAAyBnF,EAAK8T,cAC9B,cAAC/G,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SAA2BnF,EAAK+T,MAAQ,MACxC,cAAChH,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SAA2BnF,EAAKgU,MAAQ,MACxC,cAACjH,GAAA,EAAD,CAAW5H,MAAM,SAAjB,SAA2BnF,EAAKY,OAChC,cAACmM,GAAA,EAAD,CACC5H,MAAM,SACN3B,GAAI,CAAEO,QAAS,OAAQQ,eAAgB,SAAUD,WAAY,UAF9D,SAIgB,UAAdtE,EAAKY,KACL,qCACE,IACD,cAAC+I,GAAA,EAAD,CACCsK,SAAUoG,KAAiC,UAAdra,EAAKY,KAClC6B,MAAM,MACNyB,QAAQ,YACRjD,MAAM,UACN4C,QAAS,WACRkU,EAAe/X,EAAK2L,MANtB,mBAWCsO,GACA,cAACtQ,GAAA,EAAD,CACClH,MAAM,MACNwR,UAAWgG,GAAyB,YAAdja,EAAKY,KAC3BsD,QAAQ,YACRjD,MAAM,UACN4C,QAAS,WACRqW,EAAiBla,EAAK2L,MANxB,qBAYD,cAAChC,GAAA,EAAD,CACCsK,SAAUoG,KAAiC,YAAdra,EAAKY,KAClC6B,MAAM,MACNyB,QAAQ,YACRjD,MAAM,UACN4C,QAAS,WACRsW,EAAiBna,EAAK2L,MANxB,qBAWCsO,GACA,cAACtQ,GAAA,EAAD,CACCsK,UAAWgG,EACXxX,MAAM,MACNyB,QAAQ,YACRjD,MAAM,QACN4C,QAAS,WACRuW,EAAoBpa,EAAK2L,MAN3B,uBAcF,cAAChC,GAAA,EAAD,CAAQsK,UAAQ,EAAC1L,WAAS,EAACrE,QAAQ,YAAnC,wBCzDU,SAASoW,GAAT,GAAsC,IAAD,EAAXL,EAAW,EAAXA,QACxC,EAAwBla,mBAAS,GAAjC,mBAAOoP,EAAP,KAAaC,EAAb,KACA,EAAsCrP,mBAAS,IAA/C,mBAAOsP,EAAP,KAAoBC,EAApB,KACA,EAAkCvP,mBAAS,IAA3C,mBAAOgQ,EAAP,KAAkBC,EAAlB,KACA,EAA0CjQ,mBAAS,IAAnD,mBAAO2K,EAAP,KAAsBC,EAAtB,KAKMC,EAAwBC,aAAS,KAJjB,SAACC,GACtBH,EAAiBG,EAAErB,OAAOnJ,OAC1B8O,EAAQ,MAGTlP,qBAAU,WAGT,OAFA+P,SAAS5B,MAAQ,0CACjB7O,IAAcW,MAAK,SAACC,GAAD,OAAS4P,EAAa5P,EAAI0J,UACtC,WACNkG,EAAa,OAEZ,IACH,IAQM+H,EAAiB,SAACwC,G7BJD,IAAC1S,K6BKd0S,E7BJVlc,EAAQ+a,IAAR,0BACoBvR,GACnB,GACA,CACCpJ,QAAS,CACRiB,cAAe,UAAYL,M6BDZc,MAAK,WACrBX,IAAcW,MAAK,SAACC,GAAD,OAAS4P,EAAa5P,EAAI0J,UAC7CoE,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,oBACNC,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAILyQ,EAAmB,SAACK,G7BPD,IAAC1S,K6BQd0S,E7BPZlc,EAAQ+a,IAAR,4BACsBvR,GACrB,GACA,CACCpJ,QAAS,CACRiB,cAAe,UAAYL,M6BEVc,MAAK,WACvBX,IAAcW,MAAK,SAACC,GAAD,OAAS4P,EAAa5P,EAAI0J,UAC7CoE,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,sBACNC,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAIL0Q,EAAmB,SAACI,G7BTD,IAAC1S,K6BUd0S,E7BTZlc,EAAQ+a,IAAR,4BACsBvR,GACrB,GACA,CACCpJ,QAAS,CACRiB,cAAe,UAAYL,M6BIVc,MAAK,WACvBX,IAAcW,MAAK,SAACC,GAAD,OAAS4P,EAAa5P,EAAI0J,UAC7CoE,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,sBACNC,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,aAIL2Q,EAAsB,SAACG,GAC5BzM,QAAQC,IAAIwM,GACZrM,KAAKC,KAAK,CACTE,MAAO,uEACPuC,KAAM,oGACNxC,KAAM,UACNyC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,UACnBC,kBAAmB,sBACnBC,iBAAkB,aAChB9Q,MAAK,SAAC+Q,G7BtBkB,IAACrJ,E6BuBvBqJ,EAAOC,c7BvBgBtJ,E6BwBZ0S,E7BvBjBlc,EAAQ+S,OAAR,+BAAuCvJ,GAAM,CAC5CpJ,QAAS,CACRiB,cAAe,UAAYL,M6BqBJc,MAAK,WAC1BX,IAAcW,MAAK,SAACC,GAAD,OAAS4P,EAAa5P,EAAI0J,UAC7CoE,KAAKC,KAAK,CACTtL,SAAU,SACVuL,KAAM,UACNC,MAAM,yBACNC,mBAAmB,EACnBC,MAAO,IACP9E,OAAQ,gBAOb,OACC,eAAC,KAAD,CACCxF,UAAU,OACVT,GAAI,CACHkB,gBAAiB,UACjBN,SAAU,EACVqD,OAAQ,QACR2D,SAAU,QANZ,UASC,cAAC7H,EAAA,EAAD,IACA,cAAC+N,GAAA,EAAD,CACC9N,GAAI,CACH+N,SAAU,IACV1O,SAAU,WACVyE,IAAK,OACLsC,GAAI,EACJ4H,GAAI,EACJ7J,UAAW,EACXjD,gBAAiB,WARnB,SAWC,eAAC+M,GAAA,EAAD,WACC,cAACzN,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAMT,GAAI,CAAEvC,MAAO,SAAtD,qDAGA,cAAC+C,EAAA,EAAD,CAAYR,GAAI,CAAEkO,SAAU,IAAMzQ,MAAM,QAAQ0Q,cAAY,EAA5D,0GAKF,cAACC,GAAA,EAAD,CAAWC,SAAS,MAAMrO,GAAI,CAAEsO,GAAI,GAApC,SACC,cAAC/J,GAAA,EAAD,CAAMC,WAAS,EAAC/E,QAAS,EAAzB,SACC,cAAC8E,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIE,GAAI,GAA/B,SACC,eAAC0C,GAAA,EAAD,CACCvH,GAAI,CACHoE,EAAG,EACHmK,GAAI,EACJC,GAAI,EACJjO,QAAS,OACTkO,cAAe,SACfxK,OAAQ,QAPV,UAUC,eAACsD,GAAA,EAAD,CACCvH,GAAI,CACH+P,GAAI,OACJzB,GAAI,OACJlK,EAAG,UACH7D,QAAS,OACTO,WAAY,SACZ7B,MAAO,OAPT,UAUC,cAACuI,GAAA,EAAD,CACCxH,GAAI,CAAEoG,GAAI,EAAGqB,KAAM,GACnBC,YAAY,2CACZC,WAAY,CAAE,aAAc,4CAC5B9B,SAAUuB,IAEX,cAACjH,EAAA,EAAD,CAAY+E,KAAK,SAASlF,GAAI,CAAEoE,EAAG,QAAU,aAAW,SAAxD,SACC,cAAC,KAAD,SAGF,cAACsK,GAAA,EAAD,CAAgB1O,GAAI,CAAE2O,UAAW,SAAjC,SACC,eAACC,GAAA,EAAD,CAAOC,cAAY,EAAC,aAAW,eAA/B,UACC,cAACC,GAAA,EAAD,UACC,eAACzF,GAAA,EAAD,WACC,cAACE,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,OACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,2CAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,uDAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,wCAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,oEAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,yDAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,uEAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,+FAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,uDAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,qDAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,uCAED,cAAC8L,GAAA,EAAD,CACC5H,MAAM,SACNpE,MAAO,CACNwQ,SAAU,QACV7M,gBAAiB,UACjBzD,MAAO,SALT,SAQC,8DAIH,cAACyR,GAAA,EAAD,oBACE3C,EACCzE,QAAO,SAACtL,GAAD,OAAUA,EAAKuL,SAASC,MAAMd,MACrCoI,MACA3D,EAAOE,EACPF,EAAOE,EAAcA,UALxB,aACE,EAME5D,KAAI,SAACzL,GACN,OACC,cAACga,GAAD,CACCha,KAAMA,EAENia,QAASA,EACTlC,eAAgBA,EAChBmC,iBAAkBA,EAClBC,iBAAkBA,EAClBC,oBAAqBA,GALhBpa,EAAK2L,eAYjB,cAACoH,GAAA,EAAD,CACCC,mBAAoB,CAAC,GAAI,GAAI,KAC7B/O,UAAU,MACVgP,MAAK,OAAElD,QAAF,IAAEA,OAAF,EAAEA,EAAW3C,OAClBiC,YAAaA,EACbF,KAAMA,EACN+D,aA5RkB,SAAClN,EAAOmN,GAChC/D,EAAQ+D,IA4RFC,oBAzRyB,SAACpN,GAChCsJ,GAAgBtJ,EAAMyD,OAAOnJ,OAC7B8O,EAAQ,kBC/CK,SAASoL,KACvBta,qBAAU,WACT+P,SAAS5B,MAAQ,cACf,IAsCH,OACC,sBAAKoM,UAAU,aAAa1Z,MAtCL,CACvB8B,SAAU,WACVyE,IAAK,EACLC,KAAM,EACN9E,MAAO,QACPgF,OAAQ,QACRiT,WAAY,UACZ3W,QAAS,OACTO,WAAY,SACZC,eAAgB,UA6BhB,UACC,qBAAKkW,UAAU,KAAK1Z,MA3BN,CACf2D,gBAAiB,UACjB7B,SAAU,WACVyE,IAAK,EACLC,KAAM,EACN9E,MAAO,QACPgF,OAAQ,QACRkT,eAAgB,QAChBC,aAAc,aAoBb,sBAAKH,UAAU,OAAO1Z,MAjBN,CACjB8Z,WAAY,yBACZnJ,SAAU,QACVjK,OAAQ,QACRxG,MAAO,QACPwB,MAAO,OACPsB,QAAS,OACT+W,mBAAoB,SACpBxW,WAAY,SACZqW,eAAgB,QAChBpW,eAAgB,SAChB0N,cAAe,SACfjQ,OAAQ,KAKP,gBAEC,mBAAGsT,KAAK,IAAIvU,MAAO,CAAE2Q,SAAU,QAA/B,2BC4BWqJ,OA9Df,WACC,MAAeva,qBAAWb,GAAnBK,EAAP,oBACMW,EAAa,SAACX,GACnB,IAAKA,EAAM,OAAO,KADoB,2BAAVgb,EAAU,iCAAVA,EAAU,kBAEtC,OAAOA,EAAMna,SAASb,EAAKY,MAAQZ,EAAO,MAS3C,OACC,eAAC,IAAD,WACC,cAAC,GAAD,CACCib,OAAK,EACLC,KAAK,IACL1V,KAAM7E,EAAWX,EAAM,UAAW,QAAS,UAAW,SACtDiE,UAAWsQ,KAEZ,cAAC,GAAD,CACC0G,OAAK,EACLC,KAAK,UACL1V,KAAM7E,EAAWX,EAAM,UAAW,QAAS,UAAW,SACtDiE,UAAWsR,KAEZ,cAAC,GAAD,CACC2F,KAAK,WACL1V,KAAM7E,EAAWX,EAAM,UAAW,QAAS,WAC3CiE,UAAWoP,KAEZ,cAAC,GAAD,CACC6H,KAAK,SACL1V,KAAM7E,EAAWX,EAAM,WACvBiE,UAAWiL,KAEZ,cAAC,GAAD,CACCgM,KAAK,SACL1V,KAAM7E,EAAWX,EAAM,UAAW,SAClCiE,UAAW,kBAAM,cAAC+U,GAAD,CAAgBZ,QAhCd,UAAdpY,EAAKY,UAkCX,cAAC,GAAD,CACCsa,KAAK,UACL1V,KAAM7E,EAAWX,EAAM,WACvBiE,UAAW8V,KAEZ,cAAC,GAAD,CACCmB,KAAK,cACL1V,KAAM7E,EAAWX,EAAM,WACvBiE,UAAWyS,KAEZ,cAAC,GAAD,CACCwE,KAAK,mBACL1V,KAAM7E,EAAWX,EAAM,QAAS,WAChCiE,UAAW,kBAAM,cAACqW,GAAD,CAAgBL,QA5Cd,UAAdja,EAAKY,UA8CX,cAAC,IAAD,CAAOsa,KAAK,IAAIC,OAAQ,kBAAM,cAACX,GAAD,WC1DlBY,OATf,WACC,OACC,eAAC,EAAD,WACC,cAACC,EAAA,EAAD,IACA,cAAC,GAAD,QCJHC,IAASH,OACR,cAAC,IAAMI,WAAP,UACC,cAAC,IAAD,UACC,cAAC,GAAD,QAGFtL,SAASuL,eAAe,W","file":"static/js/main.4b6441f7.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport queryString from 'query-string';\r\n// const BASE_URL_LOCAL = 'http://localhost:8000/api';\r\nconst PRODUCT_URL = 'https://api-mcs-manager.herokuapp.com/api';\r\nconst callApi = axios.create({\r\n\tbaseURL: PRODUCT_URL,\r\n\theaders: {\r\n\t\t'Content-type': 'application/json',\r\n\t},\r\n\tparamsSerializer: (params) => queryString.stringify(params),\r\n});\r\n\r\ncallApi.interceptors.response.use(\r\n\tfunction (response) {\r\n\t\tif (response && response.data) {\r\n\t\t\treturn response.data;\r\n\t\t}\r\n\t\treturn response;\r\n\t},\r\n\tfunction (error) {\r\n\t\treturn Promise.reject(error.response);\r\n\t},\r\n);\r\n\r\nexport default callApi;\r\n","import callApi from './callApi';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nexport const getInfo = () =>\r\n\tcallApi.get('/user/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updateInfo = (data) =>\r\n\tcallApi.patch('/user/update', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updatePassword = (data) =>\r\n\tcallApi.patch('/user/changePassword', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n//This route for admin and manager\r\nexport const getAllVisisters = () =>\r\n\tcallApi.get('/admin/visiters/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllAgents = () =>\r\n\tcallApi.get('/admin/agents/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllUsers = () =>\r\n\tcallApi.get('/admin/users/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const setAgent = (id) =>\r\n\tcallApi.put(\r\n\t\t`/admin/setAgent/${id}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\nexport const setManager = (id) =>\r\n\tcallApi.put(\r\n\t\t`/admin/setManager/${id}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const setVisiter = (id) =>\r\n\tcallApi.put(\r\n\t\t`/admin/setVisiter/${id}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const deleteAccount = (id) =>\r\n\tcallApi.delete(`/admin/deleteAccount/${id}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n","import { createContext, useEffect, useState } from 'react';\r\nimport { getInfo } from '../api/userApi';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = ({ children }) => {\r\n\tconst [user, setUser] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tgetInfo().then((res) => {\r\n\t\t\tsetUser(res.user);\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn <UserContext.Provider value={[user, setUser]}>{children}</UserContext.Provider>;\r\n};\r\n\r\nexport default UserContextProvider;\r\n","import ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport QrCodeIcon from '@mui/icons-material/QrCode';\r\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../../config/UserContext';\r\n\r\nfunction LeftList() {\r\n\tconst [user] = useContext(UserContext);\r\n\tconst location = useLocation();\r\n\tconst checkRoles = (...role) => {\r\n\t\treturn role.includes(user.role) ? true : false;\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/event\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Quản lý sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Manager', 'Agent') && (\r\n\t\t\t\t<NavLink to=\"/agent\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/agent'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<QrCodeIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"MCS Agent\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/report\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/report'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AnalyticsIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Báo cáo sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Visiter') && (\r\n\t\t\t\t<NavLink to=\"/list-event\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/list-event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<EventIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Danh sách sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Admin', 'Manager') && (\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tto=\"/visiter-manager\"\r\n\t\t\t\t\tstyle={{ textDecoration: 'none', color: '#000000DE' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/visiter-manager'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AdminPanelSettingsIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Quản lý người dùng\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default LeftList;\r\n","import { styled } from '@mui/material/styles';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport LeftList from './LeftList';\r\nimport { Divider, List, ListItemButton, ListItemIcon, ListItemText } from '@mui/material';\r\nimport MuiDrawer from '@mui/material/Drawer';\r\nimport MuiAppBar from '@mui/material/AppBar';\r\nimport { useContext, useState } from 'react';\r\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { UserContext } from '../../config/UserContext';\r\nconst drawerWidth = 240;\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n\tshouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n\tzIndex: theme.zIndex.drawer + 1,\r\n\ttransition: theme.transitions.create(['width', 'margin'], {\r\n\t\teasing: theme.transitions.easing.sharp,\r\n\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t}),\r\n\t...(open && {\r\n\t\tmarginLeft: drawerWidth,\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\r\n\t\ttransition: theme.transitions.create(['width', 'margin'], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t}),\r\n}));\r\n\r\nconst Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(\r\n\t({ theme, open }) => ({\r\n\t\t'& .MuiDrawer-paper': {\r\n\t\t\tposition: 'relative',\r\n\t\t\twhiteSpace: 'nowrap',\r\n\t\t\twidth: drawerWidth,\r\n\t\t\ttransition: theme.transitions.create('width', {\r\n\t\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t\t}),\r\n\t\t\tboxSizing: 'border-box',\r\n\t\t\t...(!open && {\r\n\t\t\t\toverflowX: 'hidden',\r\n\t\t\t\ttransition: theme.transitions.create('width', {\r\n\t\t\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\t\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t\t\t\t}),\r\n\t\t\t\twidth: theme.spacing(7),\r\n\t\t\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\t\t\twidth: theme.spacing(9),\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t},\r\n\t}),\r\n);\r\n\r\nfunction NavLeft() {\r\n\tconst [open, setOpen] = useState(true);\r\n\tconst toggleDrawer = () => {\r\n\t\tsetOpen(!open);\r\n\t};\r\n\r\n\tconst [user] = useContext(UserContext);\r\n\tconst logoutHandle = () => {\r\n\t\tlocalStorage.removeItem('token');\r\n\t\twindow.location = '/';\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppBar position=\"absolute\" open={open}>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tpr: '24px',\r\n\t\t\t\t\t\tminHeight: '64px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\t\t\tonClick={toggleDrawer}\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tmarginRight: '36px',\r\n\t\t\t\t\t\t\t...(open && { display: 'none' }),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\tsx={{ flexGrow: 1 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tXin chào, {user.fullName}!\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Drawer variant=\"permanent\" open={open}>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\tpx: [1],\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton onClick={toggleDrawer}>\r\n\t\t\t\t\t\t<ChevronLeftIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t\t<List sx={{ backgroundColor: 'rgb(25 118 210)' }}>\r\n\t\t\t\t\t<NavLink to=\"/account\" style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon sx={{ color: 'white' }} />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={'Thông tin ' + user.role}\r\n\t\t\t\t\t\t\t\tsx={{ fontWeight: 'bolder', color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<ListItemButton onClick={logoutHandle}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<LogoutIcon sx={{ color: 'white' }} />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary=\"Đăng xuất\"\r\n\t\t\t\t\t\t\tsx={{ fontWeight: 'bolder', color: 'white' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t</List>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<LeftList />\r\n\t\t\t\t</List>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default NavLeft;\r\n","import Box from '@mui/material/Box';\r\nimport NavLeft from '../components/Dashboard/NavLeft';\r\n\r\nexport default function Dashboard({ children }) {\r\n\treturn (\r\n\t\t<Box sx={{ display: 'flex' }}>\r\n\t\t\t<NavLeft />\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Typography } from '@mui/material';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" my={5}>\r\n\t\t\t{'Copyright © '}\r\n\t\t\t{'Dinh Chung Nam '}\r\n\t\t\t{new Date().getFullYear()}\r\n\t\t\t{'.'}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nimport DashBoard from '../pages/Dashboard';\r\nimport Footer from '../components/Footer';\r\n\r\nfunction PrivateRoute({ auth, component: Component, ...rest }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => {\r\n\t\t\t\treturn auth !== null ? (\r\n\t\t\t\t\t<DashBoard>\r\n\t\t\t\t\t\t<Component {...props}>\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</Component>\r\n\t\t\t\t\t</DashBoard>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import Footer from '../components/Footer';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction PublicRoute({ auth, component: Component, ...rest }) {\r\n\tconst pathRedirect = (role) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Manager':\r\n\t\t\t\treturn '/event';\r\n\t\t\tcase 'Agent':\r\n\t\t\t\treturn '/agent';\r\n\t\t\tcase 'Visiter':\r\n\t\t\t\treturn '/list-event';\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn '/visiter-manager';\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => {\r\n\t\t\t\treturn auth !== null ? (\r\n\t\t\t\t\t<Redirect to={pathRedirect(auth.role)} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PublicRoute;\r\n","import callApi from './callApi';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nexport const getOwnerEvent = () =>\r\n\tcallApi.get('/manager/event', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllEvents = () =>\r\n\tcallApi.get('/event', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const addNewEvent = (data) =>\r\n\tcallApi.post('/manager/event', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updateEvent = (id, data) =>\r\n\tcallApi.patch(`/manager/event/${id}`, data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const deleteEvent = (id) =>\r\n\tcallApi.delete(`/manager/event/${id}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getQRCode = (id, expire) =>\r\n\tcallApi.get(`/event/${id}/qrcode`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t\tparams: { expire },\r\n\t});\r\n\r\nexport const addVisiters = (id, data) =>\r\n\tcallApi.patch(\r\n\t\t`/manager/event/${id}/addVisiters`,\r\n\t\t{ listVisiter: data },\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const setAgent = (idEvent, idAgent) =>\r\n\tcallApi.put(\r\n\t\t`/manager/event/${idEvent}/setAgent/${idAgent}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const removeAgent = (idEvent, idAgent) =>\r\n\tcallApi.put(\r\n\t\t`/manager/event/${idEvent}/removeAgent/${idAgent}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const getReport = (id) =>\r\n\tcallApi.get(`/event/${id}/report`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const registerToEvent = (idEvent) =>\r\n\tcallApi.post(\r\n\t\t`/event/${idEvent}/registerToEvent`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const removeToEvent = (idEvent) =>\r\n\tcallApi.post(\r\n\t\t`/event/${idEvent}/removeToEvent`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n","import { Button, Grid, MenuItem, Modal, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useForm } from 'react-hook-form';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { useState } from 'react';\r\n\r\nexport default function ModalEditEvent({ event, isOpenEdit, handleCloseEdit, handleUpdateEvent }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [dateModal, setDateModal] = useState(event.dateEvent);\r\n\tconst [typeEvent, setTypeEvent] = useState(event.typeEvent);\r\n\tconst [dateOpenRegModal, setDateOpenRegModal] = useState(event.openReg);\r\n\tconst [dateEndRegModal, setDateEndRegModal] = useState(event.endReg);\r\n\tconst update = (data) => {\r\n\t\thandleCloseEdit();\r\n\t\thandleUpdateEvent(event, data);\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenEdit}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title-edit\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThay đổi sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(update)}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.name ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.name && 'Vui lòng nhập tên sự kiện'}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tên sự kiện*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\tdefaultValue={event.name}\r\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.location ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.location && 'Vui lòng nhập địa điểm tổ chức sự kiện'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa điểm tổ chức*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\tdefaultValue={event.location}\r\n\t\t\t\t\t\t\t\t{...register('location', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={enLocale}>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày*\"\r\n\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateModal}\r\n\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\tsetDateModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\tsetValue('dateEvent', newDate);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.typeEvent ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.typeEvent && 'Vui lòng chọn loại sự kiện'}\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel=\"Loại sự kiện*\"\r\n\t\t\t\t\t\t\t\tvalue={typeEvent}\r\n\t\t\t\t\t\t\t\t{...register('typeEvent', { required: true })}\r\n\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\tsetTypeEvent(event.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'public'}>Sự Kiện Công Khai</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'private'}>Sự Kiện Riêng</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'restricted'}>Sự Kiện Hạn Chế</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{typeEvent === 'restricted' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày mở đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateOpenRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateOpenRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('openReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày kết thúc đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateEndRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateEndRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('endReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"success\" type=\"submit\">\r\n\t\t\t\t\t\t\tThay đổi\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseEdit}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCheckbox,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tListItem,\r\n\tListItemButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { debounce } from 'throttle-debounce';\r\nexport default function ModalAddVisiter({\r\n\tevent,\r\n\tusers,\r\n\tisOpenAddVisiter,\r\n\thandleCloseAddVisiter,\r\n\thandleAddVisiter,\r\n}) {\r\n\tconst [checked, setChecked] = useState(\r\n\t\tevent.listVisitersCheckin.reduce((prevUser, curUser) => {\r\n\t\t\tprevUser.push(curUser.visiter);\r\n\t\t\treturn prevUser;\r\n\t\t}, []),\r\n\t);\r\n\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tconst handleToggle = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [...checked];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tnewChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\r\n\t\tsetChecked(newChecked);\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenAddVisiter}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Người Tham Dự\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper\r\n\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\tsx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: '100%' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\tconst labelId = `checkbox-list-label-${user._id}`;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={user._id} disablePadding>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\t\t\t\t\trole={undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleToggle(user._id)}\r\n\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={checked.indexOf(user._id) !== -1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={labelId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{user.username}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#0000FF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#2e7d32' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleCloseAddVisiter();\r\n\t\t\t\t\t\t\t\thandleAddVisiter(event, checked);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseAddVisiter}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport ModalEditEvent from './ModalEditEvent';\r\nimport { useState } from 'react';\r\nimport ModalAddVisiter from './ModalAddVisiter';\r\nexport default function RowEvent({\r\n\tevent,\r\n\tusers,\r\n\thandleDeleteEvent,\r\n\thandleUpdateEvent,\r\n\thandleAddVisiter,\r\n}) {\r\n\tconst [modalEditEvent, setModalEditEvent] = useState(false);\r\n\tconst [modalAddVisiter, setModalAddVisiter] = useState(false);\r\n\tconst handleOpenModalEditEvent = () => setModalEditEvent(true);\r\n\tconst handleCloseModalEditEvent = () => {\r\n\t\tsetModalEditEvent(false);\r\n\t};\r\n\tconst handleOpenModalAddVisiter = () => setModalAddVisiter(true);\r\n\tconst handleCloseModalAddVisiter = () => {\r\n\t\tsetModalAddVisiter(false);\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{new Date(event.dateEvent).getDate() +\r\n\t\t\t\t\t'/' +\r\n\t\t\t\t\t(new Date(event.dateEvent).getMonth() + 1) +\r\n\t\t\t\t\t'/' +\r\n\t\t\t\t\tnew Date(event.dateEvent).getFullYear()}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'private' && 'Sự kiện riêng'}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.openReg\r\n\t\t\t\t\t? new Date(event.openReg).getDate() +\r\n\t\t\t\t\t  '/' +\r\n\t\t\t\t\t  (new Date(event.openReg).getMonth() + 1) +\r\n\t\t\t\t\t  '/' +\r\n\t\t\t\t\t  new Date(event.openReg).getFullYear()\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.endReg\r\n\t\t\t\t\t? new Date(event.endReg).getDate() +\r\n\t\t\t\t\t  '/' +\r\n\t\t\t\t\t  (new Date(event.endReg).getMonth() + 1) +\r\n\t\t\t\t\t  '/' +\r\n\t\t\t\t\t  new Date(event.endReg).getFullYear()\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false).length\r\n\t\t\t\t\t: 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t{event.typeEvent !== 'public' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tonClick={handleOpenModalAddVisiter}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{modalAddVisiter && (\r\n\t\t\t\t\t\t\t<ModalAddVisiter\r\n\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\tisOpenAddVisiter={modalAddVisiter}\r\n\t\t\t\t\t\t\t\thandleCloseAddVisiter={handleCloseModalAddVisiter}\r\n\t\t\t\t\t\t\t\thandleAddVisiter={handleAddVisiter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={handleOpenModalEditEvent}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalEditEvent && (\r\n\t\t\t\t\t<ModalEditEvent\r\n\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\tisOpenEdit={modalEditEvent}\r\n\t\t\t\t\t\thandleCloseEdit={handleCloseModalEditEvent}\r\n\t\t\t\t\t\thandleUpdateEvent={handleUpdateEvent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleDeleteEvent(event);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteForeverIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tFormLabel,\r\n\tGrid,\r\n\tMenuItem,\r\n\tModal,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tTextField,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Swal from 'sweetalert2';\r\nimport { useForm } from 'react-hook-form';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { useState } from 'react';\r\nimport { addNewEvent } from '../../../../api/eventApi';\r\n\r\nexport default function ModalAddEvent({ isOpen, handleClose, addNewEventState }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm({ defaultValues: { repeatEvent: 0, dateEvent: new Date() } });\r\n\tconst [dateModal, setDateModal] = useState(Date.now());\r\n\tconst [repeatEvent, setRepeatEvent] = useState(0);\r\n\tconst [dateOpenRegModal, setDateOpenRegModal] = useState(Date.now());\r\n\tconst [dateEndRegModal, setDateEndRegModal] = useState(Date.now());\r\n\tconst [typeEvent, setTypeEvent] = useState('');\r\n\tconst handleAddNewEvent = (data) => {\r\n\t\tconsole.log(data);\r\n\t\taddNewEvent(data)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.event);\r\n\t\t\t\taddNewEventState(res.event);\r\n\t\t\t\thandleClose();\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Thêm thành công ${res.event.name || res.event.length} sự kiện mới`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\thandleClose();\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: 'Có lỗi xảy ra vui lòng thử lại',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpen}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100% - 200px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Sự Kiện Mới\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(handleAddNewEvent)}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.name ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.name && 'Vui lòng nhập tên sự kiện'}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tên sự kiện*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.location ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.location && 'Vui lòng nhập địa điểm tổ chức sự kiện'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa điểm tổ chức*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t{...register('location', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={enLocale}>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày tổ chức sự kiện*\"\r\n\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateModal}\r\n\t\t\t\t\t\t\t\t\tdefaultCalendarMonth\r\n\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\tsetDateModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\tsetValue('dateEvent', newDate);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.typeEvent ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.typeEvent && 'Vui lòng chọn loại sự kiện'}\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel=\"Loại sự kiện*\"\r\n\t\t\t\t\t\t\t\tvalue={typeEvent}\r\n\t\t\t\t\t\t\t\t{...register('typeEvent', { required: true })}\r\n\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\tsetTypeEvent(event.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'public'}>Sự Kiện Công Khai</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'private'}>Sự Kiện Riêng</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'restricted'}>Sự Kiện Hạn Chế</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t{typeEvent === 'restricted' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày mở đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateOpenRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateOpenRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('openReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày kết thúc đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateEndRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateEndRegModal(newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('endReg', newDate);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t<FormLabel component=\"legend\">Lặp lại: </FormLabel>\r\n\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\trow\r\n\t\t\t\t\t\t\t\t\taria-label=\"repeat-event\"\r\n\t\t\t\t\t\t\t\t\tname=\"controlled-radio-buttons-reapeat-event\"\r\n\t\t\t\t\t\t\t\t\tvalue={repeatEvent}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetRepeatEvent(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetValue('repeatEvent', e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue={1}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Hằng ngày\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue={7}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Hằng tuần\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue={30}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Hằng tháng\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value={0} control={<Radio />} label=\"None\" />\r\n\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"success\" type=\"submit\">\r\n\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { addVisiters, getOwnerEvent } from '../../../../api/eventApi';\r\nimport { deleteEvent, updateEvent } from '../../../../api/eventApi';\r\nimport { getAllVisisters } from '../../../../api/userApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport RowEvent from './RowEvent';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport ModalAddEvent from './ModalAddEvent';\r\nimport Swal from 'sweetalert2';\r\nfunction EventManagerComponent() {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tconst [modalAddEvent, setModalAddEvent] = useState(false);\r\n\tconst [listUsers, setListUsers] = useState([]);\r\n\tconst handleOpenModalAddEvent = () => setModalAddEvent(true);\r\n\tconst handleCloseModalAddEvent = () => setModalAddEvent(false);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý sự kiện';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\tgetAllVisisters().then((res) => setListUsers(res.users));\r\n\t\treturn () => {\r\n\t\t\tsetListUsers([]);\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst addNewEventState = (event) => {\r\n\t\tif (typeof event === typeof []) {\r\n\t\t\tsetEvents(events.concat(event));\r\n\t\t} else setEvents([...events, event]);\r\n\t};\r\n\tconst handleUpdateEvent = (eventUpdate, dataUpdate) => {\r\n\t\tupdateEvent(eventUpdate._id, dataUpdate)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((event) => event._id === eventUpdate._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thay đổi thành công sự kiện ${eventUpdate.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thay đổi sự kiện ${eventUpdate.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleDeleteEvent = (eventDelete) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Bạn có chắc muốn xóa sự kiện này ?',\r\n\t\t\ttext: 'Hành động này không thể quay lại, bạn có chắc không?',\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#1976d2',\r\n\t\t\tcancelButtonColor: '#d32f2f',\r\n\t\t\tconfirmButtonText: 'Đồng ý',\r\n\t\t\tcancelButtonText: 'Hủy',\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tdeleteEvent(eventDelete._id)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetEvents(events.filter((event) => event._id !== eventDelete._id));\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: `Đã xóa sự kiện ${eventDelete.name}`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi xóa sự kiện ${eventDelete.name}! Vui lòng thử lại`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleAddVisiter = (eventUpdate, listVisiter) => {\r\n\t\taddVisiters(eventUpdate._id, listVisiter)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((event) => event._id === eventUpdate._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thêm thành công ${listVisiter.length} người vào sự kiện ${eventUpdate.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thêm người tham dự sự kiện ${eventUpdate.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, thay đổi, thêm mới, xóa sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xxl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={1} align=\"left\" sx={{ p: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleOpenModalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tThêm sự kiện mới\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{modalAddEvent && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ModalAddEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpen={modalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose={handleCloseModalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddNewEventState={addNewEventState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mở đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kết thúc đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '260px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers={listUsers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteEvent={handleDeleteEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleUpdateEvent={handleUpdateEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddVisiter={handleAddVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default EventManagerComponent;\r\n","import { Box } from '@mui/system';\r\nimport { Button, Container, Grid, Paper, Toolbar } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useContext, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport { updateInfo, updatePassword } from '../../../api/userApi';\r\nimport { UserContext } from '../../../config/UserContext';\r\nimport Swal from 'sweetalert2';\r\nfunction AccountComponent() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetError,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [user, setUser] = useContext(UserContext);\r\n\tconst submitForm = (data) => {\r\n\t\tconst { currentPassword, newPassword, ...newInfo } = data;\r\n\t\tupdateInfo(newInfo).then((res) => {\r\n\t\t\tsetUser(res.user);\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'middle',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: 'Thay đổi thông tin thành công',\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst changePassword = (data) => {\r\n\t\tconst { currentPassword, newPassword } = data;\r\n\t\tupdatePassword({ currentPassword, newPassword })\r\n\t\t\t.then(() => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'middle',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: 'Thay đổi mật khẩu thành công. Vui lòng đăng nhập lại.',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location = '/';\r\n\t\t\t\t}, 2000);\r\n\t\t\t})\r\n\t\t\t.catch((err) => err.status === 401 && setError('currentPassword'));\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Thông tin tài khoản';\r\n\t}, []);\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\t\tml: 2,\r\n\t\t\t\t\t\tmr: 2,\r\n\t\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\t\tThông tin người dùng\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\t\tHoàn thiện hoặc thay đổi thông tin\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\tsx={{ mr: 10, ml: 10, mt: 2 }}\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(submitForm)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Họ và tên\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('fullName')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.fullName}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('phone')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.phone}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('address')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.address}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Đơn vị công tác\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('workUnit')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.workUnit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={8} md={8} lg={8}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ đơn vị công tác\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('addressUnit')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.addressUnit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={6} md={12} sm={12} lg={6}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mã số cán bộ\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('idCB')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.idCB}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={6} md={12} sm={12} lg={6}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mã số sinh viên\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('idSV')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.idSV}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.username}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tsx={{ mt: 6, mb: 2 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLưu thông tin\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\tsx={{ mr: 10, ml: 10, mt: 5 }}\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(changePassword)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={3} display=\"flex\" height=\"150px\">\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password hiện tại\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('currentPassword')}\r\n\t\t\t\t\t\t\t\t\t\t\terror={errors.currentPassword ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrors.currentPassword &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Password hiện tại không chính xác'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password mới\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('newPassword')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\">\r\n\t\t\t\t\t\t\t\t\t\t\tThay đổi password\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default AccountComponent;\r\n","export default __webpack_public_path__ + \"static/media/logoSmall.a4327cd4.png\";","import callApi from './callApi';\r\n\r\nexport const signIn = (data) => callApi.post('/auth/signin', data);\r\nexport const signUp = (data) => callApi.post('/auth/signup', data);\r\n","import { Button, Container, Grid, Link, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Logo from '../../assets/images/logoSmall.png';\r\nimport { useForm } from 'react-hook-form';\r\nimport { signIn } from '../../api/authApi';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction SignIn() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [err, setErr] = useState('');\r\n\r\n\tuseEffect(() => (document.title = 'Đăng nhập'), []);\r\n\tconst signInSubmit = async (data) => {\r\n\t\ttry {\r\n\t\t\tconst { username, password } = data;\r\n\t\t\tsetErr('');\r\n\t\t\tconst token = await signIn({username: username.trim(), password});\r\n\t\t\tif (token) {\r\n\t\t\t\tlocalStorage.setItem('token', token.token);\r\n\t\t\t\twindow.location = '/event';\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error) setErr('Tài khoản hoặc mật khẩu không đúng!');\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmarginTop: 8,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt={'Logo'}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: '100px',\r\n\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tmarginBottom: '30px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tĐăng nhập\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h6\" color=\"red\" my={2}>\r\n\t\t\t\t\t{err ? err : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(signInSubmit)}\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t{...register('username', { required: true })}\r\n\t\t\t\t\t\terror={errors.username ? true : false}\r\n\t\t\t\t\t\thelperText={errors.username && 'Username không được để trống'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t{...register('password', { required: true })}\r\n\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\thelperText={errors.password && 'Password không được để trống'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\r\n\t\t\t\t\t\tĐăng nhập\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Link href=\"/signup\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\t{'Bạn chưa có tài khoản? Đăng ký tại đây'}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default SignIn;\r\n","import { Button, Container, Grid, Link, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Logo from '../../assets/images/logoSmall.png';\r\nimport { useForm } from 'react-hook-form';\r\nimport { signUp } from '../../api/authApi';\r\nimport { useState, useEffect } from 'react';\r\nfunction SignUp() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetError,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [err, setErr] = useState('');\r\n\tuseEffect(() => (document.title = 'Đăng ký'), []);\r\n\r\n\tconst submitSignUp = async (data) => {\r\n\t\ttry {\r\n\t\t\tconst { confirmPassword, ...signUpData } = data;\r\n\t\t\tif (confirmPassword !== signUpData.password) setError('confirmPassword');\r\n\t\t\telse {\r\n\t\t\t\tconst token = await signUp(signUpData);\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\tlocalStorage.setItem('token', token.token);\r\n\t\t\t\t\twindow.location = '/event';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error.status === 400 && error.data.message.startsWith('Duplicate fields')) {\r\n\t\t\t\tlet errStr = error.data.message\r\n\t\t\t\t\t.split(',')[0]\r\n\t\t\t\t\t.replace('Duplicate fields: ', 'Đã có người sử dụng ');\r\n\t\t\t\terrStr += ' này!';\r\n\t\t\t\tsetErr(errStr);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmarginTop: 8,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt={'Logo'}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: '100px',\r\n\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tmarginBottom: '30px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tĐăng ký\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h6\" color=\"red\" my={2}>\r\n\t\t\t\t\t{err ? err : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tonSubmit={handleSubmit(submitSignUp)}\r\n\t\t\t\t\tsx={{ mt: 3 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t{...register('username', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 4,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 20,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.username ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.username &&\r\n\t\t\t\t\t\t\t\t\t'Username không được để trống và có ít nhất 4 ký tự'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t{...register('password', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 8,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 32,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.password &&\r\n\t\t\t\t\t\t\t\t\t'Password không được để trống và có ít nhất 8 ký tự'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\tlabel=\"Nhập lại password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t{...register('confirmPassword', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 8,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 32,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.confirmPassword ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.confirmPassword &&\r\n\t\t\t\t\t\t\t\t\t'Password không chính xác vui lòng nhập lại'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa chỉ email\"\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t{...register('email', { required: true })}\r\n\t\t\t\t\t\t\t\terror={errors.email ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.email && 'Email không được để trống'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"fullName\"\r\n\t\t\t\t\t\t\t\tlabel=\"Họ và tên\"\r\n\t\t\t\t\t\t\t\tname=\"fullName\"\r\n\t\t\t\t\t\t\t\t{...register('fullName', { required: true })}\r\n\t\t\t\t\t\t\t\terror={errors.fullName ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.fullName && 'Họ và tên không được để trống'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"phone\"\r\n\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\r\n\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t{...register('phone')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"address\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa Chỉ\"\r\n\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t{...register('address')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"workUnit\"\r\n\t\t\t\t\t\t\t\tlabel=\"Đơn vị công tác\"\r\n\t\t\t\t\t\t\t\tname=\"workUnit\"\r\n\t\t\t\t\t\t\t\t{...register('workUnit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"addressUnit\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa chỉ đơn vị công tác\"\r\n\t\t\t\t\t\t\t\tname=\"addressUnit\"\r\n\t\t\t\t\t\t\t\t{...register('addressUnit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"idCB\"\r\n\t\t\t\t\t\t\t\tname=\"idCB\"\r\n\t\t\t\t\t\t\t\tlabel=\"Mã số cán bộ\"\r\n\t\t\t\t\t\t\t\t{...register('idCB')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\txs={2}\r\n\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant=\"body2\">Hoặc</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"idSV\"\r\n\t\t\t\t\t\t\t\tname=\"idSV\"\r\n\t\t\t\t\t\t\t\tlabel=\"Mã số sinh viên\"\r\n\t\t\t\t\t\t\t\t{...register('idSV')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\r\n\t\t\t\t\t\tĐăng ký\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Link href=\"/\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\tBạn đã có tài khoản? Đăng nhập tại đây.\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Container>\r\n\t);\r\n}\r\nexport default SignUp;\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport EventBusyIcon from '@mui/icons-material/EventBusy';\r\nimport EventAvailableIcon from '@mui/icons-material/EventAvailable';\r\nimport { format } from 'date-fns';\r\nexport default function RowListEvent({ event, user, handleRegisterToEvent, handleRemoveToEvent }) {\r\n\tconst checkReg = () => {\r\n\t\tlet findUser = event.listVisitersCheckin.find((el) => el.visiter === user._id);\r\n\t\tif (findUser && findUser.isCheckin !== true) return true;\r\n\t\treturn false;\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{format(new Date(event.dateEvent), 'dd/MM/yyyy')}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.openReg ? format(new Date(event.openReg), 'dd/MM/yyyy') : ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.endReg ? format(new Date(event.endReg), 'dd/MM/yyyy') : ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.listVisitersCheckin.filter((el) => el.isCheckin === false).length || 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'restricted' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{!checkReg() && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleRegisterToEvent(event)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EventAvailableIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{checkReg() && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleRemoveToEvent(event)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EventBusyIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { getAllEvents } from '../../../../api/eventApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport Swal from 'sweetalert2';\r\nimport RowListEvent from './RowListEvent';\r\nimport { UserContext } from '../../../../config/UserContext';\r\nimport { registerToEvent, removeToEvent } from '../../../../api/eventApi';\r\nexport default function ListEvent({ children }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tconst [user] = useContext(UserContext);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Các sự kiện hiện có';\r\n\t\tgetAllEvents().then((res) => setEvents(res.event));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst handleRegisterToEvent = (event) => {\r\n\t\tregisterToEvent(event._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((el) => el._id === event._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleRemoveToEvent = (event) => {\r\n\t\tremoveToEvent(event._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((el) => el._id === event._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã hủy đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi hủy đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tDanh sách sự kiện hiện có\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTham gia sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mở đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kết thúc đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đăng ký tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowListEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRegisterToEvent={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRegisterToEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveToEvent={handleRemoveToEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, Modal, Paper, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { format } from 'date-fns';\r\n\r\nexport default function ModalQRCode({\r\n\tmodalQRCode,\r\n\thandleCloseModalQRCode,\r\n\tqrCode,\r\n\tqrCodeExpire,\r\n\tevent,\r\n\tgetQRCodeFN,\r\n}) {\r\n\tconst [timeLeft, setTimeLeft] = useState(qrCodeExpire - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst countDown = setInterval(() => {\r\n\t\t\tsetTimeLeft(timeLeft - 1000);\r\n\t\t}, 1000);\r\n\t\treturn () => clearInterval(countDown);\r\n\t}, [timeLeft]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst timeOut = setInterval(() => {\r\n\t\t\tgetQRCodeFN();\r\n\t\t\thandleCloseModalQRCode();\r\n\t\t}, qrCodeExpire - Date.now());\r\n\t\treturn () => clearInterval(timeOut);\r\n\t}, [handleCloseModalQRCode, qrCodeExpire, getQRCodeFN]);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalQRCode}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t\tp: 2,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\theight=\"82%\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box component=\"img\" src={qrCode} alt=\"QR Code\" height=\"100%\" />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\televation={4}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\tp: 2,\r\n\t\t\t\t\t\tmt: 1,\r\n\t\t\t\t\t\tml: 10,\r\n\t\t\t\t\t\tmr: 10,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Tên sự kiện: </b>\r\n\t\t\t\t\t\t\t{event.name}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Địa điểm: </b>\r\n\t\t\t\t\t\t\t{event.location}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Thời gian: </b>\r\n\t\t\t\t\t\t\t{format(new Date(event.dateEvent), 'dd/MM/yyyy')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'black' }}>Hết hạn trong:</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h4\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t{Math.floor(timeLeft / 60000)}:\r\n\t\t\t\t\t\t\t\t{(((timeLeft % 60000) / 1000).toFixed(0) < 10 ? '0' : '') +\r\n\t\t\t\t\t\t\t\t\t((timeLeft % 60000) / 1000).toFixed(0)}\r\n\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t\t\t\tonClick={handleCloseModalQRCode}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tKẾT THÚC CHECK-IN\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { debounce } from 'throttle-debounce';\r\nexport default function ModalSetAgent({\r\n\tevent,\r\n\tusers,\r\n\tisOpenSetAgent,\r\n\thandleCloseSetAgent,\r\n\thandleSetAgent,\r\n\thandleRemoveAgent,\r\n}) {\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenSetAgent}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Agent cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper\r\n\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\tsx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: '100%' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\t\t\t\tsecondaryAction={\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!event.owner.includes(user._id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent(event._id, user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.owner.includes(user._id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAgent(event._id, user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{user.username}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#0000FF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#2e7d32' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseSetAgent}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow, TextField } from '@mui/material';\r\nimport { format } from 'date-fns';\r\nimport { useState } from 'react';\r\nimport { getQRCode } from '../../../../api/eventApi';\r\nimport ModalQRCode from './ModalQRCode';\r\nimport Swal from 'sweetalert2';\r\nimport ModalSetAgent from './ModalSetAgent';\r\nexport default function RowAgent({ event, users, handleSetAgent, handleRemoveAgent, isAgent }) {\r\n\tconst [modalQRCode, setModalQRCode] = useState(false);\r\n\tconst [modalSetAgent, setModalSetAgent] = useState(false);\r\n\tconst [qrCode, setQrCode] = useState('');\r\n\tconst [qrCodeExpire, setQrCodeExpire] = useState(0);\r\n\tconst [expire, setExpire] = useState(10);\r\n\tconst handleOpenModalQRCode = () => {\r\n\t\tgetQRCodeFN();\r\n\t};\r\n\tconst handleCloseModalQRCode = () => {\r\n\t\tsetModalQRCode(false);\r\n\t};\r\n\tconst getQRCodeFN = () => {\r\n\t\tgetQRCode(event._id, expire)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetQrCode(res.message.qrcode);\r\n\t\t\t\tsetQrCodeExpire(res.message.expireIn * 1);\r\n\t\t\t\tsetModalQRCode(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetModalQRCode(false);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Sự kiện ${event.name} chưa bắt đầu!`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleOpenModalSetAgent = () => {\r\n\t\tsetModalSetAgent(true);\r\n\t};\r\n\tconst handleCloseModalSetAgent = () => {\r\n\t\tsetModalSetAgent(false);\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{format(new Date(event.dateEvent), 'dd/MM/yyyy')}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tsx={{ width: '100px' }}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tvalue={expire}\r\n\t\t\t\t\tonChange={(e) => setExpire(e.target.value * 1)}\r\n\t\t\t\t/>\r\n\t\t\t\t<i>Minute(s)</i>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{!isAgent && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tonClick={handleOpenModalSetAgent}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSET AGENT\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{modalSetAgent && (\r\n\t\t\t\t\t\t\t<ModalSetAgent\r\n\t\t\t\t\t\t\t\tisOpenSetAgent={modalSetAgent}\r\n\t\t\t\t\t\t\t\thandleCloseSetAgent={handleCloseModalSetAgent}\r\n\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\thandleRemoveAgent={handleRemoveAgent}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalQRCode}\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\tnew Date(event.dateEvent).setHours(0, 0, 0, 0) >\r\n\t\t\t\t\t\tnew Date().setHours(0, 0, 0, 0)\r\n\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\tBẮT ĐẦU CHECK-IN\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalQRCode && (\r\n\t\t\t\t\t<ModalQRCode\r\n\t\t\t\t\t\tmodalQRCode={modalQRCode}\r\n\t\t\t\t\t\thandleCloseModalQRCode={handleCloseModalQRCode}\r\n\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\tqrCode={qrCode}\r\n\t\t\t\t\t\tqrCodeExpire={qrCodeExpire}\r\n\t\t\t\t\t\tgetQRCodeFN={getQRCodeFN}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n\tTableContainer,\r\n\tTable,\r\n\tTableHead,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTablePagination,\r\n\tTableBody,\r\n\tTextField,\r\n} from '@mui/material';\r\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOwnerEvent } from '../../../../api/eventApi';\r\nimport RowAgent from './RowAgent';\r\nimport { getAllAgents } from '../../../../api/userApi';\r\nimport { setAgent, removeAgent } from '../../../../api/eventApi';\r\nexport default function AgentComponent({ isAgent }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [listAgents, setListAgents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Agent';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\tif (!isAgent) {\r\n\t\t\tgetAllAgents().then((res) => setListAgents(res.users));\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetListAgents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, [isAgent]);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleSetAgent = (idEvent, idAgent) => {\r\n\t\tsetAgent(idEvent, idAgent).then((res) => {\r\n\t\t\tlet eventsCopy = [...events];\r\n\t\t\tconst index = events.findIndex((event) => event._id === idEvent);\r\n\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\tsetEvents(eventsCopy);\r\n\t\t});\r\n\t};\r\n\tconst handleRemoveAgent = (idEvent, idAgent) => {\r\n\t\tremoveAgent(idEvent, idAgent).then((res) => {\r\n\t\t\tlet eventsCopy = [...events];\r\n\t\t\tconst index = events.findIndex((event) => event._id === idEvent);\r\n\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\tsetEvents(eventsCopy);\r\n\t\t});\r\n\t};\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tAgent\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tPhát QR Code cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh'}}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đặt thời gian hết hạn</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '420px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowAgent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers={listAgents}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAgent={handleRemoveAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisAgent={isAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, Modal, Paper, Typography, Grid } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nexport default function ModalReport({ report, modalReport, handleCloseModalReport }) {\r\n\tconsole.log(report);\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalReport}\r\n\t\t\tonClose={handleCloseModalReport}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: '80%',\r\n\t\t\t\t\theight: '90%',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* Báo cáo sự kiện: {report.name} */}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t<div>xs=8</div>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t<div>xs=4</div>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport { format } from 'date-fns';\r\nimport { useEffect, useState } from 'react';\r\nimport { getReport } from '../../../../api/eventApi';\r\nimport ModalReport from './ModalReport';\r\nexport default function RowReport({ event, user }) {\r\n\tconst [modalReport, setModalReport] = useState(false);\r\n\tconst [report, setReport] = useState(null);\r\n\tconst handleOpenModalReport = () => {\r\n\t\tsetModalReport(true);\r\n\t};\r\n\tconst handleCloseModalReport = () => {\r\n\t\tsetModalReport(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetReport(event._id).then((res) => setReport(res.result));\r\n\t}, [event._id]);\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{format(new Date(event.dateEvent), 'dd/MM/yyyy')}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<b style={{ color: 'red', fontSize: '18px' }}>\r\n\t\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false).length\r\n\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t</b>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<b style={{ color: 'red', fontSize: '18px' }}>\r\n\t\t\t\t\t{event.listVisitersCheckin.filter((el) => el.isCheckin === true).length}\r\n\t\t\t\t</b>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalReport}\r\n\t\t\t\t>\r\n\t\t\t\t\tGET REPORT\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalReport && (\r\n\t\t\t\t\t<ModalReport\r\n\t\t\t\t\t\treport={report}\r\n\t\t\t\t\t\tmodalReport={modalReport}\r\n\t\t\t\t\t\thandleCloseModalReport={handleCloseModalReport}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n\tTableContainer,\r\n\tTable,\r\n\tTableHead,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTablePagination,\r\n\tTableBody,\r\n\tTextField,\r\n} from '@mui/material';\r\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOwnerEvent } from '../../../../api/eventApi';\r\nimport RowReport from './RowReport';\r\nexport default function ReportComponent() {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Report';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tAgent\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tPhát QR Code cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh', marginTop: 5 }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng đăng ký tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng đã check-in</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <RowReport event={event} key={event._id} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\n\r\nexport default function RowVisiter({\r\n\tuser,\r\n\tisAdmin,\r\n\thandleSetAgent,\r\n\thandleSetManager,\r\n\thandleSetVisiter,\r\n\thandleDeleteAccount,\r\n}) {\r\n\tconst checkDisabled = () => {\r\n\t\treturn user.role === 'Manager' && !isAdmin;\r\n\t};\r\n\tconsole.log(user._id);\r\n\treturn (\r\n\t\t<TableRow hover tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{user.username}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.fullName}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.email}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.phone}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.address}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.workUnit}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.addressUnit}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{user.idCB || 'X'}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{user.idSV || 'X'}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{user.role}</TableCell>\r\n\t\t\t<TableCell\r\n\t\t\t\talign=\"center\"\r\n\t\t\t\tsx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\r\n\t\t\t>\r\n\t\t\t\t{user.role !== 'Admin' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={checkDisabled() || user.role === 'Agent'}\r\n\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleSetAgent(user._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAGENT\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\t\tdisabled={!isAdmin || user.role === 'Manager'}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleSetManager(user._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tMANAGER\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={checkDisabled() || user.role === 'Visiter'}\r\n\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleSetVisiter(user._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVISITER\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={!isAdmin}\r\n\t\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleDeleteAccount(user._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDELETE\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button disabled fullWidth variant=\"contained\" >\r\n\t\t\t\t\t\tADMIN\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tIconButton,\r\n\tInputBase,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getAllUsers } from '../../../../api/userApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport RowVisiter from './RowVisiter';\r\nimport Swal from 'sweetalert2';\r\nimport { debounce } from 'throttle-debounce';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { setAgent, setManager, setVisiter, deleteAccount } from '../../../../api/userApi';\r\nexport default function VisiterManager({ isAdmin }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [listUsers, setListUsers] = useState([]);\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => {\r\n\t\tsetSearchFillter(e.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý người dùng';\r\n\t\tgetAllUsers().then((res) => setListUsers(res.users));\r\n\t\treturn () => {\r\n\t\t\tsetListUsers([]);\r\n\t\t};\r\n\t}, []);\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\tconst handleSetAgent = (idUser) => {\r\n\t\tsetAgent(idUser).then(() => {\r\n\t\t\tgetAllUsers().then((res) => setListUsers(res.users));\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'center',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: `Set agent success`,\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t\ttarget: 'body',\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\tconst handleSetManager = (idUser) => {\r\n\t\tsetManager(idUser).then(() => {\r\n\t\t\tgetAllUsers().then((res) => setListUsers(res.users));\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'center',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: `Set manager success`,\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t\ttarget: 'body',\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\tconst handleSetVisiter = (idUser) => {\r\n\t\tsetVisiter(idUser).then(() => {\r\n\t\t\tgetAllUsers().then((res) => setListUsers(res.users));\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'center',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: `Set visiter success`,\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t\ttarget: 'body',\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\tconst handleDeleteAccount = (idUser) => {\r\n\t\tconsole.log(idUser);\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Bạn có chắc muốn xóa tài khoản này ?',\r\n\t\t\ttext: 'Hành động này không thể quay lại, bạn có chắc không?',\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#1976d2',\r\n\t\t\tcancelButtonColor: '#d32f2f',\r\n\t\t\tconfirmButtonText: 'Đồng ý',\r\n\t\t\tcancelButtonText: 'Hủy',\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tdeleteAccount(idUser).then(() => {\r\n\t\t\t\t\tgetAllUsers().then((res) => setListUsers(res.users));\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: `Delete Account success`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý người dùng\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, cấp quyền, xóa tài khoản người dùng\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xxl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tmt: '30px',\r\n\t\t\t\t\t\t\t\t\tmb: '30px',\r\n\t\t\t\t\t\t\t\t\tp: '2px 4px',\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Username</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Họ và tên</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Email</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '130px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số điện thoại</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa chỉ</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đơn vị công tác</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa chỉ đơn vị công tác </b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '110px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mã cán bộ</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '120px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mã sinh viên</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '120px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>ROLE</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '400px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{listUsers\r\n\t\t\t\t\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((user) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowVisiter\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisAdmin={isAdmin}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetManager={handleSetManager}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetVisiter={handleSetVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteAccount={handleDeleteAccount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={listUsers?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nexport default function NotFoundPage() {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Not Found';\r\n\t}, []);\r\n\tconst styleFourOhFour = {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: '100vw',\r\n\t\theight: '100vh',\r\n\t\tbackground: '#121212',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t};\r\n\r\n\tconst styleBg = {\r\n\t\tbackgroundColor: '#0000ff',\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: '100vw',\r\n\t\theight: '100vh',\r\n\t\tbackgroundSize: 'cover',\r\n\t\tmixBlendMode: 'overlay',\r\n\t};\r\n\r\n\tconst styleCode = {\r\n\t\tfontFamily: 'Alfa Slab One, cursive',\r\n\t\tfontSize: '144px',\r\n\t\theight: '100vh',\r\n\t\tcolor: 'white',\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tbackgorundPosition: 'center',\r\n\t\talignItems: 'center',\r\n\t\tbackgroundSize: 'cover',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexDirection: 'column',\r\n\t\tzIndex: '1',\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"FourOhFour\" style={styleFourOhFour}>\r\n\t\t\t<div className=\"bg\" style={styleBg}></div>\r\n\t\t\t<div className=\"code\" style={styleCode}>\r\n\t\t\t\t404\r\n\t\t\t\t<a href=\"/\" style={{ fontSize: '50px' }}>\r\n\t\t\t\t\tGO HOME\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { Route, Switch } from 'react-router';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicRoute from './PublicRoute';\r\nimport EventManagerComponent from '../components/Dashboard/MainContent/EventManager/EventManager';\r\nimport AccountComponent from '../components/Dashboard/MainContent/Account';\r\nimport SignIn from '../pages/Auth/SignIn';\r\nimport SignUp from '../pages/Auth/SignUp';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../config/UserContext';\r\nimport ListEvent from '../components/Dashboard/MainContent/ListEvent/ListEvent';\r\nimport AgentComponent from '../components/Dashboard/MainContent/Agent/Agent';\r\nimport ReportComponent from '../components/Dashboard/MainContent/Report/Report';\r\nimport VisiterManager from '../components/Dashboard/MainContent/VisiterManager/VisiterManager';\r\nimport NotFoundPage from '../pages/NotFoundPage';\r\nfunction AppRoute() {\r\n\tconst [user] = useContext(UserContext);\r\n\tconst checkRoles = (user, ...roles) => {\r\n\t\tif (!user) return null;\r\n\t\treturn roles.includes(user.role) ? user : null;\r\n\t};\r\n\r\n\tconst isAgent = () => {\r\n\t\treturn user.role === 'Agent';\r\n\t};\r\n\tconst isAdmin = () => {\r\n\t\treturn user.role === 'Admin';\r\n\t};\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PublicRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter', 'Admin')}\r\n\t\t\t\tcomponent={SignIn}\r\n\t\t\t/>\r\n\t\t\t<PublicRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/signup\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter', 'Admin')}\r\n\t\t\t\tcomponent={SignUp}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/account\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter')}\r\n\t\t\t\tcomponent={AccountComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/event\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={EventManagerComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/agent\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent')}\r\n\t\t\t\tcomponent={() => <AgentComponent isAgent={isAgent()} />}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/report\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={ReportComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/list-event\"\r\n\t\t\t\tauth={checkRoles(user, 'Visiter')}\r\n\t\t\t\tcomponent={ListEvent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/visiter-manager\"\r\n\t\t\t\tauth={checkRoles(user, 'Admin', 'Manager')}\r\n\t\t\t\tcomponent={() => <VisiterManager isAdmin={isAdmin()} />}\r\n\t\t\t/>\r\n\t\t\t<Route path=\"*\" render={() => <NotFoundPage />} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nexport default AppRoute;\r\n","import { CssBaseline } from '@mui/material';\r\nimport UserContextProvider from './config/UserContext';\r\nimport AppRoute from './router/AppRoute';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<UserContextProvider>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<AppRoute />\r\n\t\t</UserContextProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport { BrowserRouter as Router } from 'react-router-dom';\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}