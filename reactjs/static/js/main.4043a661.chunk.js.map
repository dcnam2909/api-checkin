{"version":3,"sources":["api/callApi.js","api/userApi.js","config/UserContext.jsx","components/Dashboard/LeftList.jsx","components/Dashboard/NavLeft.jsx","pages/Dashboard.jsx","components/Footer.jsx","router/PrivateRoute.jsx","router/PublicRoute.jsx","api/eventApi.js","components/Dashboard/MainContent/EventManager/ModalEditEvent.jsx","components/Dashboard/MainContent/EventManager/ModalAddVisiter.jsx","components/Dashboard/MainContent/EventManager/RowEvent.jsx","components/Dashboard/MainContent/EventManager/ModalAddEvent.jsx","components/Dashboard/MainContent/EventManager/EventManager.jsx","components/Dashboard/MainContent/Account.jsx","assets/images/logoSmall.png","api/authApi.js","pages/Auth/SignIn.jsx","pages/Auth/SignUp.jsx","components/Dashboard/MainContent/ListEvent/RowListEvent.jsx","components/Dashboard/MainContent/ListEvent/ListEvent.jsx","components/Dashboard/MainContent/Agent/ModalQRCode.jsx","components/Dashboard/MainContent/Agent/ModalSetAgent.jsx","components/Dashboard/MainContent/Agent/RowAgent.jsx","components/Dashboard/MainContent/Agent/Agent.jsx","components/Dashboard/MainContent/Report/ModalReport.jsx","components/Dashboard/MainContent/Report/RowReport.jsx","components/Dashboard/MainContent/Report/Report.jsx","components/Dashboard/MainContent/VisiterManager/RowVisiter.jsx","components/Dashboard/MainContent/VisiterManager/VisiterManager.jsx","pages/NotFoundPage.jsx","components/Dashboard/MainContent/GroupVisiter/ModalAddToGroup.jsx","components/Dashboard/MainContent/GroupVisiter/RowGroup.jsx","components/Dashboard/MainContent/GroupVisiter/GroupVisiter.jsx","components/Dashboard/MainContent/ListEventReg/RowListEventReg.jsx","components/Dashboard/MainContent/ListEventReg/ListEventReg.jsx","components/Dashboard/MainContent/EventAdmin/RowEvent.jsx","components/Dashboard/MainContent/EventAdmin/EventAdmin.jsx","router/AppRoute.jsx","App.js","index.js"],"names":["callApi","axios","create","baseURL","headers","paramsSerializer","params","queryString","stringify","interceptors","response","use","data","error","Promise","reject","token","localStorage","getItem","getAllVisisters","get","Authorization","getAllUsers","getGroup","UserContext","createContext","UserContextProvider","children","useState","user","setUser","useEffect","then","res","Provider","value","LeftList","useContext","location","useLocation","checkRoles","role","includes","to","style","textDecoration","color","ListItem","button","selected","pathname","ListItemIcon","ListItemText","primary","AppBar","styled","MuiAppBar","shouldForwardProp","prop","theme","open","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","marginLeft","width","enteringScreen","Drawer","MuiDrawer","position","whiteSpace","boxSizing","overflowX","spacing","breakpoints","up","NavLeft","setOpen","toggleDrawer","Toolbar","sx","pr","minHeight","IconButton","edge","onClick","marginRight","display","Typography","component","variant","noWrap","flexGrow","fullName","alignItems","justifyContent","px","List","backgroundColor","ListItemButton","fontWeight","removeItem","window","Divider","Dashboard","Box","Footer","align","my","Date","getFullYear","PrivateRoute","auth","Component","rest","props","PublicRoute","pathRedirect","getOwnerEvent","addVisiters","id","patch","listVisiter","getAllEventAdmin","ModalEditEvent","event","isOpenEdit","handleCloseEdit","handleUpdateEvent","useForm","register","handleSubmit","setValue","errors","formState","dateEvent","dateModal","setDateModal","typeEvent","setTypeEvent","openReg","dateOpenRegModal","setDateOpenRegModal","endReg","dateEndRegModal","setDateEndRegModal","Modal","top","left","transform","height","bgcolor","boxShadow","p","onSubmit","Grid","container","item","xs","md","sm","lg","TextField","fullWidth","name","helperText","type","label","defaultValue","required","LocalizationProvider","dateAdapter","AdapterDateFns","locale","enLocale","DateTimePicker","mask","onChange","newDate","setSeconds","renderInput","select","target","MenuItem","Button","ml","ModalAddVisiter","users","groupVisiter","isOpenAddVisiter","handleCloseAddVisiter","handleAddVisiter","handleAddByGroup","handleAddByFile","listVisitersCheckin","reduce","prevUser","curUser","push","visiter","_id","checked","setChecked","checkedGroup","setCheckedGroup","tabChange","setTabChange","searchFillter","setSearchFillter","searchFillterGroup","setSearchFillterGroup","file","setFile","handleFillterDebounce","debounce","e","handleFillterGroupDebounce","TabContext","TabList","newValue","centered","Tab","TabPanel","Paper","InputBase","flex","placeholder","inputProps","overflow","marginTop","filter","username","match","map","labelId","disablePadding","undefined","currentIndex","indexOf","newChecked","splice","dense","Checkbox","tabIndex","disableRipple","email","mb","htmlFor","hidden","accept","files","Fab","size","group","groupName","trim","toLowerCase","Radio","length","RowEvent","handleDeleteEvent","modalEditEvent","setModalEditEvent","modalAddVisiter","setModalAddVisiter","TableRow","hover","TableCell","toLocaleTimeString","split","toLocaleDateString","el","isCheckin","ModalAddEvent","isOpen","handleClose","addNewEventState","defaultValues","repeatEvent","now","setRepeatEvent","post","addNewEvent","Swal","fire","icon","title","showConfirmButton","timer","catch","err","defaultCalendarMonth","FormControl","FormLabel","RadioGroup","row","FormControlLabel","control","EventManagerComponent","page","setPage","rowsPerPage","setRowsPerPage","date","setDate","events","setEvents","eventsFilter","setEventsFilter","modalAddEvent","setModalAddEvent","listUsers","setListUsers","setGroupVisiter","document","groups","toDateString","eventUpdate","dataUpdate","eventDelete","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","idEvent","idGroup","addByGroup","formData","FormData","append","Card","minWidth","mr","CardContent","fontSize","gutterBottom","Container","maxWidth","pt","pb","flexDirection","TableContainer","maxHeight","Table","stickyHeader","TableHead","colSpan","concat","DatePicker","TableBody","sort","eventA","eventB","slice","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","AccountComponent","setError","mt","currentPassword","newPassword","updateInfo","phone","address","workUnit","addressUnit","idCB","idSV","disabled","updatePassword","setTimeout","status","signIn","signUp","SignIn","setErr","signInSubmit","a","password","setItem","src","Logo","alt","borderRadius","marginBottom","noValidate","margin","Link","href","SignUp","submitSignUp","confirmPassword","signUpData","message","startsWith","errStr","replace","minLength","maxLength","textAlign","RowListEvent","handleRegisterToEvent","handleRemoveToEvent","checkReg","findUser","find","console","log","getTime","ListEvent","eventsCopy","index","findIndex","Object","assign","ModalQRCode","modalQRCode","handleCloseModalQRCode","qrCode","qrCodeExpire","getQRCodeFN","timeLeft","setTimeLeft","countDown","setInterval","clearInterval","timeOut","elevation","format","Math","floor","toFixed","ModalSetAgent","isOpenSetAgent","handleCloseSetAgent","handleSetAgent","handleRemoveAgent","secondaryAction","owner","RowAgent","isAgent","setModalQRCode","modalSetAgent","setModalSetAgent","setQrCode","setQrCodeExpire","expire","setExpire","getQRCode","qrcode","expireIn","preventDefault","AgentComponent","listAgents","setListAgents","idAgent","put","setAgent","removeAgent","ModalReport","report","modalReport","handleCloseModalReport","handleGetReportFile","onClose","pl","border","listCheckin","timeCheckin","getDate","getMonth","imei","RowReport","setModalReport","setReport","responseType","blob","Blob","saveAs","ReportComponent","RowVisiter","isAdmin","handleSetManager","handleSetVisiter","checkDisabled","VisiterManager","idUser","NotFoundPage","className","background","backgroundSize","mixBlendMode","fontFamily","backgorundPosition","ModalAddToGroup","visiters","modalAddToGroup","handleCloseAddToGroup","handleAddToGroup","handleAddToGroupByFile","RowGroup","handleDeleteGroup","setModalAddToGroup","setVisiters","GroupVisiter","setGroups","newGroup","setNewGroup","handleNewGroup","deleteGroup","newGroups","RowListEventReg","ListEventReg","handleDeleteEventAdmin","EventAdmin","AppRoute","roles","exact","path","render","App","CssBaseline","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4043a661.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport queryString from 'query-string';\r\n// const BASE_URL_LOCAL = 'http://localhost:8000/api';\r\nconst PRODUCT_URL = 'https://api-mcs-manager.herokuapp.com/api';\r\nconst callApi = axios.create({\r\n\tbaseURL: PRODUCT_URL,\r\n\theaders: {\r\n\t\t'Content-type': 'application/json',\r\n\t},\r\n\tparamsSerializer: (params) => queryString.stringify(params),\r\n});\r\n\r\ncallApi.interceptors.response.use(\r\n\tfunction (response) {\r\n\t\tif (response && response.data) {\r\n\t\t\treturn response.data;\r\n\t\t}\r\n\t\treturn response;\r\n\t},\r\n\tfunction (error) {\r\n\t\treturn Promise.reject(error.response);\r\n\t},\r\n);\r\n\r\nexport default callApi;\r\n","import callApi from './callApi';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nexport const getInfo = () =>\r\n\tcallApi.get('/user/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updateInfo = (data) =>\r\n\tcallApi.patch('/user/update', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updatePassword = (data) =>\r\n\tcallApi.patch('/user/changePassword', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n//This route for admin and manager\r\nexport const getAllVisisters = () =>\r\n\tcallApi.get('/admin/visiters/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllAgents = () =>\r\n\tcallApi.get('/admin/agents/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllUsers = () =>\r\n\tcallApi.get('/admin/users/', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const setAgent = (id) =>\r\n\tcallApi.put(\r\n\t\t`/admin/setAgent/${id}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\nexport const setManager = (id) =>\r\n\tcallApi.put(\r\n\t\t`/admin/setManager/${id}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const setVisiter = (id) =>\r\n\tcallApi.put(\r\n\t\t`/admin/setVisiter/${id}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const getGroup = () =>\r\n\tcallApi.get('/user/group', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const createGroup = (data) =>\r\n\tcallApi.post('/user/group', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const deleteGroup = (id) =>\r\n\tcallApi.delete(`/user/group/${id}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const addToGroup = (id, data) =>\r\n\tcallApi.put(`/user/group/${id}`, data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getEventReg = () =>\r\n\tcallApi.get(`/user/event`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const addToGroupByFile = (id, data) =>\r\n\tcallApi.post(`/user/group/${id}/addByFile`, data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n","import { createContext, useEffect, useState } from 'react';\r\nimport { getInfo } from '../api/userApi';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = ({ children }) => {\r\n\tconst [user, setUser] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tgetInfo().then((res) => {\r\n\t\t\tsetUser(res.user);\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn <UserContext.Provider value={[user, setUser]}>{children}</UserContext.Provider>;\r\n};\r\n\r\nexport default UserContextProvider;\r\n","import ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport EventAvailableIcon from '@mui/icons-material/EventAvailable';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\nimport TodayIcon from '@mui/icons-material/Today';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport QrCodeIcon from '@mui/icons-material/QrCode';\r\nimport AnalyticsIcon from '@mui/icons-material/Analytics';\r\nimport GroupIcon from '@mui/icons-material/Group';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../../config/UserContext';\r\n\r\nfunction LeftList() {\r\n\tconst [user] = useContext(UserContext);\r\n\tconst location = useLocation();\r\n\tconst checkRoles = (...role) => {\r\n\t\treturn role.includes(user.role) ? true : false;\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/event\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Quản lý sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Manager', 'Agent') && (\r\n\t\t\t\t<NavLink to=\"/agent\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/agent'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<QrCodeIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"MCS Agent\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/report\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/report'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AnalyticsIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Báo cáo sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Visiter') && (\r\n\t\t\t\t<NavLink to=\"/list-event\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/list-event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<EventIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Danh sách sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Visiter') && (\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tto=\"/list-reg-event\"\r\n\t\t\t\t\tstyle={{ textDecoration: 'none', color: '#000000DE' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/list-reg-event'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<EventAvailableIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Sự kiện đã đăng ký\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\r\n\t\t\t{checkRoles('Admin', 'Manager') && (\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tto=\"/visiter-manager\"\r\n\t\t\t\t\tstyle={{ textDecoration: 'none', color: '#000000DE' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/visiter-manager'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AdminPanelSettingsIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Quản lý người dùng\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\t\t\t{checkRoles('Admin') && (\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tto=\"/event-admin\"\r\n\t\t\t\t\tstyle={{ textDecoration: 'none', color: '#000000DE' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/event-admin'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<TodayIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Tất cả sự kiện\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\t\t\t{checkRoles('Manager') && (\r\n\t\t\t\t<NavLink to=\"/group-visiter\" style={{ textDecoration: 'none', color: '#000000DE' }}>\r\n\t\t\t\t\t<ListItem button selected={location.pathname === '/group-visiter'}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<GroupIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary=\"Quản lý nhóm\" />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default LeftList;\r\n","import { styled } from '@mui/material/styles';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport LeftList from './LeftList';\r\nimport { Divider, List, ListItemButton, ListItemIcon, ListItemText } from '@mui/material';\r\nimport MuiDrawer from '@mui/material/Drawer';\r\nimport MuiAppBar from '@mui/material/AppBar';\r\nimport { useContext, useState } from 'react';\r\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { UserContext } from '../../config/UserContext';\r\nconst drawerWidth = 240;\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n\tshouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n\tzIndex: theme.zIndex.drawer + 1,\r\n\ttransition: theme.transitions.create(['width', 'margin'], {\r\n\t\teasing: theme.transitions.easing.sharp,\r\n\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t}),\r\n\t...(open && {\r\n\t\tmarginLeft: drawerWidth,\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\r\n\t\ttransition: theme.transitions.create(['width', 'margin'], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t}),\r\n}));\r\n\r\nconst Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(\r\n\t({ theme, open }) => ({\r\n\t\t'& .MuiDrawer-paper': {\r\n\t\t\tposition: 'relative',\r\n\t\t\twhiteSpace: 'nowrap',\r\n\t\t\twidth: drawerWidth,\r\n\t\t\ttransition: theme.transitions.create('width', {\r\n\t\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t\t}),\r\n\t\t\tboxSizing: 'border-box',\r\n\t\t\t...(!open && {\r\n\t\t\t\toverflowX: 'hidden',\r\n\t\t\t\ttransition: theme.transitions.create('width', {\r\n\t\t\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\t\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t\t\t\t}),\r\n\t\t\t\twidth: theme.spacing(7),\r\n\t\t\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\t\t\twidth: theme.spacing(9),\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t},\r\n\t}),\r\n);\r\n\r\nfunction NavLeft() {\r\n\tconst [open, setOpen] = useState(true);\r\n\tconst toggleDrawer = () => {\r\n\t\tsetOpen(!open);\r\n\t};\r\n\r\n\tconst [user] = useContext(UserContext);\r\n\tconst logoutHandle = () => {\r\n\t\tlocalStorage.removeItem('token');\r\n\t\twindow.location = '/';\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AppBar position=\"absolute\" open={open}>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tpr: '24px',\r\n\t\t\t\t\t\tminHeight: '64px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\t\t\tonClick={toggleDrawer}\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tmarginRight: '36px',\r\n\t\t\t\t\t\t\t...(open && { display: 'none' }),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\tsx={{ flexGrow: 1 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tXin chào, {user.fullName}!\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Drawer variant=\"permanent\" open={open}>\r\n\t\t\t\t<Toolbar\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\tpx: [1],\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton onClick={toggleDrawer}>\r\n\t\t\t\t\t\t<ChevronLeftIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t\t<List sx={{ backgroundColor: 'rgb(25 118 210)' }}>\r\n\t\t\t\t\t<NavLink to=\"/account\" style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t<ListItemButton>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon sx={{ color: 'white' }} />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={'Thông tin ' + user.role}\r\n\t\t\t\t\t\t\t\tsx={{ fontWeight: 'bolder', color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<ListItemButton onClick={logoutHandle}>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<LogoutIcon sx={{ color: 'white' }} />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary=\"Đăng xuất\"\r\n\t\t\t\t\t\t\tsx={{ fontWeight: 'bolder', color: 'white' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t</List>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<LeftList />\r\n\t\t\t\t</List>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default NavLeft;\r\n","import Box from '@mui/material/Box';\r\nimport NavLeft from '../components/Dashboard/NavLeft';\r\n\r\nexport default function Dashboard({ children }) {\r\n\treturn (\r\n\t\t<Box sx={{ display: 'flex' }}>\r\n\t\t\t<NavLeft />\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Typography } from '@mui/material';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" my={5}>\r\n\t\t\t{'Copyright © '}\r\n\t\t\t{'Dinh Chung Nam '}\r\n\t\t\t{new Date().getFullYear()}\r\n\t\t\t{'.'}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nimport DashBoard from '../pages/Dashboard';\r\nimport Footer from '../components/Footer';\r\n\r\nfunction PrivateRoute({ auth, component: Component, ...rest }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => {\r\n\t\t\t\treturn auth !== null ? (\r\n\t\t\t\t\t<DashBoard>\r\n\t\t\t\t\t\t<Component {...props}>\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</Component>\r\n\t\t\t\t\t</DashBoard>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import Footer from '../components/Footer';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction PublicRoute({ auth, component: Component, ...rest }) {\r\n\tconst pathRedirect = (role) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Manager':\r\n\t\t\t\treturn '/event';\r\n\t\t\tcase 'Agent':\r\n\t\t\t\treturn '/agent';\r\n\t\t\tcase 'Visiter':\r\n\t\t\t\treturn '/list-event';\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn '/visiter-manager';\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => {\r\n\t\t\t\treturn auth !== null ? (\r\n\t\t\t\t\t<Redirect to={pathRedirect(auth.role)} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PublicRoute;\r\n","import callApi from './callApi';\r\n\r\nconst token = localStorage.getItem('token');\r\n\r\nexport const getOwnerEvent = () =>\r\n\tcallApi.get('/manager/event', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getAllEvents = () =>\r\n\tcallApi.get('/event', {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const addNewEvent = (data) =>\r\n\tcallApi.post('/manager/event', data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const updateEvent = (id, data) =>\r\n\tcallApi.patch(`/manager/event/${id}`, data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const deleteEvent = (id) =>\r\n\tcallApi.delete(`/manager/event/${id}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getQRCode = (id, expire) =>\r\n\tcallApi.get(`/event/${id}/qrcode`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t\tparams: { expire },\r\n\t});\r\n\r\nexport const addVisiters = (id, data) =>\r\n\tcallApi.patch(\r\n\t\t`/manager/event/${id}/addVisiters`,\r\n\t\t{ listVisiter: data },\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const addByGroup = (idEvent, idGroup) =>\r\n\tcallApi.patch(\r\n\t\t`/manager/event/${idEvent}/addByGroup/${idGroup}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const addByFile = (idEvent, data) =>\r\n\tcallApi.post(`/manager/event/${idEvent}/addByFile`, data, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\nexport const setAgent = (idEvent, idAgent) =>\r\n\tcallApi.put(\r\n\t\t`/manager/event/${idEvent}/setAgent/${idAgent}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const removeAgent = (idEvent, idAgent) =>\r\n\tcallApi.put(\r\n\t\t`/manager/event/${idEvent}/removeAgent/${idAgent}`,\r\n\t\t{},\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t},\r\n\t\t},\r\n\t);\r\n\r\nexport const getReport = (id) =>\r\n\tcallApi.get(`/event/${id}/report`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const getReportFile = (id) =>\r\n\tcallApi.get(`/event/${id}/reportFile`, {\r\n\t\tresponseType: 'arraybuffer',\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const registerToEvent = (idEvent) =>\r\n\tcallApi.get(`/event/${idEvent}/registerToEvent`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const removeToEvent = (idEvent) =>\r\n\tcallApi.get(`/event/${idEvent}/removeToEvent`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n//Admin\r\nexport const getAllEventAdmin = () =>\r\n\tcallApi.get(`/admin/events`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\nexport const deleteEventAdmin = (idEvent) =>\r\n\tcallApi.delete(`/admin/events/${idEvent}/deleteEvent`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n","import { Button, Grid, MenuItem, Modal, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useForm } from 'react-hook-form';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DateTimePicker from '@mui/lab/DateTimePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { useState } from 'react';\r\n\r\nexport default function ModalEditEvent({ event, isOpenEdit, handleCloseEdit, handleUpdateEvent }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [dateModal, setDateModal] = useState(event.dateEvent);\r\n\tconst [typeEvent, setTypeEvent] = useState(event.typeEvent);\r\n\tconst [dateOpenRegModal, setDateOpenRegModal] = useState(event.openReg);\r\n\tconst [dateEndRegModal, setDateEndRegModal] = useState(event.endReg);\r\n\tconst update = (data) => {\r\n\t\thandleCloseEdit();\r\n\t\thandleUpdateEvent(event, data);\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenEdit}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title-edit\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThay đổi sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(update)}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.name ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.name && 'Vui lòng nhập tên sự kiện'}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tên sự kiện*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\tdefaultValue={event.name}\r\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.location ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.location && 'Vui lòng nhập địa điểm tổ chức sự kiện'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa điểm tổ chức*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\tdefaultValue={event.location}\r\n\t\t\t\t\t\t\t\t{...register('location', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={enLocale}>\r\n\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày*\"\r\n\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateModal}\r\n\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\tsetDateModal(new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t\tsetValue('dateEvent', new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.typeEvent ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.typeEvent && 'Vui lòng chọn loại sự kiện'}\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel=\"Loại sự kiện*\"\r\n\t\t\t\t\t\t\t\tvalue={typeEvent}\r\n\t\t\t\t\t\t\t\t{...register('typeEvent', { required: true })}\r\n\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\tsetTypeEvent(event.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'public'}>Sự Kiện Công Khai</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'private'}>Sự Kiện Riêng</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'restricted'}>Sự Kiện Hạn Chế</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{typeEvent === 'restricted' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày mở đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateOpenRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateOpenRegModal(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(newDate.setSeconds(0)),\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'openReg',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(newDate.setSeconds(0)),\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày kết thúc đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateEndRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateEndRegModal(new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('endReg', new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"success\" type=\"submit\">\r\n\t\t\t\t\t\t\tThay đổi\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseEdit}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCheckbox,\r\n\tFab,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tListItem,\r\n\tListItemButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tRadio,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { debounce } from 'throttle-debounce';\r\nimport Tab from '@mui/material/Tab';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nexport default function ModalAddVisiter({\r\n\tevent,\r\n\tusers,\r\n\tgroupVisiter,\r\n\tisOpenAddVisiter,\r\n\thandleCloseAddVisiter,\r\n\thandleAddVisiter,\r\n\thandleAddByGroup,\r\n\thandleAddByFile,\r\n}) {\r\n\tconst [checked, setChecked] = useState(\r\n\t\tevent.listVisitersCheckin.reduce((prevUser, curUser) => {\r\n\t\t\tprevUser.push(curUser.visiter._id);\r\n\t\t\treturn prevUser;\r\n\t\t}, []),\r\n\t);\r\n\tconst [checkedGroup, setCheckedGroup] = useState();\r\n\tconst [tabChange, setTabChange] = useState('1');\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst [searchFillterGroup, setSearchFillterGroup] = useState('');\r\n\tconst [file, setFile] = useState();\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tconst handleFillterGroup = (e) => setSearchFillterGroup(e.target.value);\r\n\tconst handleFillterGroupDebounce = debounce(500, handleFillterGroup);\r\n\tconst handleToggle = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [...checked];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tnewChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\r\n\t\tsetChecked(newChecked);\r\n\t};\r\n\tconst handleGroupToggle = (value) => () => {\r\n\t\tsetCheckedGroup(value);\r\n\t};\r\n\r\n\tconst handleTabChange = (event, newValue) => {\r\n\t\tsetTabChange(newValue);\r\n\t};\r\n\tconst handleChangeFile = (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tsetFile(file);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenAddVisiter}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 250px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Người Tham Dự\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box sx={{ width: '100%' }}>\r\n\t\t\t\t\t<TabContext value={tabChange} sx={{ width: '100%' }}>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<TabList onChange={handleTabChange} centered>\r\n\t\t\t\t\t\t\t\t<Tab label=\"Thêm bằng username\" value=\"1\" sx={{ width: '50%' }} />\r\n\t\t\t\t\t\t\t\t<Tab label=\"Thêm bằng danh sách\" value=\"2\" sx={{ width: '50%' }} />\r\n\t\t\t\t\t\t\t</TabList>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<TabPanel value=\"1\">\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\tp: '2px 4px',\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tsx={{ p: '10px' }}\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"search\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst labelId = `checkbox-list-label-${user._id}`;\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItem key={user._id} disablePadding>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trole={undefined}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleToggle(user._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked.indexOf(user._id) !== -1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'aria-labelledby': labelId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={labelId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#0000FF',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#2e7d32',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleCloseAddVisiter();\r\n\t\t\t\t\t\t\t\t\t\t\thandleAddVisiter(event, checked);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleCloseAddVisiter}\r\n\t\t\t\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t<TabPanel value=\"2\">\r\n\t\t\t\t\t\t\t<Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\tp: '2px 4px',\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t\t\t\tmb: 1,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm nhóm người dùng\"\r\n\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t'aria-label': 'Tìm kiếm nhóm người dùng',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleFillterGroupDebounce}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tsx={{ p: '10px' }}\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"search\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t<Box sx={{ boxShadow: 2, mb: 1, ml: 2 }}>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"upload-photo\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"upload-photo\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"upload-photo\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\taccept=\".xlsx\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChangeFile}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"add\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"extended\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<AddIcon /> Upload File\r\n\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ ml: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{file?.name}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 'calc(100vh - 600px)',\r\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{groupVisiter\r\n\t\t\t\t\t\t\t\t\t\t\t.filter((group) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup.groupName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.match(searchFillterGroup.trim().toLowerCase()),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.map((group) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst labelId = `checkbox-list-label-${group._id}`;\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem key={group._id} disablePadding>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trole={undefined}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleGroupToggle(group._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Radio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckedGroup === group._id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'aria-labelledby': labelId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={labelId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#0000FF',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTên nhóm:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{group.groupName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#2e7d32',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSố lượng thành\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{group.users.length}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleCloseAddVisiter();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!file) handleAddByGroup(event, checkedGroup);\r\n\t\t\t\t\t\t\t\t\t\t\t\telse handleAddByFile(event, file);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleCloseAddVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t</TabContext>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport ModalEditEvent from './ModalEditEvent';\r\nimport { useState } from 'react';\r\nimport ModalAddVisiter from './ModalAddVisiter';\r\nexport default function RowEvent({\r\n\tevent,\r\n\tusers,\r\n\tgroupVisiter,\r\n\thandleDeleteEvent,\r\n\thandleUpdateEvent,\r\n\thandleAddVisiter,\r\n\thandleAddByGroup,\r\n\thandleAddByFile,\r\n}) {\r\n\tconst [modalEditEvent, setModalEditEvent] = useState(false);\r\n\tconst [modalAddVisiter, setModalAddVisiter] = useState(false);\r\n\tconst handleOpenModalEditEvent = () => setModalEditEvent(true);\r\n\tconst handleCloseModalEditEvent = () => {\r\n\t\tsetModalEditEvent(false);\r\n\t};\r\n\tconst handleOpenModalAddVisiter = () => setModalAddVisiter(true);\r\n\tconst handleCloseModalAddVisiter = () => {\r\n\t\tsetModalAddVisiter(false);\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{new Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t':' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleDateString('vi-VN')}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'private' && 'Sự kiện riêng'}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.openReg\r\n\t\t\t\t\t? new Date(event.openReg).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t  ':' +\r\n\t\t\t\t\t  new Date(event.openReg).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t  '\\n' +\r\n\t\t\t\t\t  new Date(event.openReg).toLocaleDateString('vi-VN')\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.endReg\r\n\t\t\t\t\t? new Date(event.endReg).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t  ':' +\r\n\t\t\t\t\t  new Date(event.endReg).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t  '\\n' +\r\n\t\t\t\t\t  new Date(event.endReg).toLocaleDateString('vi-VN')\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false).length\r\n\t\t\t\t\t: 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t{event.typeEvent !== 'public' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tonClick={handleOpenModalAddVisiter}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{modalAddVisiter && (\r\n\t\t\t\t\t\t\t<ModalAddVisiter\r\n\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\tgroupVisiter={groupVisiter}\r\n\t\t\t\t\t\t\t\tisOpenAddVisiter={modalAddVisiter}\r\n\t\t\t\t\t\t\t\thandleCloseAddVisiter={handleCloseModalAddVisiter}\r\n\t\t\t\t\t\t\t\thandleAddVisiter={handleAddVisiter}\r\n\t\t\t\t\t\t\t\thandleAddByGroup={handleAddByGroup}\r\n\t\t\t\t\t\t\t\thandleAddByFile={handleAddByFile}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={handleOpenModalEditEvent}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalEditEvent && (\r\n\t\t\t\t\t<ModalEditEvent\r\n\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\tisOpenEdit={modalEditEvent}\r\n\t\t\t\t\t\thandleCloseEdit={handleCloseModalEditEvent}\r\n\t\t\t\t\t\thandleUpdateEvent={handleUpdateEvent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleDeleteEvent(event);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteForeverIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tFormLabel,\r\n\tGrid,\r\n\tMenuItem,\r\n\tModal,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tTextField,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Swal from 'sweetalert2';\r\nimport { useForm } from 'react-hook-form';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DateTimePicker from '@mui/lab/DateTimePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { useState } from 'react';\r\nimport { addNewEvent } from '../../../../api/eventApi';\r\n\r\nexport default function ModalAddEvent({ isOpen, handleClose, addNewEventState }) {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm({ defaultValues: { repeatEvent: 0, dateEvent: new Date() } });\r\n\tconst [dateModal, setDateModal] = useState(Date.now());\r\n\tconst [repeatEvent, setRepeatEvent] = useState(0);\r\n\tconst [dateOpenRegModal, setDateOpenRegModal] = useState(Date.now());\r\n\tconst [dateEndRegModal, setDateEndRegModal] = useState(Date.now());\r\n\tconst [typeEvent, setTypeEvent] = useState('');\r\n\tconst handleAddNewEvent = (data) => {\r\n\t\taddNewEvent(data)\r\n\t\t\t.then((res) => {\r\n\t\t\t\taddNewEventState(res.event);\r\n\t\t\t\thandleClose();\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Thêm thành công ${res.event.name || res.event.length} sự kiện mới`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\thandleClose();\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: 'Có lỗi xảy ra vui lòng thử lại',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpen}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100% - 200px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Sự Kiện Mới\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(handleAddNewEvent)}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.name ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.name && 'Vui lòng nhập tên sự kiện'}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tên sự kiện*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.location ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.location && 'Vui lòng nhập địa điểm tổ chức sự kiện'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa điểm tổ chức*\"\r\n\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t{...register('location', { required: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={enLocale}>\r\n\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày tổ chức sự kiện*\"\r\n\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\tvalue={dateModal}\r\n\t\t\t\t\t\t\t\t\tdefaultCalendarMonth\r\n\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\tsetDateModal(new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t\tsetValue('dateEvent', new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={errors.typeEvent ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.typeEvent && 'Vui lòng chọn loại sự kiện'}\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel=\"Loại sự kiện*\"\r\n\t\t\t\t\t\t\t\tvalue={typeEvent}\r\n\t\t\t\t\t\t\t\t{...register('typeEvent', { required: true })}\r\n\t\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\t\tsetTypeEvent(event.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'public'}>Sự Kiện Công Khai</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'private'}>Sự Kiện Riêng</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'restricted'}>Sự Kiện Hạn Chế</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t{typeEvent === 'restricted' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày mở đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateOpenRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateOpenRegModal(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(newDate.setSeconds(0)),\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'openReg',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(newDate.setSeconds(0)),\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày kết thúc đăng ký*\"\r\n\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={dateEndRegModal}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newDate) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDateEndRegModal(new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue('endReg', new Date(newDate.setSeconds(0)));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t<FormLabel component=\"legend\">Lặp lại: </FormLabel>\r\n\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\trow\r\n\t\t\t\t\t\t\t\t\taria-label=\"repeat-event\"\r\n\t\t\t\t\t\t\t\t\tname=\"controlled-radio-buttons-reapeat-event\"\r\n\t\t\t\t\t\t\t\t\tvalue={repeatEvent}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetRepeatEvent(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetValue('repeatEvent', e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue={1}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Hằng ngày\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue={7}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Hằng tuần\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue={30}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Hằng tháng\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel value={0} control={<Radio />} label=\"None\" />\r\n\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"success\" type=\"submit\">\r\n\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { addByGroup, addByFile, addVisiters, getOwnerEvent } from '../../../../api/eventApi';\r\nimport { deleteEvent, updateEvent } from '../../../../api/eventApi';\r\nimport { getAllVisisters, getGroup } from '../../../../api/userApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport RowEvent from './RowEvent';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport ModalAddEvent from './ModalAddEvent';\r\nimport Swal from 'sweetalert2';\r\nfunction EventManagerComponent() {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tconst [modalAddEvent, setModalAddEvent] = useState(false);\r\n\tconst [listUsers, setListUsers] = useState([]);\r\n\tconst [groupVisiter, setGroupVisiter] = useState([]);\r\n\tconst handleOpenModalAddEvent = () => setModalAddEvent(true);\r\n\tconst handleCloseModalAddEvent = () => setModalAddEvent(false);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý sự kiện';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\tgetAllVisisters().then((res) => setListUsers(res.users));\r\n\t\tgetGroup().then((res) => setGroupVisiter(res.groups));\r\n\t\treturn () => {\r\n\t\t\tsetGroupVisiter([]);\r\n\t\t\tsetListUsers([]);\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse {\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\tsetPage(0);\r\n\t\t}\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst addNewEventState = (event) => {\r\n\t\tif (typeof event === typeof []) {\r\n\t\t\tsetEvents(events.concat(event));\r\n\t\t} else setEvents([...events, event]);\r\n\t};\r\n\tconst handleUpdateEvent = (eventUpdate, dataUpdate) => {\r\n\t\tupdateEvent(eventUpdate._id, dataUpdate)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thay đổi thành công sự kiện ${eventUpdate.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thay đổi sự kiện ${eventUpdate.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleDeleteEvent = (eventDelete) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Bạn có chắc muốn xóa sự kiện này ?',\r\n\t\t\ttext: 'Hành động này không thể quay lại, bạn có chắc không?',\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#1976d2',\r\n\t\t\tcancelButtonColor: '#d32f2f',\r\n\t\t\tconfirmButtonText: 'Đồng ý',\r\n\t\t\tcancelButtonText: 'Hủy',\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tdeleteEvent(eventDelete._id)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: `Đã xóa sự kiện ${eventDelete.name}`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi xóa sự kiện ${eventDelete.name}! Vui lòng thử lại`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleAddVisiter = (eventUpdate, listVisiter = []) => {\r\n\t\taddVisiters(eventUpdate._id, listVisiter)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle:\r\n\t\t\t\t\t\tlistVisiter.length > 0\r\n\t\t\t\t\t\t\t? `Đã thêm thành công ${listVisiter.length} người vào sự kiện ${eventUpdate.name}`\r\n\t\t\t\t\t\t\t: `Đã xóa hết người tham gia sự kiện`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thêm người tham dự sự kiện ${eventUpdate.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\tconst handleAddByGroup = (idEvent, idGroup) => {\r\n\t\taddByGroup(idEvent._id, idGroup)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thêm thành công ${res.event.listVisitersCheckin.length} người vào sự kiện ${res.event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thêm người tham dự sự kiện ${idEvent.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleAddByFile = (event, file) => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('file', file);\r\n\t\taddByFile(event._id, formData)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã thêm thành công ${res.event.listVisitersCheckin.length} người vào sự kiện ${res.event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thêm người tham dự sự kiện ${event.name}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, thay đổi, thêm mới, xóa sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xxl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={1} align=\"left\" sx={{ p: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleOpenModalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tThêm sự kiện mới\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{modalAddEvent && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ModalAddEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpen={modalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose={handleCloseModalAddEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddNewEventState={addNewEventState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mở đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kết thúc đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '260px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers={listUsers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupVisiter={groupVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteEvent={handleDeleteEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleUpdateEvent={handleUpdateEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddVisiter={handleAddVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddByGroup={handleAddByGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddByFile={handleAddByFile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default EventManagerComponent;\r\n","import { Box } from '@mui/system';\r\nimport { Button, Container, Grid, Paper, Toolbar } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useContext, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport { updateInfo, updatePassword } from '../../../api/userApi';\r\nimport { UserContext } from '../../../config/UserContext';\r\nimport Swal from 'sweetalert2';\r\nfunction AccountComponent() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetError,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [user, setUser] = useContext(UserContext);\r\n\tconst submitForm = (data) => {\r\n\t\tconst { currentPassword, newPassword, ...newInfo } = data;\r\n\t\tupdateInfo(newInfo).then((res) => {\r\n\t\t\tsetUser(res.user);\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'middle',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: 'Thay đổi thông tin thành công',\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst changePassword = (data) => {\r\n\t\tconst { currentPassword, newPassword } = data;\r\n\t\tupdatePassword({ currentPassword, newPassword })\r\n\t\t\t.then(() => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'middle',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: 'Thay đổi mật khẩu thành công. Vui lòng đăng nhập lại.',\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location = '/';\r\n\t\t\t\t}, 2000);\r\n\t\t\t})\r\n\t\t\t.catch((err) => err.status === 401 && setError('currentPassword'));\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Thông tin tài khoản';\r\n\t}, []);\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\t\tml: 2,\r\n\t\t\t\t\t\tmr: 2,\r\n\t\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\t\tThông tin người dùng\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\t\tHoàn thiện hoặc thay đổi thông tin\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\tsx={{ mr: 10, ml: 10, mt: 2 }}\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(submitForm)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Họ và tên\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('fullName')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.fullName}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('phone')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.phone}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} sm={12} lg={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('address')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.address}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Đơn vị công tác\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('workUnit')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.workUnit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={8} md={8} lg={8}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ đơn vị công tác\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('addressUnit')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.addressUnit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={6} md={12} sm={12} lg={6}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mã số cán bộ\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('idCB')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.idCB}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={6} md={12} sm={12} lg={6}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mã số sinh viên\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('idSV')}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.idSV}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={user?.username}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tsx={{ mt: 6, mb: 2 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLưu thông tin\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\t\t\tsx={{ mr: 10, ml: 10, mt: 5 }}\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(changePassword)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={3} display=\"flex\" height=\"150px\">\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password hiện tại\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('currentPassword')}\r\n\t\t\t\t\t\t\t\t\t\t\terror={errors.currentPassword ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrors.currentPassword &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Password hiện tại không chính xác'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password mới\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('newPassword')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} md={12} sm={12} lg={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\">\r\n\t\t\t\t\t\t\t\t\t\t\tThay đổi password\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default AccountComponent;\r\n","export default __webpack_public_path__ + \"static/media/logoSmall.a4327cd4.png\";","import callApi from './callApi';\r\n\r\nexport const signIn = (data) => callApi.post('/auth/signin', data);\r\nexport const signUp = (data) => callApi.post('/auth/signup', data);\r\n","import { Button, Container, Grid, Link, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Logo from '../../assets/images/logoSmall.png';\r\nimport { useForm } from 'react-hook-form';\r\nimport { signIn } from '../../api/authApi';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction SignIn() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [err, setErr] = useState('');\r\n\r\n\tuseEffect(() => (document.title = 'Đăng nhập'), []);\r\n\tconst signInSubmit = async (data) => {\r\n\t\ttry {\r\n\t\t\tconst { username, password } = data;\r\n\t\t\tsetErr('');\r\n\t\t\tconst token = await signIn({username: username.trim(), password});\r\n\t\t\tif (token) {\r\n\t\t\t\tlocalStorage.setItem('token', token.token);\r\n\t\t\t\twindow.location = '/event';\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error) setErr('Tài khoản hoặc mật khẩu không đúng!');\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmarginTop: 8,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt={'Logo'}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: '100px',\r\n\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tmarginBottom: '30px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tĐăng nhập\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h6\" color=\"red\" my={2}>\r\n\t\t\t\t\t{err ? err : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tonSubmit={handleSubmit(signInSubmit)}\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t{...register('username', { required: true })}\r\n\t\t\t\t\t\terror={errors.username ? true : false}\r\n\t\t\t\t\t\thelperText={errors.username && 'Username không được để trống'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t{...register('password', { required: true })}\r\n\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\thelperText={errors.password && 'Password không được để trống'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\r\n\t\t\t\t\t\tĐăng nhập\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Link href=\"/signup\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\t{'Bạn chưa có tài khoản? Đăng ký tại đây'}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default SignIn;\r\n","import { Button, Container, Grid, Link, TextField, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport Logo from '../../assets/images/logoSmall.png';\r\nimport { useForm } from 'react-hook-form';\r\nimport { signUp } from '../../api/authApi';\r\nimport { useState, useEffect } from 'react';\r\nfunction SignUp() {\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tsetError,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [err, setErr] = useState('');\r\n\tuseEffect(() => (document.title = 'Đăng ký'), []);\r\n\r\n\tconst submitSignUp = async (data) => {\r\n\t\ttry {\r\n\t\t\tconst { confirmPassword, ...signUpData } = data;\r\n\t\t\tif (confirmPassword !== signUpData.password) setError('confirmPassword');\r\n\t\t\telse {\r\n\t\t\t\tconst token = await signUp(signUpData);\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\tlocalStorage.setItem('token', token.token);\r\n\t\t\t\t\twindow.location = '/event';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error.status === 400 && error.data.message.startsWith('Duplicate fields')) {\r\n\t\t\t\tlet errStr = error.data.message\r\n\t\t\t\t\t.split(',')[0]\r\n\t\t\t\t\t.replace('Duplicate fields: ', 'Đã có người sử dụng ');\r\n\t\t\t\terrStr += ' này!';\r\n\t\t\t\tsetErr(errStr);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tmarginTop: 8,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt={'Logo'}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: '100px',\r\n\t\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tmarginBottom: '30px',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tĐăng ký\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h6\" color=\"red\" my={2}>\r\n\t\t\t\t\t{err ? err : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tonSubmit={handleSubmit(submitSignUp)}\r\n\t\t\t\t\tsx={{ mt: 3 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t{...register('username', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 4,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 20,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.username ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.username &&\r\n\t\t\t\t\t\t\t\t\t'Username không được để trống và có ít nhất 4 ký tự'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t{...register('password', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 8,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 32,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.password &&\r\n\t\t\t\t\t\t\t\t\t'Password không được để trống và có ít nhất 8 ký tự'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tname=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\tlabel=\"Nhập lại password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t{...register('confirmPassword', {\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tminLength: 8,\r\n\t\t\t\t\t\t\t\t\tmaxLength: 32,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terror={errors.confirmPassword ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrors.confirmPassword &&\r\n\t\t\t\t\t\t\t\t\t'Password không chính xác vui lòng nhập lại'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa chỉ email\"\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t{...register('email', { required: true })}\r\n\t\t\t\t\t\t\t\terror={errors.email ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.email && 'Email không được để trống'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"fullName\"\r\n\t\t\t\t\t\t\t\tlabel=\"Họ và tên\"\r\n\t\t\t\t\t\t\t\tname=\"fullName\"\r\n\t\t\t\t\t\t\t\t{...register('fullName', { required: true })}\r\n\t\t\t\t\t\t\t\terror={errors.fullName ? true : false}\r\n\t\t\t\t\t\t\t\thelperText={errors.fullName && 'Họ và tên không được để trống'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"phone\"\r\n\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\r\n\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t{...register('phone')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"address\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa Chỉ\"\r\n\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t{...register('address')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"workUnit\"\r\n\t\t\t\t\t\t\t\tlabel=\"Đơn vị công tác\"\r\n\t\t\t\t\t\t\t\tname=\"workUnit\"\r\n\t\t\t\t\t\t\t\t{...register('workUnit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"addressUnit\"\r\n\t\t\t\t\t\t\t\tlabel=\"Địa chỉ đơn vị công tác\"\r\n\t\t\t\t\t\t\t\tname=\"addressUnit\"\r\n\t\t\t\t\t\t\t\t{...register('addressUnit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"idCB\"\r\n\t\t\t\t\t\t\t\tname=\"idCB\"\r\n\t\t\t\t\t\t\t\tlabel=\"Mã số cán bộ\"\r\n\t\t\t\t\t\t\t\t{...register('idCB')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\txs={2}\r\n\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant=\"body2\">Hoặc</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tid=\"idSV\"\r\n\t\t\t\t\t\t\t\tname=\"idSV\"\r\n\t\t\t\t\t\t\t\tlabel=\"Mã số sinh viên\"\r\n\t\t\t\t\t\t\t\t{...register('idSV')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\r\n\t\t\t\t\t\tĐăng ký\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Link href=\"/\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\tBạn đã có tài khoản? Đăng nhập tại đây.\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Container>\r\n\t);\r\n}\r\nexport default SignUp;\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport EventBusyIcon from '@mui/icons-material/EventBusy';\r\nimport EventAvailableIcon from '@mui/icons-material/EventAvailable';\r\nexport default function RowListEvent({ event, user, handleRegisterToEvent, handleRemoveToEvent }) {\r\n\tconst checkReg = () => {\r\n\t\tlet findUser = event.listVisitersCheckin.find((el) => el.visiter === user._id);\r\n\t\tif (findUser && findUser.isCheckin !== true) return true;\r\n\t\treturn false;\r\n\t};\r\n\tconsole.log('------------');\r\n\tconsole.log('open', Date.now() > new Date(event.openReg).getTime());\r\n\tconsole.log('end', Date.now() < new Date(event.endReg).getTime());\r\n\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{new Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t':' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleDateString('vi-VN')}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.openReg\r\n\t\t\t\t\t? new Date(event.openReg).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t  ':' +\r\n\t\t\t\t\t  new Date(event.openReg).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t  '\\n' +\r\n\t\t\t\t\t  new Date(event.openReg).toLocaleDateString('vi-VN')\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.endReg\r\n\t\t\t\t\t? new Date(event.endReg).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t  ':' +\r\n\t\t\t\t\t  new Date(event.endReg).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t  '\\n' +\r\n\t\t\t\t\t  new Date(event.endReg).toLocaleDateString('vi-VN')\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.listVisitersCheckin.filter((el) => el.isCheckin === false).length || 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'restricted' &&\r\n\t\t\t\tDate.now() < new Date(event.dateEvent).getTime() ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{!checkReg() && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tDate.now() > new Date(event.openReg).getTime() &&\r\n\t\t\t\t\t\t\t\t\tDate.now() < new Date(event.endReg).getTime()\r\n\t\t\t\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t\t\t\t: true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={() => handleRegisterToEvent(event)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EventAvailableIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{checkReg() && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleRemoveToEvent(event)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EventBusyIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t'Sự kiện đã kết thúc'\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { getAllEvents } from '../../../../api/eventApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport Swal from 'sweetalert2';\r\nimport RowListEvent from './RowListEvent';\r\nimport { UserContext } from '../../../../config/UserContext';\r\nimport { registerToEvent, removeToEvent } from '../../../../api/eventApi';\r\nexport default function ListEvent({ children }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tconst [user] = useContext(UserContext);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Các sự kiện hiện có';\r\n\t\tgetAllEvents().then((res) => setEvents(res.event));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse {\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\tsetPage(0);\r\n\t\t}\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst handleRegisterToEvent = (event) => {\r\n\t\tregisterToEvent(event._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((el) => el._id === event._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleRemoveToEvent = (event) => {\r\n\t\tremoveToEvent(event._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet eventsCopy = [...events];\r\n\t\t\t\tconst index = events.findIndex((el) => el._id === event._id);\r\n\t\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\t\tsetEvents(eventsCopy);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Đã hủy đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi hủy đăng ký tham gia sự kiện ${event.name}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tDanh sách sự kiện hiện có\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTham gia sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mở đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kết thúc đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đăng ký tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowListEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRegisterToEvent={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRegisterToEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveToEvent={handleRemoveToEvent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, Modal, Paper, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { format } from 'date-fns';\r\n\r\nexport default function ModalQRCode({\r\n\tmodalQRCode,\r\n\thandleCloseModalQRCode,\r\n\tqrCode,\r\n\tqrCodeExpire,\r\n\tevent,\r\n\tgetQRCodeFN,\r\n}) {\r\n\tconst [timeLeft, setTimeLeft] = useState(qrCodeExpire - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst countDown = setInterval(() => {\r\n\t\t\tsetTimeLeft(timeLeft - 1000);\r\n\t\t}, 1000);\r\n\t\treturn () => clearInterval(countDown);\r\n\t}, [timeLeft]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst timeOut = setInterval(() => {\r\n\t\t\tgetQRCodeFN();\r\n\t\t\thandleCloseModalQRCode();\r\n\t\t}, qrCodeExpire - Date.now());\r\n\t\treturn () => clearInterval(timeOut);\r\n\t}, [handleCloseModalQRCode, qrCodeExpire, getQRCodeFN]);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalQRCode}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t\tp: 2,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\theight=\"82%\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box component=\"img\" src={qrCode} alt=\"QR Code\" height=\"100%\" />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\televation={4}\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\tp: 2,\r\n\t\t\t\t\t\tmt: 1,\r\n\t\t\t\t\t\tml: 10,\r\n\t\t\t\t\t\tmr: 10,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Tên sự kiện: </b>\r\n\t\t\t\t\t\t\t{event.name}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Địa điểm: </b>\r\n\t\t\t\t\t\t\t{event.location}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: '#1976d2' }}>Thời gian: </b>\r\n\t\t\t\t\t\t\t{format(new Date(event.dateEvent), 'dd/MM/yyyy')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'black' }}>Hết hạn trong:</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"h4\">\r\n\t\t\t\t\t\t\t<b style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t{Math.floor(timeLeft / 60000)}:\r\n\t\t\t\t\t\t\t\t{(((timeLeft % 60000) / 1000).toFixed(0) < 10 ? '0' : '') +\r\n\t\t\t\t\t\t\t\t\t((timeLeft % 60000) / 1000).toFixed(0)}\r\n\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsx={{ mt: 1 }}\r\n\t\t\t\t\t\t\tonClick={handleCloseModalQRCode}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tKẾT THÚC CHECK-IN\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { debounce } from 'throttle-debounce';\r\nexport default function ModalSetAgent({\r\n\tevent,\r\n\tusers,\r\n\tisOpenSetAgent,\r\n\thandleCloseSetAgent,\r\n\thandleSetAgent,\r\n\thandleRemoveAgent,\r\n}) {\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={isOpenSetAgent}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 300px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Agent cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper\r\n\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\tsx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: '100%' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\t\t\t\tsecondaryAction={\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!event.owner.includes(user._id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent(event._id, user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event.owner.includes(user._id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAgent(event._id, user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{user.username}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#0000FF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b style={{ color: '#2e7d32' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseSetAgent}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow, TextField } from '@mui/material';\r\nimport { useState } from 'react';\r\nimport { getQRCode } from '../../../../api/eventApi';\r\nimport ModalQRCode from './ModalQRCode';\r\nimport Swal from 'sweetalert2';\r\nimport ModalSetAgent from './ModalSetAgent';\r\nexport default function RowAgent({ event, users, handleSetAgent, handleRemoveAgent, isAgent }) {\r\n\tconst [modalQRCode, setModalQRCode] = useState(false);\r\n\tconst [modalSetAgent, setModalSetAgent] = useState(false);\r\n\tconst [qrCode, setQrCode] = useState('');\r\n\tconst [qrCodeExpire, setQrCodeExpire] = useState(0);\r\n\tconst [expire, setExpire] = useState(10);\r\n\tconst handleOpenModalQRCode = () => {\r\n\t\tgetQRCodeFN();\r\n\t};\r\n\tconst handleCloseModalQRCode = () => {\r\n\t\tsetModalQRCode(false);\r\n\t};\r\n\tconst getQRCodeFN = () => {\r\n\t\tgetQRCode(event._id, expire)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetQrCode(res.message.qrcode);\r\n\t\t\t\tsetQrCodeExpire(res.message.expireIn * 1);\r\n\t\t\t\tsetModalQRCode(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetModalQRCode(false);\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Sự kiện ${event.name} chưa bắt đầu!`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleOpenModalSetAgent = () => {\r\n\t\tsetModalSetAgent(true);\r\n\t};\r\n\tconst handleCloseModalSetAgent = () => {\r\n\t\tsetModalSetAgent(false);\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{new Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t':' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleDateString('vi-VN')}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tsx={{ width: '100px' }}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tvalue={expire}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif (e.target.value >= 0) {\r\n\t\t\t\t\t\t\tsetExpire(e.target.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<i>Minute(s)</i>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{!isAgent && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tonClick={handleOpenModalSetAgent}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSET AGENT\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{modalSetAgent && (\r\n\t\t\t\t\t\t\t<ModalSetAgent\r\n\t\t\t\t\t\t\t\tisOpenSetAgent={modalSetAgent}\r\n\t\t\t\t\t\t\t\thandleCloseSetAgent={handleCloseModalSetAgent}\r\n\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\thandleRemoveAgent={handleRemoveAgent}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalQRCode}\r\n\t\t\t\t\tdisabled={new Date(event.dateEvent) > new Date() ? true : false}\r\n\t\t\t\t>\r\n\t\t\t\t\tBẮT ĐẦU CHECK-IN\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalQRCode && (\r\n\t\t\t\t\t<ModalQRCode\r\n\t\t\t\t\t\tmodalQRCode={modalQRCode}\r\n\t\t\t\t\t\thandleCloseModalQRCode={handleCloseModalQRCode}\r\n\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\tqrCode={qrCode}\r\n\t\t\t\t\t\tqrCodeExpire={qrCodeExpire}\r\n\t\t\t\t\t\tgetQRCodeFN={getQRCodeFN}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n\tTableContainer,\r\n\tTable,\r\n\tTableHead,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTablePagination,\r\n\tTableBody,\r\n\tTextField,\r\n} from '@mui/material';\r\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOwnerEvent } from '../../../../api/eventApi';\r\nimport RowAgent from './RowAgent';\r\nimport { getAllAgents } from '../../../../api/userApi';\r\nimport { setAgent, removeAgent } from '../../../../api/eventApi';\r\nexport default function AgentComponent({ isAgent }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [listAgents, setListAgents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Agent';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\tif (!isAgent) {\r\n\t\t\tgetAllAgents().then((res) => setListAgents(res.users));\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetListAgents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, [isAgent]);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse {\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\tsetPage(0);\r\n\t\t}\r\n\t}, [date, events]);\r\n\r\n\tconst handleSetAgent = (idEvent, idAgent) => {\r\n\t\tsetAgent(idEvent, idAgent).then((res) => {\r\n\t\t\tlet eventsCopy = [...events];\r\n\t\t\tconst index = events.findIndex((event) => event._id === idEvent);\r\n\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\tsetEvents(eventsCopy);\r\n\t\t});\r\n\t};\r\n\tconst handleRemoveAgent = (idEvent, idAgent) => {\r\n\t\tremoveAgent(idEvent, idAgent).then((res) => {\r\n\t\t\tlet eventsCopy = [...events];\r\n\t\t\tconst index = events.findIndex((event) => event._id === idEvent);\r\n\t\t\teventsCopy[index] = Object.assign(eventsCopy[index], res.event);\r\n\t\t\tsetEvents(eventsCopy);\r\n\t\t});\r\n\t};\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tAgent\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tPhát QR Code cho sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đặt thời gian hết hạn</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '420px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowAgent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers={listAgents}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAgent={handleRemoveAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisAgent={isAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import {\r\n\tModal,\r\n\tTypography,\r\n\tGrid,\r\n\tTable,\r\n\tTableCell,\r\n\tTableRow,\r\n\tTableContainer,\r\n\tTableHead,\r\n\tTableBody,\r\n\tPaper,\r\n\tButton,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\n\r\nexport default function ModalReport({\r\n\treport,\r\n\tmodalReport,\r\n\thandleCloseModalReport,\r\n\thandleGetReportFile,\r\n}) {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalReport}\r\n\t\t\tonClose={handleCloseModalReport}\r\n\t\t\taria-labelledby=\"modal-modal-title-edit\"\r\n\t\t\taria-describedby=\"modal-modal-description-edit\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: '80%',\r\n\t\t\t\t\theight: '90%',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tBáo cáo sự kiện: {report?.name}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Grid container spacing={3} sx={{ mt: 4, pl: 2, pr: 2 }}>\r\n\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t<TableContainer sx={{ height: '650px' }}>\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tminWidth: 650,\r\n\t\t\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\t\t\tborder: '1px solid rgba(224, 224, 224, 1)',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\taria-label=\"a dense table\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TableHead sx={{ bgcolor: 'yellow' }}>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Họ và tên</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Username</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Thời gian check in</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Thiết bị check in</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Đã check in</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{report.listCheckin?.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow\r\n\t\t\t\t\t\t\t\t\t\t\tkey={item._id}\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t'&:last-child td, &:last-child th': { border: 0 },\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.visiter?.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.visiter?.username}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.timeCheckin\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(item?.timeCheckin).getDate() +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  '/' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  (new Date(item?.timeCheckin).getMonth() + 1) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  '/' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  new Date(item?.timeCheckin).getFullYear()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">{item.imei}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item?.isCheckin ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon sx={{ color: 'blue' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CancelIcon sx={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<b>Tổng số người tham gia:</b> {report.listCheckin.length}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<b>Tổng số người đã check in:</b>{' '}\r\n\t\t\t\t\t\t\t\t{report.listCheckin.filter((item) => item.isCheckin).length}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\tsx={{ mt: 4 }}\r\n\t\t\t\t\t\t\t\tonClick={() => handleGetReportFile()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDOWNLOAD EXCEL\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport { useEffect, useState } from 'react';\r\nimport { getReport, getReportFile } from '../../../../api/eventApi';\r\nimport ModalReport from './ModalReport';\r\nimport { saveAs } from 'file-saver';\r\nexport default function RowReport({ event, user }) {\r\n\tconst [modalReport, setModalReport] = useState(false);\r\n\tconst [report, setReport] = useState(null);\r\n\tconst handleOpenModalReport = () => {\r\n\t\tsetModalReport(true);\r\n\t};\r\n\tconst handleCloseModalReport = () => {\r\n\t\tsetModalReport(false);\r\n\t};\r\n\r\n\tconst handleGetReportFile = async () => {\r\n\t\tconst file = await getReportFile(event._id);\r\n\t\tvar blob = new Blob([file], {\r\n\t\t\ttype: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n\t\t});\r\n\t\tsaveAs(blob, `report-${event.name}.xlsx`);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\treturn () => setReport(null);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetReport(event._id).then((res) => setReport(res.result));\r\n\t}, [event._id]);\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{new Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t':' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleDateString('vi-VN')}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<b style={{ color: 'red', fontSize: '18px' }}>\r\n\t\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false).length\r\n\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t</b>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<b style={{ color: 'red', fontSize: '18px' }}>\r\n\t\t\t\t\t{event.listVisitersCheckin.filter((el) => el.isCheckin === true).length}\r\n\t\t\t\t</b>\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalReport}\r\n\t\t\t\t\tdisabled={Date.now() < new Date(event.dateEvent).getTime()}\r\n\t\t\t\t>\r\n\t\t\t\t\tGET REPORT\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalReport && (\r\n\t\t\t\t\t<ModalReport\r\n\t\t\t\t\t\treport={report}\r\n\t\t\t\t\t\tmodalReport={modalReport}\r\n\t\t\t\t\t\thandleCloseModalReport={handleCloseModalReport}\r\n\t\t\t\t\t\thandleGetReportFile={handleGetReportFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n\tTableContainer,\r\n\tTable,\r\n\tTableHead,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTablePagination,\r\n\tTableBody,\r\n\tTextField,\r\n} from '@mui/material';\r\nimport { DatePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOwnerEvent } from '../../../../api/eventApi';\r\nimport RowReport from './RowReport';\r\nexport default function ReportComponent() {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Report';\r\n\t\tgetOwnerEvent().then((res) => setEvents(res.event));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tReport\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 1}}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 2,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh', marginTop: 5 }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng đăng ký tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng đã check-in</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <RowReport event={event} key={event._id} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\n\r\nexport default function RowVisiter({\r\n\tuser,\r\n\tisAdmin,\r\n\thandleSetAgent,\r\n\thandleSetManager,\r\n\thandleSetVisiter,\r\n}) {\r\n\tconst checkDisabled = () => {\r\n\t\treturn user.role === 'Manager' && !isAdmin;\r\n\t};\r\n\treturn (\r\n\t\t<TableRow hover tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{user.username}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.fullName}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.email}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.phone}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.address}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.workUnit}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{user.addressUnit}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{user.idCB || 'X'}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{user.idSV || 'X'}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{user.role}</TableCell>\r\n\t\t\t<TableCell\r\n\t\t\t\talign=\"center\"\r\n\t\t\t\tsx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\r\n\t\t\t>\r\n\t\t\t\t{user.role !== 'Admin' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={checkDisabled() || user.role === 'Agent'}\r\n\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleSetAgent(user._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAGENT\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\t\tdisabled={!isAdmin || user.role === 'Manager'}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleSetManager(user._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tMANAGER\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={checkDisabled() || user.role === 'Visiter'}\r\n\t\t\t\t\t\t\twidth=\"20%\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleSetVisiter(user._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVISITER\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button disabled fullWidth variant=\"contained\">\r\n\t\t\t\t\t\tADMIN\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tIconButton,\r\n\tInputBase,\r\n\tPaper,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getAllUsers } from '../../../../api/userApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport RowVisiter from './RowVisiter';\r\nimport Swal from 'sweetalert2';\r\nimport { debounce } from 'throttle-debounce';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { setAgent, setManager, setVisiter } from '../../../../api/userApi';\r\nexport default function VisiterManager({ isAdmin }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [listUsers, setListUsers] = useState([]);\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => {\r\n\t\tsetSearchFillter(e.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý người dùng';\r\n\t\tgetAllUsers().then((res) => setListUsers(res.users));\r\n\t\treturn () => {\r\n\t\t\tsetListUsers([]);\r\n\t\t};\r\n\t}, []);\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\tconst handleSetAgent = (idUser) => {\r\n\t\tsetAgent(idUser).then(() => {\r\n\t\t\tgetAllUsers()\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetListUsers(res.users);\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: `Cấp quyền thành công cho tài khoản`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi cấp quyền cho tài khoản`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n\tconst handleSetManager = (idUser) => {\r\n\t\tsetManager(idUser).then(() => {\r\n\t\t\tgetAllUsers()\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetListUsers(res.users);\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: `Set manager success`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi cấp quyền cho tài khoản`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n\tconst handleSetVisiter = (idUser) => {\r\n\t\tsetVisiter(idUser).then(() => {\r\n\t\t\tgetAllUsers()\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetListUsers(res.users);\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: `Set visiter success`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi cấp quyền cho tài khoản`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý người dùng\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, cấp quyền, xóa tài khoản người dùng\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xxl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tmt: '30px',\r\n\t\t\t\t\t\t\t\t\tmb: '30px',\r\n\t\t\t\t\t\t\t\t\tp: '2px 4px',\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '50px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Username</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Họ và tên</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Email</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '130px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số điện thoại</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa chỉ</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Đơn vị công tác</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa chỉ đơn vị công tác </b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '110px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mã cán bộ</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '120px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mã sinh viên</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '120px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>ROLE</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '400px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{listUsers\r\n\t\t\t\t\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((user) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowVisiter\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={user._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisAdmin={isAdmin}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetAgent={handleSetAgent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetManager={handleSetManager}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetVisiter={handleSetVisiter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={listUsers?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nexport default function NotFoundPage() {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Not Found';\r\n\t}, []);\r\n\tconst styleFourOhFour = {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: '100vw',\r\n\t\theight: '100vh',\r\n\t\tbackground: '#121212',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t};\r\n\r\n\tconst styleBg = {\r\n\t\tbackgroundColor: '#0000ff',\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: '100vw',\r\n\t\theight: '100vh',\r\n\t\tbackgroundSize: 'cover',\r\n\t\tmixBlendMode: 'overlay',\r\n\t};\r\n\r\n\tconst styleCode = {\r\n\t\tfontFamily: 'Alfa Slab One, cursive',\r\n\t\tfontSize: '144px',\r\n\t\theight: '100vh',\r\n\t\tcolor: 'white',\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tbackgorundPosition: 'center',\r\n\t\talignItems: 'center',\r\n\t\tbackgroundSize: 'cover',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexDirection: 'column',\r\n\t\tzIndex: '1',\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"FourOhFour\" style={styleFourOhFour}>\r\n\t\t\t<div className=\"bg\" style={styleBg}></div>\r\n\t\t\t<div className=\"code\" style={styleCode}>\r\n\t\t\t\t404\r\n\t\t\t\t<a href=\"/\" style={{ fontSize: '50px' }}>\r\n\t\t\t\t\tGO HOME\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCheckbox,\r\n\tIconButton,\r\n\tInputBase,\r\n\tList,\r\n\tFab,\r\n\tListItem,\r\n\tListItemButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tModal,\r\n\tPaper,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useState } from 'react';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { debounce } from 'throttle-debounce';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nexport default function ModalAddToGroup({\r\n\tvisiters,\r\n\tgroup,\r\n\tmodalAddToGroup,\r\n\thandleCloseAddToGroup,\r\n\thandleAddToGroup,\r\n\thandleAddToGroupByFile,\r\n}) {\r\n\tconst [checked, setChecked] = useState(\r\n\t\tgroup.users.reduce((prevUser, curUser) => {\r\n\t\t\tprevUser.push(curUser);\r\n\t\t\treturn prevUser;\r\n\t\t}, []),\r\n\t);\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst handleFillter = (e) => setSearchFillter(e.target.value);\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tconst [file, setFile] = useState();\r\n\tconst handleChangeFile = (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tsetFile(file);\r\n\t};\r\n\tconst handleToggle = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [...checked];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tnewChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\r\n\t\tsetChecked(newChecked);\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalAddToGroup}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\theight: 'calc(100vh - 250px)',\r\n\t\t\t\t\tbgcolor: 'white',\r\n\t\t\t\t\tboxShadow: 24,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tbgcolor: 'blue',\r\n\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tid=\"modal-modal-title\"\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tsx={{ fontWeight: 'bolder' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tThêm Vào Nhóm\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box sx={{ width: '100%', p: 2 }}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tboxShadow: 2,\r\n\t\t\t\t\t\t\tmb: 1,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<label htmlFor=\"upload-photo\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\tid=\"upload-photo\"\r\n\t\t\t\t\t\t\t\tname=\"upload-photo\"\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\taccept=\".xlsx\"\r\n\t\t\t\t\t\t\t\tonChange={handleChangeFile}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\taria-label=\"add\"\r\n\t\t\t\t\t\t\t\tvariant=\"extended\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddIcon /> Upload File\r\n\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ ml: 1 }}>\r\n\t\t\t\t\t\t\t\t{file?.name}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tsx={{ ml: 1 }}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleCloseAddToGroup();\r\n\t\t\t\t\t\t\t\tif (file) handleAddToGroupByFile(group, file);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tThêm bằng file\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Paper\r\n\t\t\t\t\t\tcomponent=\"form\"\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: '2px 4px',\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm người dùng\"\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm người dùng' }}\r\n\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\theight: 'calc(100vh - 550px)',\r\n\t\t\t\t\t\t\toverflow: 'scroll',\r\n\t\t\t\t\t\t\tmarginTop: 2,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{visiters\r\n\t\t\t\t\t\t\t.filter((user) => user.username.match(searchFillter))\r\n\t\t\t\t\t\t\t.map((user) => {\r\n\t\t\t\t\t\t\t\tconst labelId = `checkbox-list-label-${user._id}`;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={user._id} disablePadding>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemButton\r\n\t\t\t\t\t\t\t\t\t\t\trole={undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleToggle(user._id)}\r\n\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={checked.indexOf(user._id) !== -1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'aria-labelledby': labelId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={labelId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{user.username}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#0000FF',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHọ và tên:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#2e7d32',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tĐịa chỉ email:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemButton>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tp: 3,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleCloseAddToGroup();\r\n\t\t\t\t\t\t\t\thandleAddToGroup(group, checked);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tThêm\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\tonClick={handleCloseAddToGroup}\r\n\t\t\t\t\t\t\tsx={{ ml: 3 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHủy\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport { useEffect, useState } from 'react';\r\nimport { getAllVisisters } from '../../../../api/userApi';\r\nimport ModalAddToGroup from './ModalAddToGroup';\r\nexport default function RowGroup({\r\n\tgroup,\r\n\thandleDeleteGroup,\r\n\thandleAddToGroup,\r\n\thandleAddToGroupByFile,\r\n}) {\r\n\tconst [modalAddToGroup, setModalAddToGroup] = useState(false);\r\n\tconst [visiters, setVisiters] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllVisisters().then((res) => setVisiters(res.users));\r\n\t\treturn () => {\r\n\t\t\tsetVisiters([]);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst handleOpenModalAddToGroup = () => setModalAddToGroup(true);\r\n\tconst handleCloseModalAddToGroup = () => {\r\n\t\tsetModalAddToGroup(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<TableRow hover tabIndex={-1}>\r\n\t\t\t<TableCell align=\"center\">{group.groupName}</TableCell>\r\n\t\t\t<TableCell align=\"center\">{group.users.length}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleOpenModalAddToGroup}\r\n\t\t\t\t>\r\n\t\t\t\t\tThêm thành viên\r\n\t\t\t\t</Button>\r\n\t\t\t\t{modalAddToGroup && (\r\n\t\t\t\t\t<ModalAddToGroup\r\n\t\t\t\t\t\tmodalAddToGroup={modalAddToGroup}\r\n\t\t\t\t\t\thandleCloseAddToGroup={handleCloseModalAddToGroup}\r\n\t\t\t\t\t\thandleAddToGroup={handleAddToGroup}\r\n\t\t\t\t\t\thandleAddToGroupByFile={handleAddToGroupByFile}\r\n\t\t\t\t\t\tgroup={group}\r\n\t\t\t\t\t\tvisiters={visiters}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={() => handleDeleteGroup(group._id)}\r\n\t\t\t\t>\r\n\t\t\t\t\tXóa nhóm\r\n\t\t\t\t</Button>\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tButton,\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tIconButton,\r\n\tInputBase,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport {\r\n\taddToGroup,\r\n\tcreateGroup,\r\n\tdeleteGroup,\r\n\tgetGroup,\r\n\taddToGroupByFile,\r\n} from '../../../../api/userApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Swal from 'sweetalert2';\r\nimport { debounce } from 'throttle-debounce';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport RowGroup from './RowGroup';\r\n\r\nexport default function GroupVisiter({ isAdmin }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [groups, setGroups] = useState([]);\r\n\tconst [newGroup, setNewGroup] = useState('');\r\n\tconst [searchFillter, setSearchFillter] = useState('');\r\n\tconst [error, setError] = useState('');\r\n\r\n\tconst handleFillter = (e) => {\r\n\t\tsetSearchFillter(e.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\tconst handleFillterDebounce = debounce(500, handleFillter);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý nhóm người dùng';\r\n\t\tgetGroup().then((res) => setGroups(res.groups));\r\n\t\treturn () => {\r\n\t\t\tsetGroups([]);\r\n\t\t};\r\n\t}, []);\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst handleNewGroup = (e) => {\r\n\t\tif (newGroup.trim() === '') {\r\n\t\t\te.preventDefault();\r\n\t\t\tsetError('Tên nhóm không được để trống');\r\n\t\t} else {\r\n\t\t\tcreateGroup({ groupName: newGroup }).then((res) => {\r\n\t\t\t\tsetGroups([...groups, res.group]);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDeleteGroup = (id) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Bạn có chắc muốn xóa nhóm này ?',\r\n\t\t\ttext: 'Hành động này không thể quay lại, bạn có chắc không?',\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#1976d2',\r\n\t\t\tcancelButtonColor: '#d32f2f',\r\n\t\t\tconfirmButtonText: 'Đồng ý',\r\n\t\t\tcancelButtonText: 'Hủy',\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tdeleteGroup(id).then(() => {\r\n\t\t\t\t\tconst newGroups = groups.filter((group) => group._id !== id);\r\n\t\t\t\t\tsetGroups(newGroups);\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\ttitle: `Delete Group success`,\r\n\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleAddToGroup = (group, listVisiter) => {\r\n\t\taddToGroup(group._id, { listVisiter }).then((res) => {\r\n\t\t\tgetGroup().then((res) => setGroups(res.groups));\r\n\t\t\tSwal.fire({\r\n\t\t\t\tposition: 'center',\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: `Thêm thành công visiter vào nhóm ${res.group.groupName}`,\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\ttimer: 2000,\r\n\t\t\t\ttarget: 'body',\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleAddToGroupByFile = (group, file) => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('file', file);\r\n\t\taddToGroupByFile(group._id, formData)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tgetGroup().then((res) => setGroups(res.groups));\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: `Thêm thành công người dùng vào nhóm ${group.groupName}`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: `Có lỗi xảy ra khi thêm người dùng vào nhóm ${group.groupName}! Vui lòng thử lại`,\r\n\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý người dùng\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, cấp quyền, xóa tài khoản người dùng\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xxl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box sx={{ mt: 5, display: 'flex', alignItems: 'center' }}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tlabel=\"Nhập tên nhóm mới\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNewGroup(e.target.value)}\r\n\t\t\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t\t\t\thelperText={error ? error : ''}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tsx={{ ml: '10px', height: '56px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => handleNewGroup(e)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tThêm nhóm mới\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\tmt: '30px',\r\n\t\t\t\t\t\t\t\t\tmb: '30px',\r\n\t\t\t\t\t\t\t\t\tp: '2px 4px',\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\t\t\tsx={{ ml: 1, flex: 1 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Tìm kiếm nhóm\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Tìm kiếm nhóm' }}\r\n\t\t\t\t\t\t\t\t\tonChange={handleFillterDebounce}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\">\r\n\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '30%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên nhóm</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '30%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng thành viên</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '40%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{groups\r\n\t\t\t\t\t\t\t\t\t\t\t.filter((group) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup.groupName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.match(searchFillter.toLowerCase()),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((group) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroup={group}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={group._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteGroup={handleDeleteGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddToGroup={handleAddToGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddToGroupByFile={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddToGroupByFile\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={groups?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { TableCell, TableRow } from '@mui/material';\r\n\r\nexport default function RowListEventReg({ event, user }) {\r\n\tconsole.log(event);\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{' '}\r\n\t\t\t\t{new Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t':' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleDateString('vi-VN')}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'private' && 'Sự kiện riêng '}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{Date.now() > new Date(event.dateEvent).getTime() && 'Đã kết thúc'}\r\n\t\t\t\t{Date.now() < new Date(event.dateEvent).getTime() && 'Sắp diễn ra'}\r\n\t\t\t\t{Date.now() === new Date(event.dateEvent).getTime() && 'Đang diễn ra'}\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport RowListEventReg from './RowListEventReg';\r\nimport { getEventReg } from '../../../../api/userApi';\r\nimport { UserContext } from '../../../../config/UserContext';\r\n\r\nexport default function ListEventReg({ children }) {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\tconst [user] = useContext(UserContext);\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Các sự kiện đã đăng ký';\r\n\t\tgetEventReg().then((res) => setEvents(res.event));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse {\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter(\r\n\t\t\t\t\t(event) =>\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString(),\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\tsetPage(0);\r\n\t\t}\r\n\t}, [date, events]);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tDanh sách sự kiện đã đăng ký\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Trạng thái</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowListEventReg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t\t{children}\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import { Button, TableCell, TableRow } from '@mui/material';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nexport default function RowEvent({ event, handleDeleteEventAdmin }) {\r\n\treturn (\r\n\t\t<TableRow hover role=\"checkbox\" tabIndex={-1}>\r\n\t\t\t<TableCell align=\"left\">{event.name}</TableCell>\r\n\t\t\t<TableCell align=\"left\">{event.location}</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{new Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t':' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t'\\n' +\r\n\t\t\t\t\tnew Date(event.dateEvent).toLocaleDateString('vi-VN')}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent === 'public' && 'Sự kiện công khai'}\r\n\t\t\t\t{event.typeEvent === 'private' && 'Sự kiện riêng'}\r\n\t\t\t\t{event.typeEvent === 'restricted' && 'Sự kiện hạn chế'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.openReg\r\n\t\t\t\t\t? new Date(event.openReg).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t  ':' +\r\n\t\t\t\t\t  new Date(event.openReg).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t  '\\n' +\r\n\t\t\t\t\t  new Date(event.openReg).toLocaleDateString('vi-VN')\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.endReg\r\n\t\t\t\t\t? new Date(event.endReg).toLocaleTimeString('vi-VN').split(':')[0] +\r\n\t\t\t\t\t  ':' +\r\n\t\t\t\t\t  new Date(event.endReg).toLocaleTimeString('vi-VN').split(':')[1] +\r\n\t\t\t\t\t  '\\n' +\r\n\t\t\t\t\t  new Date(event.endReg).toLocaleDateString('vi-VN')\r\n\t\t\t\t\t: ''}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.typeEvent !== 'public'\r\n\t\t\t\t\t? event.listVisitersCheckin.filter((el) => el.isCheckin === false).length\r\n\t\t\t\t\t: 'N/A'}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t{event.owner.find((el) => el.role === 'Manager').username}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tsx={{ ml: 2 }}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleDeleteEventAdmin(event);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteForeverIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t</TableCell>\r\n\t\t</TableRow>\r\n\t);\r\n}\r\n","import {\r\n\tCard,\r\n\tCardContent,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n\tToolbar,\r\n\tTypography,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport { useEffect, useState } from 'react';\r\nimport { getAllEventAdmin, deleteEventAdmin } from '../../../../api/eventApi';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport RowEvent from './RowEvent';\r\nimport enLocale from 'date-fns/locale/en-US';\r\nimport Swal from 'sweetalert2';\r\nfunction EventAdmin() {\r\n\tconst [page, setPage] = useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n\tconst [date, setDate] = useState(null);\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [eventsFilter, setEventsFilter] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = 'Quản lý sự kiện';\r\n\t\tgetAllEventAdmin().then((res) => setEvents(res.events));\r\n\t\treturn () => {\r\n\t\t\tsetEvents([]);\r\n\t\t\tsetEventsFilter([]);\r\n\t\t};\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (date === null) setEventsFilter(events);\r\n\t\telse {\r\n\t\t\tsetEventsFilter(\r\n\t\t\t\tevents.filter((event) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\tnew Date(event.dateEvent).toDateString() === new Date(date).toDateString()\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t\tsetPage(0);\r\n\t\t}\r\n\t}, [date, events]);\r\n\tconsole.log(eventsFilter);\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst handleDeleteEventAdmin = (eventDelete) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Bạn có chắc muốn xóa sự kiện này ?',\r\n\t\t\ttext: 'Hành động này không thể quay lại, bạn có chắc không?',\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#1976d2',\r\n\t\t\tcancelButtonColor: '#d32f2f',\r\n\t\t\tconfirmButtonText: 'Đồng ý',\r\n\t\t\tcancelButtonText: 'Hủy',\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tdeleteEventAdmin(eventDelete._id)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tgetAllEventAdmin().then((res) => setEvents(res.events));\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: `Đã xóa sự kiện ${eventDelete.name}`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\tposition: 'center',\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\ttitle: `Có lỗi xảy ra khi xóa sự kiện ${eventDelete.name}! Vui lòng thử lại`,\r\n\t\t\t\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\t\t\t\ttimer: 2000,\r\n\t\t\t\t\t\t\ttarget: 'body',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tsx={{\r\n\t\t\t\tbackgroundColor: '#f5f5f5',\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Toolbar />\r\n\t\t\t<Card\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tminWidth: 100,\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\ttop: '15px',\r\n\t\t\t\t\tml: 4,\r\n\t\t\t\t\tmr: 4,\r\n\t\t\t\t\tboxShadow: 3,\r\n\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"h5\" component=\"div\" sx={{ color: 'white' }}>\r\n\t\t\t\t\t\tQuản lý sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography sx={{ fontSize: 14 }} color=\"white\" gutterBottom>\r\n\t\t\t\t\t\tTìm kiếm, thay đổi, thêm mới, xóa sự kiện\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t\t<Container maxWidth=\"xxl\" sx={{ mb: 4 }}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12} md={12} lg={12}>\r\n\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tp: 4,\r\n\t\t\t\t\t\t\t\tpt: 3,\r\n\t\t\t\t\t\t\t\tpb: 0,\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TableContainer sx={{ maxHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={7}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LocalizationProvider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateAdapter={AdapterDateFns}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={enLocale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Chọn ngày\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"__/__/____\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDate(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField {...params} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Tên sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Địa điểm tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ngày tổ chức</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Loại sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Mở đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kết thúc đăng ký</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Số lượng tham gia</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Người tạo sự kiện</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976d2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Hành động</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{eventsFilter\r\n\t\t\t\t\t\t\t\t\t\t\t.sort(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(eventA, eventB) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventB.dateEvent) -\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(eventA.dateEvent),\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.slice(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage,\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t?.map((event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RowEvent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent={event}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={event._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteEventAdmin={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteEventAdmin\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t\tcount={eventsFilter?.length}\r\n\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\tonPageChange={handleChangePage}\r\n\t\t\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default EventAdmin;\r\n","import { Route, Switch } from 'react-router';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicRoute from './PublicRoute';\r\nimport EventManagerComponent from '../components/Dashboard/MainContent/EventManager/EventManager';\r\nimport AccountComponent from '../components/Dashboard/MainContent/Account';\r\nimport SignIn from '../pages/Auth/SignIn';\r\nimport SignUp from '../pages/Auth/SignUp';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../config/UserContext';\r\nimport ListEvent from '../components/Dashboard/MainContent/ListEvent/ListEvent';\r\nimport AgentComponent from '../components/Dashboard/MainContent/Agent/Agent';\r\nimport ReportComponent from '../components/Dashboard/MainContent/Report/Report';\r\nimport VisiterManager from '../components/Dashboard/MainContent/VisiterManager/VisiterManager';\r\nimport NotFoundPage from '../pages/NotFoundPage';\r\nimport GroupVisiter from '../components/Dashboard/MainContent/GroupVisiter/GroupVisiter';\r\nimport ListEventReg from '../components/Dashboard/MainContent/ListEventReg/ListEventReg';\r\nimport EventAdmin from '../components/Dashboard/MainContent/EventAdmin/EventAdmin';\r\nfunction AppRoute() {\r\n\tconst [user] = useContext(UserContext);\r\n\tconst checkRoles = (user, ...roles) => {\r\n\t\tif (!user) return null;\r\n\t\treturn roles.includes(user.role) ? user : null;\r\n\t};\r\n\r\n\tconst isAgent = () => {\r\n\t\treturn user.role === 'Agent';\r\n\t};\r\n\tconst isAdmin = () => {\r\n\t\treturn user.role === 'Admin';\r\n\t};\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PublicRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter', 'Admin')}\r\n\t\t\t\tcomponent={SignIn}\r\n\t\t\t/>\r\n\t\t\t<PublicRoute\r\n\t\t\t\texact\r\n\t\t\t\tpath=\"/signup\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter', 'Admin')}\r\n\t\t\t\tcomponent={SignUp}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/account\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent', 'Visiter')}\r\n\t\t\t\tcomponent={AccountComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/event\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={EventManagerComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/agent\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager', 'Agent')}\r\n\t\t\t\tcomponent={() => <AgentComponent isAgent={isAgent()} />}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/report\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={ReportComponent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/list-event\"\r\n\t\t\t\tauth={checkRoles(user, 'Visiter')}\r\n\t\t\t\tcomponent={ListEvent}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/list-reg-event\"\r\n\t\t\t\tauth={checkRoles(user, 'Visiter')}\r\n\t\t\t\tcomponent={ListEventReg}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/visiter-manager\"\r\n\t\t\t\tauth={checkRoles(user, 'Admin', 'Manager')}\r\n\t\t\t\tcomponent={() => <VisiterManager isAdmin={isAdmin()} />}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/event-admin\"\r\n\t\t\t\tauth={checkRoles(user, 'Admin')}\r\n\t\t\t\tcomponent={() => <EventAdmin  />}\r\n\t\t\t/>\r\n\t\t\t<PrivateRoute\r\n\t\t\t\tpath=\"/group-visiter\"\r\n\t\t\t\tauth={checkRoles(user, 'Manager')}\r\n\t\t\t\tcomponent={() => <GroupVisiter />}\r\n\t\t\t/>\r\n\t\t\t<Route path=\"*\" render={() => <NotFoundPage />} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nexport default AppRoute;\r\n","import { CssBaseline } from '@mui/material';\r\nimport UserContextProvider from './config/UserContext';\r\nimport AppRoute from './router/AppRoute';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<UserContextProvider>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<AppRoute />\r\n\t\t</UserContextProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport { BrowserRouter as Router } from 'react-router-dom';\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}